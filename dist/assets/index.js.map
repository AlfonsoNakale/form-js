{"version":3,"file":"index.js","sources":["../../vite/modulepreload-polyfill","../../node_modules/flatpickr/dist/esm/types/options.js","../../node_modules/flatpickr/dist/esm/l10n/default.js","../../node_modules/flatpickr/dist/esm/utils/index.js","../../node_modules/flatpickr/dist/esm/utils/dom.js","../../node_modules/flatpickr/dist/esm/utils/formatting.js","../../node_modules/flatpickr/dist/esm/utils/dates.js","../../node_modules/flatpickr/dist/esm/utils/polyfills.js","../../node_modules/flatpickr/dist/esm/index.js","../../src/modules/displayCalculations.js","../../src/modules/datePickers.js","../../src/modules/extras.js","../../src/modules/calculations.js","../../src/modules/vehicleSelection.js","../../src/modules/apiExchange.js","../../node_modules/choices.js/public/assets/scripts/choices.mjs","../../src/modules/apiChoice.js","../../src/main.js"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","export var HOOKS = [\n    \"onChange\",\n    \"onClose\",\n    \"onDayCreate\",\n    \"onDestroy\",\n    \"onKeyDown\",\n    \"onMonthChange\",\n    \"onOpen\",\n    \"onParseConfig\",\n    \"onReady\",\n    \"onValueUpdate\",\n    \"onYearChange\",\n    \"onPreCalendarPosition\",\n];\nexport var defaults = {\n    _disable: [],\n    allowInput: false,\n    allowInvalidPreload: false,\n    altFormat: \"F j, Y\",\n    altInput: false,\n    altInputClass: \"form-control input\",\n    animate: typeof window === \"object\" &&\n        window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n    ariaDateFormat: \"F j, Y\",\n    autoFillDefaultTime: true,\n    clickOpens: true,\n    closeOnSelect: true,\n    conjunction: \", \",\n    dateFormat: \"Y-m-d\",\n    defaultHour: 12,\n    defaultMinute: 0,\n    defaultSeconds: 0,\n    disable: [],\n    disableMobile: false,\n    enableSeconds: false,\n    enableTime: false,\n    errorHandler: function (err) {\n        return typeof console !== \"undefined\" && console.warn(err);\n    },\n    getWeek: function (givenDate) {\n        var date = new Date(givenDate.getTime());\n        date.setHours(0, 0, 0, 0);\n        date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n        var week1 = new Date(date.getFullYear(), 0, 4);\n        return (1 +\n            Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                3 +\n                ((week1.getDay() + 6) % 7)) /\n                7));\n    },\n    hourIncrement: 1,\n    ignoredFocusElements: [],\n    inline: false,\n    locale: \"default\",\n    minuteIncrement: 5,\n    mode: \"single\",\n    monthSelectorType: \"dropdown\",\n    nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n    noCalendar: false,\n    now: new Date(),\n    onChange: [],\n    onClose: [],\n    onDayCreate: [],\n    onDestroy: [],\n    onKeyDown: [],\n    onMonthChange: [],\n    onOpen: [],\n    onParseConfig: [],\n    onReady: [],\n    onValueUpdate: [],\n    onYearChange: [],\n    onPreCalendarPosition: [],\n    plugins: [],\n    position: \"auto\",\n    positionElement: undefined,\n    prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n    shorthandCurrentMonth: false,\n    showMonths: 1,\n    static: false,\n    time_24hr: false,\n    weekNumbers: false,\n    wrap: false,\n};\n","export var english = {\n    weekdays: {\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n        longhand: [\n            \"Sunday\",\n            \"Monday\",\n            \"Tuesday\",\n            \"Wednesday\",\n            \"Thursday\",\n            \"Friday\",\n            \"Saturday\",\n        ],\n    },\n    months: {\n        shorthand: [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n        ],\n        longhand: [\n            \"January\",\n            \"February\",\n            \"March\",\n            \"April\",\n            \"May\",\n            \"June\",\n            \"July\",\n            \"August\",\n            \"September\",\n            \"October\",\n            \"November\",\n            \"December\",\n        ],\n    },\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n    firstDayOfWeek: 0,\n    ordinal: function (nth) {\n        var s = nth % 100;\n        if (s > 3 && s < 21)\n            return \"th\";\n        switch (s % 10) {\n            case 1:\n                return \"st\";\n            case 2:\n                return \"nd\";\n            case 3:\n                return \"rd\";\n            default:\n                return \"th\";\n        }\n    },\n    rangeSeparator: \" to \",\n    weekAbbreviation: \"Wk\",\n    scrollTitle: \"Scroll to increment\",\n    toggleTitle: \"Click to toggle\",\n    amPM: [\"AM\", \"PM\"],\n    yearAriaLabel: \"Year\",\n    monthAriaLabel: \"Month\",\n    hourAriaLabel: \"Hour\",\n    minuteAriaLabel: \"Minute\",\n    time_24hr: false,\n};\nexport default english;\n","export var pad = function (number, length) {\n    if (length === void 0) { length = 2; }\n    return (\"000\" + number).slice(length * -1);\n};\nexport var int = function (bool) { return (bool === true ? 1 : 0); };\nexport function debounce(fn, wait) {\n    var t;\n    return function () {\n        var _this = this;\n        var args = arguments;\n        clearTimeout(t);\n        t = setTimeout(function () { return fn.apply(_this, args); }, wait);\n    };\n}\nexport var arrayify = function (obj) {\n    return obj instanceof Array ? obj : [obj];\n};\n","export function toggleClass(elem, className, bool) {\n    if (bool === true)\n        return elem.classList.add(className);\n    elem.classList.remove(className);\n}\nexport function createElement(tag, className, content) {\n    var e = window.document.createElement(tag);\n    className = className || \"\";\n    content = content || \"\";\n    e.className = className;\n    if (content !== undefined)\n        e.textContent = content;\n    return e;\n}\nexport function clearNode(node) {\n    while (node.firstChild)\n        node.removeChild(node.firstChild);\n}\nexport function findParent(node, condition) {\n    if (condition(node))\n        return node;\n    else if (node.parentNode)\n        return findParent(node.parentNode, condition);\n    return undefined;\n}\nexport function createNumberInput(inputClassName, opts) {\n    var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n    if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n        numInput.type = \"number\";\n    }\n    else {\n        numInput.type = \"text\";\n        numInput.pattern = \"\\\\d*\";\n    }\n    if (opts !== undefined)\n        for (var key in opts)\n            numInput.setAttribute(key, opts[key]);\n    wrapper.appendChild(numInput);\n    wrapper.appendChild(arrowUp);\n    wrapper.appendChild(arrowDown);\n    return wrapper;\n}\nexport function getEventTarget(event) {\n    try {\n        if (typeof event.composedPath === \"function\") {\n            var path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n    catch (error) {\n        return event.target;\n    }\n}\n","import { int, pad } from \"../utils\";\nvar doNothing = function () { return undefined; };\nexport var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\nexport var revFormat = {\n    D: doNothing,\n    F: function (dateObj, monthName, locale) {\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n    },\n    G: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    H: function (dateObj, hour) {\n        dateObj.setHours(parseFloat(hour));\n    },\n    J: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    K: function (dateObj, amPM, locale) {\n        dateObj.setHours((dateObj.getHours() % 12) +\n            12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n    },\n    M: function (dateObj, shortMonth, locale) {\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n    },\n    S: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\n    W: function (dateObj, weekNum, locale) {\n        var weekNumber = parseInt(weekNum);\n        var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n        date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n        return date;\n    },\n    Y: function (dateObj, year) {\n        dateObj.setFullYear(parseFloat(year));\n    },\n    Z: function (_, ISODate) { return new Date(ISODate); },\n    d: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    h: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    i: function (dateObj, minutes) {\n        dateObj.setMinutes(parseFloat(minutes));\n    },\n    j: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    l: doNothing,\n    m: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    n: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    s: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    u: function (_, unixMillSeconds) {\n        return new Date(parseFloat(unixMillSeconds));\n    },\n    w: doNothing,\n    y: function (dateObj, year) {\n        dateObj.setFullYear(2000 + parseFloat(year));\n    },\n};\nexport var tokenRegex = {\n    D: \"\",\n    F: \"\",\n    G: \"(\\\\d\\\\d|\\\\d)\",\n    H: \"(\\\\d\\\\d|\\\\d)\",\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n    K: \"\",\n    M: \"\",\n    S: \"(\\\\d\\\\d|\\\\d)\",\n    U: \"(.+)\",\n    W: \"(\\\\d\\\\d|\\\\d)\",\n    Y: \"(\\\\d{4})\",\n    Z: \"(.+)\",\n    d: \"(\\\\d\\\\d|\\\\d)\",\n    h: \"(\\\\d\\\\d|\\\\d)\",\n    i: \"(\\\\d\\\\d|\\\\d)\",\n    j: \"(\\\\d\\\\d|\\\\d)\",\n    l: \"\",\n    m: \"(\\\\d\\\\d|\\\\d)\",\n    n: \"(\\\\d\\\\d|\\\\d)\",\n    s: \"(\\\\d\\\\d|\\\\d)\",\n    u: \"(.+)\",\n    w: \"(\\\\d\\\\d|\\\\d)\",\n    y: \"(\\\\d{2})\",\n};\nexport var formats = {\n    Z: function (date) { return date.toISOString(); },\n    D: function (date, locale, options) {\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\n    },\n    F: function (date, locale, options) {\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n    },\n    G: function (date, locale, options) {\n        return pad(formats.h(date, locale, options));\n    },\n    H: function (date) { return pad(date.getHours()); },\n    J: function (date, locale) {\n        return locale.ordinal !== undefined\n            ? date.getDate() + locale.ordinal(date.getDate())\n            : date.getDate();\n    },\n    K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\n    M: function (date, locale) {\n        return monthToStr(date.getMonth(), true, locale);\n    },\n    S: function (date) { return pad(date.getSeconds()); },\n    U: function (date) { return date.getTime() / 1000; },\n    W: function (date, _, options) {\n        return options.getWeek(date);\n    },\n    Y: function (date) { return pad(date.getFullYear(), 4); },\n    d: function (date) { return pad(date.getDate()); },\n    h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\n    i: function (date) { return pad(date.getMinutes()); },\n    j: function (date) { return date.getDate(); },\n    l: function (date, locale) {\n        return locale.weekdays.longhand[date.getDay()];\n    },\n    m: function (date) { return pad(date.getMonth() + 1); },\n    n: function (date) { return date.getMonth() + 1; },\n    s: function (date) { return date.getSeconds(); },\n    u: function (date) { return date.getTime(); },\n    w: function (date) { return date.getDay(); },\n    y: function (date) { return String(date.getFullYear()).substring(2); },\n};\n","import { tokenRegex, revFormat, formats, } from \"./formatting\";\nimport { defaults } from \"../types/options\";\nimport { english } from \"../l10n/default\";\nexport var createDateFormatter = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c, _d = _a.isMobile, isMobile = _d === void 0 ? false : _d;\n    return function (dateObj, frmt, overrideLocale) {\n        var locale = overrideLocale || l10n;\n        if (config.formatDate !== undefined && !isMobile) {\n            return config.formatDate(dateObj, frmt, locale);\n        }\n        return frmt\n            .split(\"\")\n            .map(function (c, i, arr) {\n            return formats[c] && arr[i - 1] !== \"\\\\\"\n                ? formats[c](dateObj, locale, config)\n                : c !== \"\\\\\"\n                    ? c\n                    : \"\";\n        })\n            .join(\"\");\n    };\n};\nexport var createDateParser = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n    return function (date, givenFormat, timeless, customLocale) {\n        if (date !== 0 && !date)\n            return undefined;\n        var locale = customLocale || l10n;\n        var parsedDate;\n        var dateOrig = date;\n        if (date instanceof Date)\n            parsedDate = new Date(date.getTime());\n        else if (typeof date !== \"string\" &&\n            date.toFixed !== undefined)\n            parsedDate = new Date(date);\n        else if (typeof date === \"string\") {\n            var format = givenFormat || (config || defaults).dateFormat;\n            var datestr = String(date).trim();\n            if (datestr === \"today\") {\n                parsedDate = new Date();\n                timeless = true;\n            }\n            else if (config && config.parseDate) {\n                parsedDate = config.parseDate(date, format);\n            }\n            else if (/Z$/.test(datestr) ||\n                /GMT$/.test(datestr)) {\n                parsedDate = new Date(date);\n            }\n            else {\n                var matched = void 0, ops = [];\n                for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                    var token = format[i];\n                    var isBackSlash = token === \"\\\\\";\n                    var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                    if (tokenRegex[token] && !escaped) {\n                        regexStr += tokenRegex[token];\n                        var match = new RegExp(regexStr).exec(date);\n                        if (match && (matched = true)) {\n                            ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n                                fn: revFormat[token],\n                                val: match[++matchIndex],\n                            });\n                        }\n                    }\n                    else if (!isBackSlash)\n                        regexStr += \".\";\n                }\n                parsedDate =\n                    !config || !config.noCalendar\n                        ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                        : new Date(new Date().setHours(0, 0, 0, 0));\n                ops.forEach(function (_a) {\n                    var fn = _a.fn, val = _a.val;\n                    return (parsedDate = fn(parsedDate, val, locale) || parsedDate);\n                });\n                parsedDate = matched ? parsedDate : undefined;\n            }\n        }\n        if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n            config.errorHandler(new Error(\"Invalid date provided: \" + dateOrig));\n            return undefined;\n        }\n        if (timeless === true)\n            parsedDate.setHours(0, 0, 0, 0);\n        return parsedDate;\n    };\n};\nexport function compareDates(date1, date2, timeless) {\n    if (timeless === void 0) { timeless = true; }\n    if (timeless !== false) {\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\n    }\n    return date1.getTime() - date2.getTime();\n}\nexport function compareTimes(date1, date2) {\n    return (3600 * (date1.getHours() - date2.getHours()) +\n        60 * (date1.getMinutes() - date2.getMinutes()) +\n        date1.getSeconds() -\n        date2.getSeconds());\n}\nexport var isBetween = function (ts, ts1, ts2) {\n    return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n};\nexport var calculateSecondsSinceMidnight = function (hours, minutes, seconds) {\n    return hours * 3600 + minutes * 60 + seconds;\n};\nexport var parseSeconds = function (secondsSinceMidnight) {\n    var hours = Math.floor(secondsSinceMidnight / 3600), minutes = (secondsSinceMidnight - hours * 3600) / 60;\n    return [hours, minutes, secondsSinceMidnight - hours * 3600 - minutes * 60];\n};\nexport var duration = {\n    DAY: 86400000,\n};\nexport function getDefaultHours(config) {\n    var hours = config.defaultHour;\n    var minutes = config.defaultMinute;\n    var seconds = config.defaultSeconds;\n    if (config.minDate !== undefined) {\n        var minHour = config.minDate.getHours();\n        var minMinutes = config.minDate.getMinutes();\n        var minSeconds = config.minDate.getSeconds();\n        if (hours < minHour) {\n            hours = minHour;\n        }\n        if (hours === minHour && minutes < minMinutes) {\n            minutes = minMinutes;\n        }\n        if (hours === minHour && minutes === minMinutes && seconds < minSeconds)\n            seconds = config.minDate.getSeconds();\n    }\n    if (config.maxDate !== undefined) {\n        var maxHr = config.maxDate.getHours();\n        var maxMinutes = config.maxDate.getMinutes();\n        hours = Math.min(hours, maxHr);\n        if (hours === maxHr)\n            minutes = Math.min(maxMinutes, minutes);\n        if (hours === maxHr && minutes === maxMinutes)\n            seconds = config.maxDate.getSeconds();\n    }\n    return { hours: hours, minutes: minutes, seconds: seconds };\n}\n","\"use strict\";\nif (typeof Object.assign !== \"function\") {\n    Object.assign = function (target) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!target) {\n            throw TypeError(\"Cannot convert undefined or null to object\");\n        }\n        var _loop_1 = function (source) {\n            if (source) {\n                Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\n            }\n        };\n        for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n            var source = args_1[_a];\n            _loop_1(source);\n        }\n        return target;\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { defaults as defaultOptions, HOOKS, } from \"./types/options\";\nimport English from \"./l10n/default\";\nimport { arrayify, debounce, int, pad } from \"./utils\";\nimport { clearNode, createElement, createNumberInput, findParent, toggleClass, getEventTarget, } from \"./utils/dom\";\nimport { compareDates, createDateParser, createDateFormatter, duration, isBetween, getDefaultHours, calculateSecondsSinceMidnight, parseSeconds, } from \"./utils/dates\";\nimport { tokenRegex, monthToStr } from \"./utils/formatting\";\nimport \"./utils/polyfills\";\nvar DEBOUNCED_CHANGE_MS = 300;\nfunction FlatpickrInstance(element, instanceConfig) {\n    var self = {\n        config: __assign(__assign({}, defaultOptions), flatpickr.defaultConfig),\n        l10n: English,\n    };\n    self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    self._handlers = [];\n    self.pluginElements = [];\n    self.loadedPlugins = [];\n    self._bind = bind;\n    self._setHoursFromDate = setHoursFromDate;\n    self._positionCalendar = positionCalendar;\n    self.changeMonth = changeMonth;\n    self.changeYear = changeYear;\n    self.clear = clear;\n    self.close = close;\n    self.onMouseOver = onMouseOver;\n    self._createElement = createElement;\n    self.createDay = createDay;\n    self.destroy = destroy;\n    self.isEnabled = isEnabled;\n    self.jumpToDate = jumpToDate;\n    self.updateValue = updateValue;\n    self.open = open;\n    self.redraw = redraw;\n    self.set = set;\n    self.setDate = setDate;\n    self.toggle = toggle;\n    function setupHelperFunctions() {\n        self.utils = {\n            getDaysInMonth: function (month, yr) {\n                if (month === void 0) { month = self.currentMonth; }\n                if (yr === void 0) { yr = self.currentYear; }\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                    return 29;\n                return self.l10n.daysInMonth[month];\n            },\n        };\n    }\n    function init() {\n        self.element = self.input = element;\n        self.isOpen = false;\n        parseConfig();\n        setupLocale();\n        setupInputs();\n        setupDates();\n        setupHelperFunctions();\n        if (!self.isMobile)\n            build();\n        bindEvents();\n        if (self.selectedDates.length || self.config.noCalendar) {\n            if (self.config.enableTime) {\n                setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);\n            }\n            updateValue(false);\n        }\n        setCalendarWidth();\n        var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        if (!self.isMobile && isSafari) {\n            positionCalendar();\n        }\n        triggerEvent(\"onReady\");\n    }\n    function getClosestActiveElement() {\n        var _a;\n        return (((_a = self.calendarContainer) === null || _a === void 0 ? void 0 : _a.getRootNode())\n            .activeElement || document.activeElement);\n    }\n    function bindToInstance(fn) {\n        return fn.bind(self);\n    }\n    function setCalendarWidth() {\n        var config = self.config;\n        if (config.weekNumbers === false && config.showMonths === 1) {\n            return;\n        }\n        else if (config.noCalendar !== true) {\n            window.requestAnimationFrame(function () {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.style.visibility = \"hidden\";\n                    self.calendarContainer.style.display = \"block\";\n                }\n                if (self.daysContainer !== undefined) {\n                    var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                    self.daysContainer.style.width = daysWidth + \"px\";\n                    self.calendarContainer.style.width =\n                        daysWidth +\n                            (self.weekWrapper !== undefined\n                                ? self.weekWrapper.offsetWidth\n                                : 0) +\n                            \"px\";\n                    self.calendarContainer.style.removeProperty(\"visibility\");\n                    self.calendarContainer.style.removeProperty(\"display\");\n                }\n            });\n        }\n    }\n    function updateTime(e) {\n        if (self.selectedDates.length === 0) {\n            var defaultDate = self.config.minDate === undefined ||\n                compareDates(new Date(), self.config.minDate) >= 0\n                ? new Date()\n                : new Date(self.config.minDate.getTime());\n            var defaults = getDefaultHours(self.config);\n            defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());\n            self.selectedDates = [defaultDate];\n            self.latestSelectedDateObj = defaultDate;\n        }\n        if (e !== undefined && e.type !== \"blur\") {\n            timeWrapper(e);\n        }\n        var prevValue = self._input.value;\n        setHoursFromInputs();\n        updateValue();\n        if (self._input.value !== prevValue) {\n            self._debouncedChange();\n        }\n    }\n    function ampm2military(hour, amPM) {\n        return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n    }\n    function military2ampm(hour) {\n        switch (hour % 24) {\n            case 0:\n            case 12:\n                return 12;\n            default:\n                return hour % 12;\n        }\n    }\n    function setHoursFromInputs() {\n        if (self.hourElement === undefined || self.minuteElement === undefined)\n            return;\n        var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\n            : 0;\n        if (self.amPM !== undefined) {\n            hours = ampm2military(hours, self.amPM.textContent);\n        }\n        var limitMinHours = self.config.minTime !== undefined ||\n            (self.config.minDate &&\n                self.minDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                    0);\n        var limitMaxHours = self.config.maxTime !== undefined ||\n            (self.config.maxDate &&\n                self.maxDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                    0);\n        if (self.config.maxTime !== undefined &&\n            self.config.minTime !== undefined &&\n            self.config.minTime > self.config.maxTime) {\n            var minBound = calculateSecondsSinceMidnight(self.config.minTime.getHours(), self.config.minTime.getMinutes(), self.config.minTime.getSeconds());\n            var maxBound = calculateSecondsSinceMidnight(self.config.maxTime.getHours(), self.config.maxTime.getMinutes(), self.config.maxTime.getSeconds());\n            var currentTime = calculateSecondsSinceMidnight(hours, minutes, seconds);\n            if (currentTime > maxBound && currentTime < minBound) {\n                var result = parseSeconds(minBound);\n                hours = result[0];\n                minutes = result[1];\n                seconds = result[2];\n            }\n        }\n        else {\n            if (limitMaxHours) {\n                var maxTime = self.config.maxTime !== undefined\n                    ? self.config.maxTime\n                    : self.config.maxDate;\n                hours = Math.min(hours, maxTime.getHours());\n                if (hours === maxTime.getHours())\n                    minutes = Math.min(minutes, maxTime.getMinutes());\n                if (minutes === maxTime.getMinutes())\n                    seconds = Math.min(seconds, maxTime.getSeconds());\n            }\n            if (limitMinHours) {\n                var minTime = self.config.minTime !== undefined\n                    ? self.config.minTime\n                    : self.config.minDate;\n                hours = Math.max(hours, minTime.getHours());\n                if (hours === minTime.getHours() && minutes < minTime.getMinutes())\n                    minutes = minTime.getMinutes();\n                if (minutes === minTime.getMinutes())\n                    seconds = Math.max(seconds, minTime.getSeconds());\n            }\n        }\n        setHours(hours, minutes, seconds);\n    }\n    function setHoursFromDate(dateObj) {\n        var date = dateObj || self.latestSelectedDateObj;\n        if (date && date instanceof Date) {\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n    }\n    function setHours(hours, minutes, seconds) {\n        if (self.latestSelectedDateObj !== undefined) {\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n        }\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\n            return;\n        self.hourElement.value = pad(!self.config.time_24hr\n            ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n            : hours);\n        self.minuteElement.value = pad(minutes);\n        if (self.amPM !== undefined)\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n        if (self.secondElement !== undefined)\n            self.secondElement.value = pad(seconds);\n    }\n    function onYearInput(event) {\n        var eventTarget = getEventTarget(event);\n        var year = parseInt(eventTarget.value) + (event.delta || 0);\n        if (year / 1000 > 1 ||\n            (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n            changeYear(year);\n        }\n    }\n    function bind(element, event, handler, options) {\n        if (event instanceof Array)\n            return event.forEach(function (ev) { return bind(element, ev, handler, options); });\n        if (element instanceof Array)\n            return element.forEach(function (el) { return bind(el, event, handler, options); });\n        element.addEventListener(event, handler, options);\n        self._handlers.push({\n            remove: function () { return element.removeEventListener(event, handler, options); },\n        });\n    }\n    function triggerChange() {\n        triggerEvent(\"onChange\");\n    }\n    function bindEvents() {\n        if (self.config.wrap) {\n            [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\n                Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\n                    return bind(el, \"click\", self[evt]);\n                });\n            });\n        }\n        if (self.isMobile) {\n            setupMobile();\n            return;\n        }\n        var debouncedResize = debounce(onResize, 50);\n        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n            bind(self.daysContainer, \"mouseover\", function (e) {\n                if (self.config.mode === \"range\")\n                    onMouseOver(getEventTarget(e));\n            });\n        bind(self._input, \"keydown\", onKeyDown);\n        if (self.calendarContainer !== undefined) {\n            bind(self.calendarContainer, \"keydown\", onKeyDown);\n        }\n        if (!self.config.inline && !self.config.static)\n            bind(window, \"resize\", debouncedResize);\n        if (window.ontouchstart !== undefined)\n            bind(window.document, \"touchstart\", documentClick);\n        else\n            bind(window.document, \"mousedown\", documentClick);\n        bind(window.document, \"focus\", documentClick, { capture: true });\n        if (self.config.clickOpens === true) {\n            bind(self._input, \"focus\", self.open);\n            bind(self._input, \"click\", self.open);\n        }\n        if (self.daysContainer !== undefined) {\n            bind(self.monthNav, \"click\", onMonthNavClick);\n            bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n            bind(self.daysContainer, \"click\", selectDate);\n        }\n        if (self.timeContainer !== undefined &&\n            self.minuteElement !== undefined &&\n            self.hourElement !== undefined) {\n            var selText = function (e) {\n                return getEventTarget(e).select();\n            };\n            bind(self.timeContainer, [\"increment\"], updateTime);\n            bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n            bind(self.timeContainer, \"click\", timeIncrement);\n            bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n            if (self.secondElement !== undefined)\n                bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\n            if (self.amPM !== undefined) {\n                bind(self.amPM, \"click\", function (e) {\n                    updateTime(e);\n                });\n            }\n        }\n        if (self.config.allowInput) {\n            bind(self._input, \"blur\", onBlur);\n        }\n    }\n    function jumpToDate(jumpDate, triggerChange) {\n        var jumpTo = jumpDate !== undefined\n            ? self.parseDate(jumpDate)\n            : self.latestSelectedDateObj ||\n                (self.config.minDate && self.config.minDate > self.now\n                    ? self.config.minDate\n                    : self.config.maxDate && self.config.maxDate < self.now\n                        ? self.config.maxDate\n                        : self.now);\n        var oldYear = self.currentYear;\n        var oldMonth = self.currentMonth;\n        try {\n            if (jumpTo !== undefined) {\n                self.currentYear = jumpTo.getFullYear();\n                self.currentMonth = jumpTo.getMonth();\n            }\n        }\n        catch (e) {\n            e.message = \"Invalid date supplied: \" + jumpTo;\n            self.config.errorHandler(e);\n        }\n        if (triggerChange && self.currentYear !== oldYear) {\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        if (triggerChange &&\n            (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n            triggerEvent(\"onMonthChange\");\n        }\n        self.redraw();\n    }\n    function timeIncrement(e) {\n        var eventTarget = getEventTarget(e);\n        if (~eventTarget.className.indexOf(\"arrow\"))\n            incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\n    }\n    function incrementNumInput(e, delta, inputElem) {\n        var target = e && getEventTarget(e);\n        var input = inputElem ||\n            (target && target.parentNode && target.parentNode.firstChild);\n        var event = createEvent(\"increment\");\n        event.delta = delta;\n        input && input.dispatchEvent(event);\n    }\n    function build() {\n        var fragment = window.document.createDocumentFragment();\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n        self.calendarContainer.tabIndex = -1;\n        if (!self.config.noCalendar) {\n            fragment.appendChild(buildMonthNav());\n            self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n            if (self.config.weekNumbers) {\n                var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\n                self.innerContainer.appendChild(weekWrapper);\n                self.weekNumbers = weekNumbers;\n                self.weekWrapper = weekWrapper;\n            }\n            self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n            self.rContainer.appendChild(buildWeekdays());\n            if (!self.daysContainer) {\n                self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                self.daysContainer.tabIndex = -1;\n            }\n            buildDays();\n            self.rContainer.appendChild(self.daysContainer);\n            self.innerContainer.appendChild(self.rContainer);\n            fragment.appendChild(self.innerContainer);\n        }\n        if (self.config.enableTime) {\n            fragment.appendChild(buildTime());\n        }\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n        toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n        self.calendarContainer.appendChild(fragment);\n        var customAppend = self.config.appendTo !== undefined &&\n            self.config.appendTo.nodeType !== undefined;\n        if (self.config.inline || self.config.static) {\n            self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n            if (self.config.inline) {\n                if (!customAppend && self.element.parentNode)\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                else if (self.config.appendTo !== undefined)\n                    self.config.appendTo.appendChild(self.calendarContainer);\n            }\n            if (self.config.static) {\n                var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                if (self.element.parentNode)\n                    self.element.parentNode.insertBefore(wrapper, self.element);\n                wrapper.appendChild(self.element);\n                if (self.altInput)\n                    wrapper.appendChild(self.altInput);\n                wrapper.appendChild(self.calendarContainer);\n            }\n        }\n        if (!self.config.static && !self.config.inline)\n            (self.config.appendTo !== undefined\n                ? self.config.appendTo\n                : window.document.body).appendChild(self.calendarContainer);\n    }\n    function createDay(className, date, _dayNumber, i) {\n        var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", className, date.getDate().toString());\n        dayElement.dateObj = date;\n        dayElement.$i = i;\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n        if (className.indexOf(\"hidden\") === -1 &&\n            compareDates(date, self.now) === 0) {\n            self.todayDateElem = dayElement;\n            dayElement.classList.add(\"today\");\n            dayElement.setAttribute(\"aria-current\", \"date\");\n        }\n        if (dateIsEnabled) {\n            dayElement.tabIndex = -1;\n            if (isDateSelected(date)) {\n                dayElement.classList.add(\"selected\");\n                self.selectedDateElem = dayElement;\n                if (self.config.mode === \"range\") {\n                    toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                        compareDates(date, self.selectedDates[0], true) === 0);\n                    toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                        compareDates(date, self.selectedDates[1], true) === 0);\n                    if (className === \"nextMonthDay\")\n                        dayElement.classList.add(\"inRange\");\n                }\n            }\n        }\n        else {\n            dayElement.classList.add(\"flatpickr-disabled\");\n        }\n        if (self.config.mode === \"range\") {\n            if (isDateInRange(date) && !isDateSelected(date))\n                dayElement.classList.add(\"inRange\");\n        }\n        if (self.weekNumbers &&\n            self.config.showMonths === 1 &&\n            className !== \"prevMonthDay\" &&\n            i % 7 === 6) {\n            self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n        }\n        triggerEvent(\"onDayCreate\", dayElement);\n        return dayElement;\n    }\n    function focusOnDayElem(targetNode) {\n        targetNode.focus();\n        if (self.config.mode === \"range\")\n            onMouseOver(targetNode);\n    }\n    function getFirstAvailableDay(delta) {\n        var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        for (var m = startMonth; m != endMonth; m += delta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = delta > 0 ? 0 : month.children.length - 1;\n            var endIndex = delta > 0 ? month.children.length : -1;\n            for (var i = startIndex; i != endIndex; i += delta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                    return c;\n            }\n        }\n        return undefined;\n    }\n    function getNextAvailableDay(current, delta) {\n        var givenMonth = current.className.indexOf(\"Month\") === -1\n            ? current.dateObj.getMonth()\n            : self.currentMonth;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        var loopDelta = delta > 0 ? 1 : -1;\n        for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = givenMonth - self.currentMonth === m\n                ? current.$i + delta\n                : delta < 0\n                    ? month.children.length - 1\n                    : 0;\n            var numMonthDays = month.children.length;\n            for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 &&\n                    isEnabled(c.dateObj) &&\n                    Math.abs(current.$i - i) >= Math.abs(delta))\n                    return focusOnDayElem(c);\n            }\n        }\n        self.changeMonth(loopDelta);\n        focusOnDay(getFirstAvailableDay(loopDelta), 0);\n        return undefined;\n    }\n    function focusOnDay(current, offset) {\n        var activeElement = getClosestActiveElement();\n        var dayFocused = isInView(activeElement || document.body);\n        var startElem = current !== undefined\n            ? current\n            : dayFocused\n                ? activeElement\n                : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                    ? self.selectedDateElem\n                    : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                        ? self.todayDateElem\n                        : getFirstAvailableDay(offset > 0 ? 1 : -1);\n        if (startElem === undefined) {\n            self._input.focus();\n        }\n        else if (!dayFocused) {\n            focusOnDayElem(startElem);\n        }\n        else {\n            getNextAvailableDay(startElem, offset);\n        }\n    }\n    function buildMonthDays(year, month) {\n        var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n        var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);\n        var daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n        var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n        }\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n        }\n        for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n            (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n        }\n        var dayContainer = createElement(\"div\", \"dayContainer\");\n        dayContainer.appendChild(days);\n        return dayContainer;\n    }\n    function buildDays() {\n        if (self.daysContainer === undefined) {\n            return;\n        }\n        clearNode(self.daysContainer);\n        if (self.weekNumbers)\n            clearNode(self.weekNumbers);\n        var frag = document.createDocumentFragment();\n        for (var i = 0; i < self.config.showMonths; i++) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n        }\n        self.daysContainer.appendChild(frag);\n        self.days = self.daysContainer.firstChild;\n        if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n            onMouseOver();\n        }\n    }\n    function buildMonthSwitch() {\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType !== \"dropdown\")\n            return;\n        var shouldBuildMonth = function (month) {\n            if (self.config.minDate !== undefined &&\n                self.currentYear === self.config.minDate.getFullYear() &&\n                month < self.config.minDate.getMonth()) {\n                return false;\n            }\n            return !(self.config.maxDate !== undefined &&\n                self.currentYear === self.config.maxDate.getFullYear() &&\n                month > self.config.maxDate.getMonth());\n        };\n        self.monthsDropdownContainer.tabIndex = -1;\n        self.monthsDropdownContainer.innerHTML = \"\";\n        for (var i = 0; i < 12; i++) {\n            if (!shouldBuildMonth(i))\n                continue;\n            var month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n            month.value = new Date(self.currentYear, i).getMonth().toString();\n            month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n            month.tabIndex = -1;\n            if (self.currentMonth === i) {\n                month.selected = true;\n            }\n            self.monthsDropdownContainer.appendChild(month);\n        }\n    }\n    function buildMonth() {\n        var container = createElement(\"div\", \"flatpickr-month\");\n        var monthNavFragment = window.document.createDocumentFragment();\n        var monthElement;\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType === \"static\") {\n            monthElement = createElement(\"span\", \"cur-month\");\n        }\n        else {\n            self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n            self.monthsDropdownContainer.setAttribute(\"aria-label\", self.l10n.monthAriaLabel);\n            bind(self.monthsDropdownContainer, \"change\", function (e) {\n                var target = getEventTarget(e);\n                var selectedMonth = parseInt(target.value, 10);\n                self.changeMonth(selectedMonth - self.currentMonth);\n                triggerEvent(\"onMonthChange\");\n            });\n            buildMonthSwitch();\n            monthElement = self.monthsDropdownContainer;\n        }\n        var yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n        var yearElement = yearInput.getElementsByTagName(\"input\")[0];\n        yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n        if (self.config.minDate) {\n            yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n        }\n        if (self.config.maxDate) {\n            yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n            yearElement.disabled =\n                !!self.config.minDate &&\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n        }\n        var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n        currentMonth.appendChild(monthElement);\n        currentMonth.appendChild(yearInput);\n        monthNavFragment.appendChild(currentMonth);\n        container.appendChild(monthNavFragment);\n        return {\n            container: container,\n            yearElement: yearElement,\n            monthElement: monthElement,\n        };\n    }\n    function buildMonths() {\n        clearNode(self.monthNav);\n        self.monthNav.appendChild(self.prevMonthNav);\n        if (self.config.showMonths) {\n            self.yearElements = [];\n            self.monthElements = [];\n        }\n        for (var m = self.config.showMonths; m--;) {\n            var month = buildMonth();\n            self.yearElements.push(month.yearElement);\n            self.monthElements.push(month.monthElement);\n            self.monthNav.appendChild(month.container);\n        }\n        self.monthNav.appendChild(self.nextMonthNav);\n    }\n    function buildMonthNav() {\n        self.monthNav = createElement(\"div\", \"flatpickr-months\");\n        self.yearElements = [];\n        self.monthElements = [];\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\n        buildMonths();\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n            get: function () { return self.__hidePrevMonthArrow; },\n            set: function (bool) {\n                if (self.__hidePrevMonthArrow !== bool) {\n                    toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hidePrevMonthArrow = bool;\n                }\n            },\n        });\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\n            get: function () { return self.__hideNextMonthArrow; },\n            set: function (bool) {\n                if (self.__hideNextMonthArrow !== bool) {\n                    toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hideNextMonthArrow = bool;\n                }\n            },\n        });\n        self.currentYearElement = self.yearElements[0];\n        updateNavigationCurrentMonth();\n        return self.monthNav;\n    }\n    function buildTime() {\n        self.calendarContainer.classList.add(\"hasTime\");\n        if (self.config.noCalendar)\n            self.calendarContainer.classList.add(\"noCalendar\");\n        var defaults = getDefaultHours(self.config);\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n        self.timeContainer.tabIndex = -1;\n        var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n        var hourInput = createNumberInput(\"flatpickr-hour\", {\n            \"aria-label\": self.l10n.hourAriaLabel,\n        });\n        self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n        var minuteInput = createNumberInput(\"flatpickr-minute\", {\n            \"aria-label\": self.l10n.minuteAriaLabel,\n        });\n        self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n        self.hourElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getHours()\n            : self.config.time_24hr\n                ? defaults.hours\n                : military2ampm(defaults.hours));\n        self.minuteElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getMinutes()\n            : defaults.minutes);\n        self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n        self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n        self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n        self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n        self.hourElement.setAttribute(\"maxlength\", \"2\");\n        self.minuteElement.setAttribute(\"min\", \"0\");\n        self.minuteElement.setAttribute(\"max\", \"59\");\n        self.minuteElement.setAttribute(\"maxlength\", \"2\");\n        self.timeContainer.appendChild(hourInput);\n        self.timeContainer.appendChild(separator);\n        self.timeContainer.appendChild(minuteInput);\n        if (self.config.time_24hr)\n            self.timeContainer.classList.add(\"time24hr\");\n        if (self.config.enableSeconds) {\n            self.timeContainer.classList.add(\"hasSeconds\");\n            var secondInput = createNumberInput(\"flatpickr-second\");\n            self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n            self.secondElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getSeconds()\n                : defaults.seconds);\n            self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n            self.secondElement.setAttribute(\"min\", \"0\");\n            self.secondElement.setAttribute(\"max\", \"59\");\n            self.secondElement.setAttribute(\"maxlength\", \"2\");\n            self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n            self.timeContainer.appendChild(secondInput);\n        }\n        if (!self.config.time_24hr) {\n            self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                ? self.hourElement.value\n                : self.config.defaultHour) > 11)]);\n            self.amPM.title = self.l10n.toggleTitle;\n            self.amPM.tabIndex = -1;\n            self.timeContainer.appendChild(self.amPM);\n        }\n        return self.timeContainer;\n    }\n    function buildWeekdays() {\n        if (!self.weekdayContainer)\n            self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n        else\n            clearNode(self.weekdayContainer);\n        for (var i = self.config.showMonths; i--;) {\n            var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n            self.weekdayContainer.appendChild(container);\n        }\n        updateWeekdays();\n        return self.weekdayContainer;\n    }\n    function updateWeekdays() {\n        if (!self.weekdayContainer) {\n            return;\n        }\n        var firstDayOfWeek = self.l10n.firstDayOfWeek;\n        var weekdays = __spreadArrays(self.l10n.weekdays.shorthand);\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n            weekdays = __spreadArrays(weekdays.splice(firstDayOfWeek, weekdays.length), weekdays.splice(0, firstDayOfWeek));\n        }\n        for (var i = self.config.showMonths; i--;) {\n            self.weekdayContainer.children[i].innerHTML = \"\\n      <span class='flatpickr-weekday'>\\n        \" + weekdays.join(\"</span><span class='flatpickr-weekday'>\") + \"\\n      </span>\\n      \";\n        }\n    }\n    function buildWeeks() {\n        self.calendarContainer.classList.add(\"hasWeeks\");\n        var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n        var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n        weekWrapper.appendChild(weekNumbers);\n        return {\n            weekWrapper: weekWrapper,\n            weekNumbers: weekNumbers,\n        };\n    }\n    function changeMonth(value, isOffset) {\n        if (isOffset === void 0) { isOffset = true; }\n        var delta = isOffset ? value : value - self.currentMonth;\n        if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n            (delta > 0 && self._hideNextMonthArrow === true))\n            return;\n        self.currentMonth += delta;\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\n            self.currentMonth = (self.currentMonth + 12) % 12;\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        buildDays();\n        triggerEvent(\"onMonthChange\");\n        updateNavigationCurrentMonth();\n    }\n    function clear(triggerChangeEvent, toInitial) {\n        if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\n        if (toInitial === void 0) { toInitial = true; }\n        self.input.value = \"\";\n        if (self.altInput !== undefined)\n            self.altInput.value = \"\";\n        if (self.mobileInput !== undefined)\n            self.mobileInput.value = \"\";\n        self.selectedDates = [];\n        self.latestSelectedDateObj = undefined;\n        if (toInitial === true) {\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n        }\n        if (self.config.enableTime === true) {\n            var _a = getDefaultHours(self.config), hours = _a.hours, minutes = _a.minutes, seconds = _a.seconds;\n            setHours(hours, minutes, seconds);\n        }\n        self.redraw();\n        if (triggerChangeEvent)\n            triggerEvent(\"onChange\");\n    }\n    function close() {\n        self.isOpen = false;\n        if (!self.isMobile) {\n            if (self.calendarContainer !== undefined) {\n                self.calendarContainer.classList.remove(\"open\");\n            }\n            if (self._input !== undefined) {\n                self._input.classList.remove(\"active\");\n            }\n        }\n        triggerEvent(\"onClose\");\n    }\n    function destroy() {\n        if (self.config !== undefined)\n            triggerEvent(\"onDestroy\");\n        for (var i = self._handlers.length; i--;) {\n            self._handlers[i].remove();\n        }\n        self._handlers = [];\n        if (self.mobileInput) {\n            if (self.mobileInput.parentNode)\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\n            self.mobileInput = undefined;\n        }\n        else if (self.calendarContainer && self.calendarContainer.parentNode) {\n            if (self.config.static && self.calendarContainer.parentNode) {\n                var wrapper = self.calendarContainer.parentNode;\n                wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                if (wrapper.parentNode) {\n                    while (wrapper.firstChild)\n                        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                    wrapper.parentNode.removeChild(wrapper);\n                }\n            }\n            else\n                self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n        }\n        if (self.altInput) {\n            self.input.type = \"text\";\n            if (self.altInput.parentNode)\n                self.altInput.parentNode.removeChild(self.altInput);\n            delete self.altInput;\n        }\n        if (self.input) {\n            self.input.type = self.input._type;\n            self.input.classList.remove(\"flatpickr-input\");\n            self.input.removeAttribute(\"readonly\");\n        }\n        [\n            \"_showTimeInput\",\n            \"latestSelectedDateObj\",\n            \"_hideNextMonthArrow\",\n            \"_hidePrevMonthArrow\",\n            \"__hideNextMonthArrow\",\n            \"__hidePrevMonthArrow\",\n            \"isMobile\",\n            \"isOpen\",\n            \"selectedDateElem\",\n            \"minDateHasTime\",\n            \"maxDateHasTime\",\n            \"days\",\n            \"daysContainer\",\n            \"_input\",\n            \"_positionElement\",\n            \"innerContainer\",\n            \"rContainer\",\n            \"monthNav\",\n            \"todayDateElem\",\n            \"calendarContainer\",\n            \"weekdayContainer\",\n            \"prevMonthNav\",\n            \"nextMonthNav\",\n            \"monthsDropdownContainer\",\n            \"currentMonthElement\",\n            \"currentYearElement\",\n            \"navigationCurrentMonth\",\n            \"selectedDateElem\",\n            \"config\",\n        ].forEach(function (k) {\n            try {\n                delete self[k];\n            }\n            catch (_) { }\n        });\n    }\n    function isCalendarElem(elem) {\n        return self.calendarContainer.contains(elem);\n    }\n    function documentClick(e) {\n        if (self.isOpen && !self.config.inline) {\n            var eventTarget_1 = getEventTarget(e);\n            var isCalendarElement = isCalendarElem(eventTarget_1);\n            var isInput = eventTarget_1 === self.input ||\n                eventTarget_1 === self.altInput ||\n                self.element.contains(eventTarget_1) ||\n                (e.path &&\n                    e.path.indexOf &&\n                    (~e.path.indexOf(self.input) ||\n                        ~e.path.indexOf(self.altInput)));\n            var lostFocus = !isInput &&\n                !isCalendarElement &&\n                !isCalendarElem(e.relatedTarget);\n            var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\n                return elem.contains(eventTarget_1);\n            });\n            if (lostFocus && isIgnored) {\n                if (self.config.allowInput) {\n                    self.setDate(self._input.value, false, self.config.altInput\n                        ? self.config.altFormat\n                        : self.config.dateFormat);\n                }\n                if (self.timeContainer !== undefined &&\n                    self.minuteElement !== undefined &&\n                    self.hourElement !== undefined &&\n                    self.input.value !== \"\" &&\n                    self.input.value !== undefined) {\n                    updateTime();\n                }\n                self.close();\n                if (self.config &&\n                    self.config.mode === \"range\" &&\n                    self.selectedDates.length === 1)\n                    self.clear(false);\n            }\n        }\n    }\n    function changeYear(newYear) {\n        if (!newYear ||\n            (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n            (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n            return;\n        var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n        self.currentYear = newYearNum || self.currentYear;\n        if (self.config.maxDate &&\n            self.currentYear === self.config.maxDate.getFullYear()) {\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n        }\n        else if (self.config.minDate &&\n            self.currentYear === self.config.minDate.getFullYear()) {\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n        }\n        if (isNewYear) {\n            self.redraw();\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n    }\n    function isEnabled(date, timeless) {\n        var _a;\n        if (timeless === void 0) { timeless = true; }\n        var dateToCheck = self.parseDate(date, undefined, timeless);\n        if ((self.config.minDate &&\n            dateToCheck &&\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n            (self.config.maxDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n            return false;\n        if (!self.config.enable && self.config.disable.length === 0)\n            return true;\n        if (dateToCheck === undefined)\n            return false;\n        var bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;\n        for (var i = 0, d = void 0; i < array.length; i++) {\n            d = array[i];\n            if (typeof d === \"function\" &&\n                d(dateToCheck))\n                return bool;\n            else if (d instanceof Date &&\n                dateToCheck !== undefined &&\n                d.getTime() === dateToCheck.getTime())\n                return bool;\n            else if (typeof d === \"string\") {\n                var parsed = self.parseDate(d, undefined, true);\n                return parsed && parsed.getTime() === dateToCheck.getTime()\n                    ? bool\n                    : !bool;\n            }\n            else if (typeof d === \"object\" &&\n                dateToCheck !== undefined &&\n                d.from &&\n                d.to &&\n                dateToCheck.getTime() >= d.from.getTime() &&\n                dateToCheck.getTime() <= d.to.getTime())\n                return bool;\n        }\n        return !bool;\n    }\n    function isInView(elem) {\n        if (self.daysContainer !== undefined)\n            return (elem.className.indexOf(\"hidden\") === -1 &&\n                elem.className.indexOf(\"flatpickr-disabled\") === -1 &&\n                self.daysContainer.contains(elem));\n        return false;\n    }\n    function onBlur(e) {\n        var isInput = e.target === self._input;\n        var valueChanged = self._input.value.trimEnd() !== getDateStr();\n        if (isInput &&\n            valueChanged &&\n            !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {\n            self.setDate(self._input.value, true, e.target === self.altInput\n                ? self.config.altFormat\n                : self.config.dateFormat);\n        }\n    }\n    function onKeyDown(e) {\n        var eventTarget = getEventTarget(e);\n        var isInput = self.config.wrap\n            ? element.contains(eventTarget)\n            : eventTarget === self._input;\n        var allowInput = self.config.allowInput;\n        var allowKeydown = self.isOpen && (!allowInput || !isInput);\n        var allowInlineKeydown = self.config.inline && isInput && !allowInput;\n        if (e.keyCode === 13 && isInput) {\n            if (allowInput) {\n                self.setDate(self._input.value, true, eventTarget === self.altInput\n                    ? self.config.altFormat\n                    : self.config.dateFormat);\n                self.close();\n                return eventTarget.blur();\n            }\n            else {\n                self.open();\n            }\n        }\n        else if (isCalendarElem(eventTarget) ||\n            allowKeydown ||\n            allowInlineKeydown) {\n            var isTimeObj = !!self.timeContainer &&\n                self.timeContainer.contains(eventTarget);\n            switch (e.keyCode) {\n                case 13:\n                    if (isTimeObj) {\n                        e.preventDefault();\n                        updateTime();\n                        focusAndClose();\n                    }\n                    else\n                        selectDate(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    focusAndClose();\n                    break;\n                case 8:\n                case 46:\n                    if (isInput && !self.config.allowInput) {\n                        e.preventDefault();\n                        self.clear();\n                    }\n                    break;\n                case 37:\n                case 39:\n                    if (!isTimeObj && !isInput) {\n                        e.preventDefault();\n                        var activeElement = getClosestActiveElement();\n                        if (self.daysContainer !== undefined &&\n                            (allowInput === false ||\n                                (activeElement && isInView(activeElement)))) {\n                            var delta_1 = e.keyCode === 39 ? 1 : -1;\n                            if (!e.ctrlKey)\n                                focusOnDay(undefined, delta_1);\n                            else {\n                                e.stopPropagation();\n                                changeMonth(delta_1);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                        }\n                    }\n                    else if (self.hourElement)\n                        self.hourElement.focus();\n                    break;\n                case 38:\n                case 40:\n                    e.preventDefault();\n                    var delta = e.keyCode === 40 ? 1 : -1;\n                    if ((self.daysContainer &&\n                        eventTarget.$i !== undefined) ||\n                        eventTarget === self.input ||\n                        eventTarget === self.altInput) {\n                        if (e.ctrlKey) {\n                            e.stopPropagation();\n                            changeYear(self.currentYear - delta);\n                            focusOnDay(getFirstAvailableDay(1), 0);\n                        }\n                        else if (!isTimeObj)\n                            focusOnDay(undefined, delta * 7);\n                    }\n                    else if (eventTarget === self.currentYearElement) {\n                        changeYear(self.currentYear - delta);\n                    }\n                    else if (self.config.enableTime) {\n                        if (!isTimeObj && self.hourElement)\n                            self.hourElement.focus();\n                        updateTime(e);\n                        self._debouncedChange();\n                    }\n                    break;\n                case 9:\n                    if (isTimeObj) {\n                        var elems = [\n                            self.hourElement,\n                            self.minuteElement,\n                            self.secondElement,\n                            self.amPM,\n                        ]\n                            .concat(self.pluginElements)\n                            .filter(function (x) { return x; });\n                        var i = elems.indexOf(eventTarget);\n                        if (i !== -1) {\n                            var target = elems[i + (e.shiftKey ? -1 : 1)];\n                            e.preventDefault();\n                            (target || self._input).focus();\n                        }\n                    }\n                    else if (!self.config.noCalendar &&\n                        self.daysContainer &&\n                        self.daysContainer.contains(eventTarget) &&\n                        e.shiftKey) {\n                        e.preventDefault();\n                        self._input.focus();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            switch (e.key) {\n                case self.l10n.amPM[0].charAt(0):\n                case self.l10n.amPM[0].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[0];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n                case self.l10n.amPM[1].charAt(0):\n                case self.l10n.amPM[1].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[1];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n            }\n        }\n        if (isInput || isCalendarElem(eventTarget)) {\n            triggerEvent(\"onKeyDown\", e);\n        }\n    }\n    function onMouseOver(elem, cellClass) {\n        if (cellClass === void 0) { cellClass = \"flatpickr-day\"; }\n        if (self.selectedDates.length !== 1 ||\n            (elem &&\n                (!elem.classList.contains(cellClass) ||\n                    elem.classList.contains(\"flatpickr-disabled\"))))\n            return;\n        var hoverDate = elem\n            ? elem.dateObj.getTime()\n            : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n        var containsDisabled = false;\n        var minRange = 0, maxRange = 0;\n        for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n            if (!isEnabled(new Date(t), true)) {\n                containsDisabled =\n                    containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                if (t < initialDate && (!minRange || t > minRange))\n                    minRange = t;\n                else if (t > initialDate && (!maxRange || t < maxRange))\n                    maxRange = t;\n            }\n        }\n        var hoverableCells = Array.from(self.rContainer.querySelectorAll(\"*:nth-child(-n+\" + self.config.showMonths + \") > .\" + cellClass));\n        hoverableCells.forEach(function (dayElem) {\n            var date = dayElem.dateObj;\n            var timestamp = date.getTime();\n            var outOfRange = (minRange > 0 && timestamp < minRange) ||\n                (maxRange > 0 && timestamp > maxRange);\n            if (outOfRange) {\n                dayElem.classList.add(\"notAllowed\");\n                [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\n                    dayElem.classList.remove(c);\n                });\n                return;\n            }\n            else if (containsDisabled && !outOfRange)\n                return;\n            [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\n                dayElem.classList.remove(c);\n            });\n            if (elem !== undefined) {\n                elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                    ? \"startRange\"\n                    : \"endRange\");\n                if (initialDate < hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"startRange\");\n                else if (initialDate > hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"endRange\");\n                if (timestamp >= minRange &&\n                    (maxRange === 0 || timestamp <= maxRange) &&\n                    isBetween(timestamp, initialDate, hoverDate))\n                    dayElem.classList.add(\"inRange\");\n            }\n        });\n    }\n    function onResize() {\n        if (self.isOpen && !self.config.static && !self.config.inline)\n            positionCalendar();\n    }\n    function open(e, positionElement) {\n        if (positionElement === void 0) { positionElement = self._positionElement; }\n        if (self.isMobile === true) {\n            if (e) {\n                e.preventDefault();\n                var eventTarget = getEventTarget(e);\n                if (eventTarget) {\n                    eventTarget.blur();\n                }\n            }\n            if (self.mobileInput !== undefined) {\n                self.mobileInput.focus();\n                self.mobileInput.click();\n            }\n            triggerEvent(\"onOpen\");\n            return;\n        }\n        else if (self._input.disabled || self.config.inline) {\n            return;\n        }\n        var wasOpen = self.isOpen;\n        self.isOpen = true;\n        if (!wasOpen) {\n            self.calendarContainer.classList.add(\"open\");\n            self._input.classList.add(\"active\");\n            triggerEvent(\"onOpen\");\n            positionCalendar(positionElement);\n        }\n        if (self.config.enableTime === true && self.config.noCalendar === true) {\n            if (self.config.allowInput === false &&\n                (e === undefined ||\n                    !self.timeContainer.contains(e.relatedTarget))) {\n                setTimeout(function () { return self.hourElement.select(); }, 50);\n            }\n        }\n    }\n    function minMaxDateSetter(type) {\n        return function (date) {\n            var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat));\n            var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\n            if (dateObj !== undefined) {\n                self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                    dateObj.getHours() > 0 ||\n                        dateObj.getMinutes() > 0 ||\n                        dateObj.getSeconds() > 0;\n            }\n            if (self.selectedDates) {\n                self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\n                if (!self.selectedDates.length && type === \"min\")\n                    setHoursFromDate(dateObj);\n                updateValue();\n            }\n            if (self.daysContainer) {\n                redraw();\n                if (dateObj !== undefined)\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\n                else\n                    self.currentYearElement.removeAttribute(type);\n                self.currentYearElement.disabled =\n                    !!inverseDateObj &&\n                        dateObj !== undefined &&\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\n            }\n        };\n    }\n    function parseConfig() {\n        var boolOpts = [\n            \"wrap\",\n            \"weekNumbers\",\n            \"allowInput\",\n            \"allowInvalidPreload\",\n            \"clickOpens\",\n            \"time_24hr\",\n            \"enableTime\",\n            \"noCalendar\",\n            \"altInput\",\n            \"shorthandCurrentMonth\",\n            \"inline\",\n            \"static\",\n            \"enableSeconds\",\n            \"disableMobile\",\n        ];\n        var userConfig = __assign(__assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);\n        var formats = {};\n        self.config.parseDate = userConfig.parseDate;\n        self.config.formatDate = userConfig.formatDate;\n        Object.defineProperty(self.config, \"enable\", {\n            get: function () { return self.config._enable; },\n            set: function (dates) {\n                self.config._enable = parseDateRules(dates);\n            },\n        });\n        Object.defineProperty(self.config, \"disable\", {\n            get: function () { return self.config._disable; },\n            set: function (dates) {\n                self.config._disable = parseDateRules(dates);\n            },\n        });\n        var timeMode = userConfig.mode === \"time\";\n        if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n            var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaultOptions.dateFormat;\n            formats.dateFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                    : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n        }\n        if (userConfig.altInput &&\n            (userConfig.enableTime || timeMode) &&\n            !userConfig.altFormat) {\n            var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaultOptions.altFormat;\n            formats.altFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                    : defaultAltFormat + (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\n        }\n        Object.defineProperty(self.config, \"minDate\", {\n            get: function () { return self.config._minDate; },\n            set: minMaxDateSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxDate\", {\n            get: function () { return self.config._maxDate; },\n            set: minMaxDateSetter(\"max\"),\n        });\n        var minMaxTimeSetter = function (type) { return function (val) {\n            self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n        }; };\n        Object.defineProperty(self.config, \"minTime\", {\n            get: function () { return self.config._minTime; },\n            set: minMaxTimeSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxTime\", {\n            get: function () { return self.config._maxTime; },\n            set: minMaxTimeSetter(\"max\"),\n        });\n        if (userConfig.mode === \"time\") {\n            self.config.noCalendar = true;\n            self.config.enableTime = true;\n        }\n        Object.assign(self.config, formats, userConfig);\n        for (var i = 0; i < boolOpts.length; i++)\n            self.config[boolOpts[i]] =\n                self.config[boolOpts[i]] === true ||\n                    self.config[boolOpts[i]] === \"true\";\n        HOOKS.filter(function (hook) { return self.config[hook] !== undefined; }).forEach(function (hook) {\n            self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n        });\n        self.isMobile =\n            !self.config.disableMobile &&\n                !self.config.inline &&\n                self.config.mode === \"single\" &&\n                !self.config.disable.length &&\n                !self.config.enable &&\n                !self.config.weekNumbers &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        for (var i = 0; i < self.config.plugins.length; i++) {\n            var pluginConf = self.config.plugins[i](self) || {};\n            for (var key in pluginConf) {\n                if (HOOKS.indexOf(key) > -1) {\n                    self.config[key] = arrayify(pluginConf[key])\n                        .map(bindToInstance)\n                        .concat(self.config[key]);\n                }\n                else if (typeof userConfig[key] === \"undefined\")\n                    self.config[key] = pluginConf[key];\n            }\n        }\n        if (!userConfig.altInputClass) {\n            self.config.altInputClass =\n                getInputElem().className + \" \" + self.config.altInputClass;\n        }\n        triggerEvent(\"onParseConfig\");\n    }\n    function getInputElem() {\n        return self.config.wrap\n            ? element.querySelector(\"[data-input]\")\n            : element;\n    }\n    function setupLocale() {\n        if (typeof self.config.locale !== \"object\" &&\n            typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n            self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\n        self.l10n = __assign(__assign({}, flatpickr.l10ns.default), (typeof self.config.locale === \"object\"\n            ? self.config.locale\n            : self.config.locale !== \"default\"\n                ? flatpickr.l10ns[self.config.locale]\n                : undefined));\n        tokenRegex.D = \"(\" + self.l10n.weekdays.shorthand.join(\"|\") + \")\";\n        tokenRegex.l = \"(\" + self.l10n.weekdays.longhand.join(\"|\") + \")\";\n        tokenRegex.M = \"(\" + self.l10n.months.shorthand.join(\"|\") + \")\";\n        tokenRegex.F = \"(\" + self.l10n.months.longhand.join(\"|\") + \")\";\n        tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\n        var userConfig = __assign(__assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));\n        if (userConfig.time_24hr === undefined &&\n            flatpickr.defaultConfig.time_24hr === undefined) {\n            self.config.time_24hr = self.l10n.time_24hr;\n        }\n        self.formatDate = createDateFormatter(self);\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    }\n    function positionCalendar(customPositionElement) {\n        if (typeof self.config.position === \"function\") {\n            return void self.config.position(self, customPositionElement);\n        }\n        if (self.calendarContainer === undefined)\n            return;\n        triggerEvent(\"onPreCalendarPosition\");\n        var positionElement = customPositionElement || self._positionElement;\n        var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, (function (acc, child) { return acc + child.offsetHeight; }), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n            (configPosVertical !== \"below\" &&\n                distanceFromBottom < calendarHeight &&\n                inputBounds.top > calendarHeight);\n        var top = window.pageYOffset +\n            inputBounds.top +\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n        if (self.config.inline)\n            return;\n        var left = window.pageXOffset + inputBounds.left;\n        var isCenter = false;\n        var isRight = false;\n        if (configPosHorizontal === \"center\") {\n            left -= (calendarWidth - inputBounds.width) / 2;\n            isCenter = true;\n        }\n        else if (configPosHorizontal === \"right\") {\n            left -= calendarWidth - inputBounds.width;\n            isRight = true;\n        }\n        toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\n        toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\n        toggleClass(self.calendarContainer, \"arrowRight\", isRight);\n        var right = window.document.body.offsetWidth -\n            (window.pageXOffset + inputBounds.right);\n        var rightMost = left + calendarWidth > window.document.body.offsetWidth;\n        var centerMost = right + calendarWidth > window.document.body.offsetWidth;\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n        if (self.config.static)\n            return;\n        self.calendarContainer.style.top = top + \"px\";\n        if (!rightMost) {\n            self.calendarContainer.style.left = left + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n        else if (!centerMost) {\n            self.calendarContainer.style.left = \"auto\";\n            self.calendarContainer.style.right = right + \"px\";\n        }\n        else {\n            var doc = getDocumentStyleSheet();\n            if (doc === undefined)\n                return;\n            var bodyWidth = window.document.body.offsetWidth;\n            var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n            var centerBefore = \".flatpickr-calendar.centerMost:before\";\n            var centerAfter = \".flatpickr-calendar.centerMost:after\";\n            var centerIndex = doc.cssRules.length;\n            var centerStyle = \"{left:\" + inputBounds.left + \"px;right:auto;}\";\n            toggleClass(self.calendarContainer, \"rightMost\", false);\n            toggleClass(self.calendarContainer, \"centerMost\", true);\n            doc.insertRule(centerBefore + \",\" + centerAfter + centerStyle, centerIndex);\n            self.calendarContainer.style.left = centerLeft + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n    }\n    function getDocumentStyleSheet() {\n        var editableSheet = null;\n        for (var i = 0; i < document.styleSheets.length; i++) {\n            var sheet = document.styleSheets[i];\n            if (!sheet.cssRules)\n                continue;\n            try {\n                sheet.cssRules;\n            }\n            catch (err) {\n                continue;\n            }\n            editableSheet = sheet;\n            break;\n        }\n        return editableSheet != null ? editableSheet : createStyleSheet();\n    }\n    function createStyleSheet() {\n        var style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        return style.sheet;\n    }\n    function redraw() {\n        if (self.config.noCalendar || self.isMobile)\n            return;\n        buildMonthSwitch();\n        updateNavigationCurrentMonth();\n        buildDays();\n    }\n    function focusAndClose() {\n        self._input.focus();\n        if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n            navigator.msMaxTouchPoints !== undefined) {\n            setTimeout(self.close, 0);\n        }\n        else {\n            self.close();\n        }\n    }\n    function selectDate(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var isSelectable = function (day) {\n            return day.classList &&\n                day.classList.contains(\"flatpickr-day\") &&\n                !day.classList.contains(\"flatpickr-disabled\") &&\n                !day.classList.contains(\"notAllowed\");\n        };\n        var t = findParent(getEventTarget(e), isSelectable);\n        if (t === undefined)\n            return;\n        var target = t;\n        var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n        var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n            selectedDate.getMonth() >\n                self.currentMonth + self.config.showMonths - 1) &&\n            self.config.mode !== \"range\";\n        self.selectedDateElem = target;\n        if (self.config.mode === \"single\")\n            self.selectedDates = [selectedDate];\n        else if (self.config.mode === \"multiple\") {\n            var selectedIndex = isDateSelected(selectedDate);\n            if (selectedIndex)\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\n            else\n                self.selectedDates.push(selectedDate);\n        }\n        else if (self.config.mode === \"range\") {\n            if (self.selectedDates.length === 2) {\n                self.clear(false, false);\n            }\n            self.latestSelectedDateObj = selectedDate;\n            self.selectedDates.push(selectedDate);\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n        }\n        setHoursFromInputs();\n        if (shouldChangeMonth) {\n            var isNewYear = self.currentYear !== selectedDate.getFullYear();\n            self.currentYear = selectedDate.getFullYear();\n            self.currentMonth = selectedDate.getMonth();\n            if (isNewYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            triggerEvent(\"onMonthChange\");\n        }\n        updateNavigationCurrentMonth();\n        buildDays();\n        updateValue();\n        if (!shouldChangeMonth &&\n            self.config.mode !== \"range\" &&\n            self.config.showMonths === 1)\n            focusOnDayElem(target);\n        else if (self.selectedDateElem !== undefined &&\n            self.hourElement === undefined) {\n            self.selectedDateElem && self.selectedDateElem.focus();\n        }\n        if (self.hourElement !== undefined)\n            self.hourElement !== undefined && self.hourElement.focus();\n        if (self.config.closeOnSelect) {\n            var single = self.config.mode === \"single\" && !self.config.enableTime;\n            var range = self.config.mode === \"range\" &&\n                self.selectedDates.length === 2 &&\n                !self.config.enableTime;\n            if (single || range) {\n                focusAndClose();\n            }\n        }\n        triggerChange();\n    }\n    var CALLBACKS = {\n        locale: [setupLocale, updateWeekdays],\n        showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n        minDate: [jumpToDate],\n        maxDate: [jumpToDate],\n        positionElement: [updatePositionElement],\n        clickOpens: [\n            function () {\n                if (self.config.clickOpens === true) {\n                    bind(self._input, \"focus\", self.open);\n                    bind(self._input, \"click\", self.open);\n                }\n                else {\n                    self._input.removeEventListener(\"focus\", self.open);\n                    self._input.removeEventListener(\"click\", self.open);\n                }\n            },\n        ],\n    };\n    function set(option, value) {\n        if (option !== null && typeof option === \"object\") {\n            Object.assign(self.config, option);\n            for (var key in option) {\n                if (CALLBACKS[key] !== undefined)\n                    CALLBACKS[key].forEach(function (x) { return x(); });\n            }\n        }\n        else {\n            self.config[option] = value;\n            if (CALLBACKS[option] !== undefined)\n                CALLBACKS[option].forEach(function (x) { return x(); });\n            else if (HOOKS.indexOf(option) > -1)\n                self.config[option] = arrayify(value);\n        }\n        self.redraw();\n        updateValue(true);\n    }\n    function setSelectedDate(inputDate, format) {\n        var dates = [];\n        if (inputDate instanceof Array)\n            dates = inputDate.map(function (d) { return self.parseDate(d, format); });\n        else if (inputDate instanceof Date || typeof inputDate === \"number\")\n            dates = [self.parseDate(inputDate, format)];\n        else if (typeof inputDate === \"string\") {\n            switch (self.config.mode) {\n                case \"single\":\n                case \"time\":\n                    dates = [self.parseDate(inputDate, format)];\n                    break;\n                case \"multiple\":\n                    dates = inputDate\n                        .split(self.config.conjunction)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                case \"range\":\n                    dates = inputDate\n                        .split(self.l10n.rangeSeparator)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                default:\n                    break;\n            }\n        }\n        else\n            self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\n        self.selectedDates = (self.config.allowInvalidPreload\n            ? dates\n            : dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); }));\n        if (self.config.mode === \"range\")\n            self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n    }\n    function setDate(date, triggerChange, format) {\n        if (triggerChange === void 0) { triggerChange = false; }\n        if (format === void 0) { format = self.config.dateFormat; }\n        if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n            return self.clear(triggerChange);\n        setSelectedDate(date, format);\n        self.latestSelectedDateObj =\n            self.selectedDates[self.selectedDates.length - 1];\n        self.redraw();\n        jumpToDate(undefined, triggerChange);\n        setHoursFromDate();\n        if (self.selectedDates.length === 0) {\n            self.clear(false);\n        }\n        updateValue(triggerChange);\n        if (triggerChange)\n            triggerEvent(\"onChange\");\n    }\n    function parseDateRules(arr) {\n        return arr\n            .slice()\n            .map(function (rule) {\n            if (typeof rule === \"string\" ||\n                typeof rule === \"number\" ||\n                rule instanceof Date) {\n                return self.parseDate(rule, undefined, true);\n            }\n            else if (rule &&\n                typeof rule === \"object\" &&\n                rule.from &&\n                rule.to)\n                return {\n                    from: self.parseDate(rule.from, undefined),\n                    to: self.parseDate(rule.to, undefined),\n                };\n            return rule;\n        })\n            .filter(function (x) { return x; });\n    }\n    function setupDates() {\n        self.selectedDates = [];\n        self.now = self.parseDate(self.config.now) || new Date();\n        var preloadedDate = self.config.defaultDate ||\n            ((self.input.nodeName === \"INPUT\" ||\n                self.input.nodeName === \"TEXTAREA\") &&\n                self.input.placeholder &&\n                self.input.value === self.input.placeholder\n                ? null\n                : self.input.value);\n        if (preloadedDate)\n            setSelectedDate(preloadedDate, self.config.dateFormat);\n        self._initialDate =\n            self.selectedDates.length > 0\n                ? self.selectedDates[0]\n                : self.config.minDate &&\n                    self.config.minDate.getTime() > self.now.getTime()\n                    ? self.config.minDate\n                    : self.config.maxDate &&\n                        self.config.maxDate.getTime() < self.now.getTime()\n                        ? self.config.maxDate\n                        : self.now;\n        self.currentYear = self._initialDate.getFullYear();\n        self.currentMonth = self._initialDate.getMonth();\n        if (self.selectedDates.length > 0)\n            self.latestSelectedDateObj = self.selectedDates[0];\n        if (self.config.minTime !== undefined)\n            self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n        if (self.config.maxTime !== undefined)\n            self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n        self.minDateHasTime =\n            !!self.config.minDate &&\n                (self.config.minDate.getHours() > 0 ||\n                    self.config.minDate.getMinutes() > 0 ||\n                    self.config.minDate.getSeconds() > 0);\n        self.maxDateHasTime =\n            !!self.config.maxDate &&\n                (self.config.maxDate.getHours() > 0 ||\n                    self.config.maxDate.getMinutes() > 0 ||\n                    self.config.maxDate.getSeconds() > 0);\n    }\n    function setupInputs() {\n        self.input = getInputElem();\n        if (!self.input) {\n            self.config.errorHandler(new Error(\"Invalid input element specified\"));\n            return;\n        }\n        self.input._type = self.input.type;\n        self.input.type = \"text\";\n        self.input.classList.add(\"flatpickr-input\");\n        self._input = self.input;\n        if (self.config.altInput) {\n            self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n            self._input = self.altInput;\n            self.altInput.placeholder = self.input.placeholder;\n            self.altInput.disabled = self.input.disabled;\n            self.altInput.required = self.input.required;\n            self.altInput.tabIndex = self.input.tabIndex;\n            self.altInput.type = \"text\";\n            self.input.setAttribute(\"type\", \"hidden\");\n            if (!self.config.static && self.input.parentNode)\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n        }\n        if (!self.config.allowInput)\n            self._input.setAttribute(\"readonly\", \"readonly\");\n        updatePositionElement();\n    }\n    function updatePositionElement() {\n        self._positionElement = self.config.positionElement || self._input;\n    }\n    function setupMobile() {\n        var inputType = self.config.enableTime\n            ? self.config.noCalendar\n                ? \"time\"\n                : \"datetime-local\"\n            : \"date\";\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n        self.mobileInput.tabIndex = 1;\n        self.mobileInput.type = inputType;\n        self.mobileInput.disabled = self.input.disabled;\n        self.mobileInput.required = self.input.required;\n        self.mobileInput.placeholder = self.input.placeholder;\n        self.mobileFormatStr =\n            inputType === \"datetime-local\"\n                ? \"Y-m-d\\\\TH:i:S\"\n                : inputType === \"date\"\n                    ? \"Y-m-d\"\n                    : \"H:i:S\";\n        if (self.selectedDates.length > 0) {\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n        }\n        if (self.config.minDate)\n            self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n        if (self.config.maxDate)\n            self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n        if (self.input.getAttribute(\"step\"))\n            self.mobileInput.step = String(self.input.getAttribute(\"step\"));\n        self.input.type = \"hidden\";\n        if (self.altInput !== undefined)\n            self.altInput.type = \"hidden\";\n        try {\n            if (self.input.parentNode)\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n        }\n        catch (_a) { }\n        bind(self.mobileInput, \"change\", function (e) {\n            self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);\n            triggerEvent(\"onChange\");\n            triggerEvent(\"onClose\");\n        });\n    }\n    function toggle(e) {\n        if (self.isOpen === true)\n            return self.close();\n        self.open(e);\n    }\n    function triggerEvent(event, data) {\n        if (self.config === undefined)\n            return;\n        var hooks = self.config[event];\n        if (hooks !== undefined && hooks.length > 0) {\n            for (var i = 0; hooks[i] && i < hooks.length; i++)\n                hooks[i](self.selectedDates, self.input.value, self, data);\n        }\n        if (event === \"onChange\") {\n            self.input.dispatchEvent(createEvent(\"change\"));\n            self.input.dispatchEvent(createEvent(\"input\"));\n        }\n    }\n    function createEvent(name) {\n        var e = document.createEvent(\"Event\");\n        e.initEvent(name, true, true);\n        return e;\n    }\n    function isDateSelected(date) {\n        for (var i = 0; i < self.selectedDates.length; i++) {\n            var selectedDate = self.selectedDates[i];\n            if (selectedDate instanceof Date &&\n                compareDates(selectedDate, date) === 0)\n                return \"\" + i;\n        }\n        return false;\n    }\n    function isDateInRange(date) {\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n            return false;\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\n            compareDates(date, self.selectedDates[1]) <= 0);\n    }\n    function updateNavigationCurrentMonth() {\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\n            return;\n        self.yearElements.forEach(function (yearElement, i) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                self.monthElements[i].textContent =\n                    monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n            }\n            else {\n                self.monthsDropdownContainer.value = d.getMonth().toString();\n            }\n            yearElement.value = d.getFullYear().toString();\n        });\n        self._hidePrevMonthArrow =\n            self.config.minDate !== undefined &&\n                (self.currentYear === self.config.minDate.getFullYear()\n                    ? self.currentMonth <= self.config.minDate.getMonth()\n                    : self.currentYear < self.config.minDate.getFullYear());\n        self._hideNextMonthArrow =\n            self.config.maxDate !== undefined &&\n                (self.currentYear === self.config.maxDate.getFullYear()\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                    : self.currentYear > self.config.maxDate.getFullYear());\n    }\n    function getDateStr(specificFormat) {\n        var format = specificFormat ||\n            (self.config.altInput ? self.config.altFormat : self.config.dateFormat);\n        return self.selectedDates\n            .map(function (dObj) { return self.formatDate(dObj, format); })\n            .filter(function (d, i, arr) {\n            return self.config.mode !== \"range\" ||\n                self.config.enableTime ||\n                arr.indexOf(d) === i;\n        })\n            .join(self.config.mode !== \"range\"\n            ? self.config.conjunction\n            : self.l10n.rangeSeparator);\n    }\n    function updateValue(triggerChange) {\n        if (triggerChange === void 0) { triggerChange = true; }\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\n            self.mobileInput.value =\n                self.latestSelectedDateObj !== undefined\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                    : \"\";\n        }\n        self.input.value = getDateStr(self.config.dateFormat);\n        if (self.altInput !== undefined) {\n            self.altInput.value = getDateStr(self.config.altFormat);\n        }\n        if (triggerChange !== false)\n            triggerEvent(\"onValueUpdate\");\n    }\n    function onMonthNavClick(e) {\n        var eventTarget = getEventTarget(e);\n        var isPrevMonth = self.prevMonthNav.contains(eventTarget);\n        var isNextMonth = self.nextMonthNav.contains(eventTarget);\n        if (isPrevMonth || isNextMonth) {\n            changeMonth(isPrevMonth ? -1 : 1);\n        }\n        else if (self.yearElements.indexOf(eventTarget) >= 0) {\n            eventTarget.select();\n        }\n        else if (eventTarget.classList.contains(\"arrowUp\")) {\n            self.changeYear(self.currentYear + 1);\n        }\n        else if (eventTarget.classList.contains(\"arrowDown\")) {\n            self.changeYear(self.currentYear - 1);\n        }\n    }\n    function timeWrapper(e) {\n        e.preventDefault();\n        var isKeyDown = e.type === \"keydown\", eventTarget = getEventTarget(e), input = eventTarget;\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            self.amPM.textContent =\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n        }\n        var min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n            (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n        var newValue = curValue + step * delta;\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n            var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n            if (newValue < min) {\n                newValue =\n                    max +\n                        newValue +\n                        int(!isHourElem) +\n                        (int(isHourElem) && int(!self.amPM));\n                if (isMinuteElem)\n                    incrementNumInput(undefined, -1, self.hourElement);\n            }\n            else if (newValue > max) {\n                newValue =\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                if (isMinuteElem)\n                    incrementNumInput(undefined, 1, self.hourElement);\n            }\n            if (self.amPM &&\n                isHourElem &&\n                (step === 1\n                    ? newValue + curValue === 23\n                    : Math.abs(newValue - curValue) > step)) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            input.value = pad(newValue);\n        }\n    }\n    init();\n    return self;\n}\nfunction _flatpickr(nodeList, config) {\n    var nodes = Array.prototype.slice\n        .call(nodeList)\n        .filter(function (x) { return x instanceof HTMLElement; });\n    var instances = [];\n    for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        try {\n            if (node.getAttribute(\"data-fp-omit\") !== null)\n                continue;\n            if (node._flatpickr !== undefined) {\n                node._flatpickr.destroy();\n                node._flatpickr = undefined;\n            }\n            node._flatpickr = FlatpickrInstance(node, config || {});\n            instances.push(node._flatpickr);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    return instances.length === 1 ? instances[0] : instances;\n}\nif (typeof HTMLElement !== \"undefined\" &&\n    typeof HTMLCollection !== \"undefined\" &&\n    typeof NodeList !== \"undefined\") {\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n    HTMLElement.prototype.flatpickr = function (config) {\n        return _flatpickr([this], config);\n    };\n}\nvar flatpickr = function (selector, config) {\n    if (typeof selector === \"string\") {\n        return _flatpickr(window.document.querySelectorAll(selector), config);\n    }\n    else if (selector instanceof Node) {\n        return _flatpickr([selector], config);\n    }\n    else {\n        return _flatpickr(selector, config);\n    }\n};\nflatpickr.defaultConfig = {};\nflatpickr.l10ns = {\n    en: __assign({}, English),\n    default: __assign({}, English),\n};\nflatpickr.localize = function (l10n) {\n    flatpickr.l10ns.default = __assign(__assign({}, flatpickr.l10ns.default), l10n);\n};\nflatpickr.setDefaults = function (config) {\n    flatpickr.defaultConfig = __assign(__assign({}, flatpickr.defaultConfig), config);\n};\nflatpickr.parseDate = createDateParser({});\nflatpickr.formatDate = createDateFormatter({});\nflatpickr.compareDates = compareDates;\nif (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n    jQuery.fn.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n}\nDate.prototype.fp_incr = function (days) {\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n};\nif (typeof window !== \"undefined\") {\n    window.flatpickr = flatpickr;\n}\nexport default flatpickr;\n","/**\n * Updates the display elements with the selected dates and calculates duration\n * @param {string} pickupDateId - ID of the pickup date input element\n * @param {string} returnDateId - ID of the return date input element\n */\nexport const updateDateDisplay = () => {\n  // Get the date input elements\n  const pickupDateInput = document.querySelector(\"#i-pickup-date\");\n  const returnDateInput = document.querySelector(\"#i-return-date\");\n\n  // Get the display elements\n  const pickupDateDisplay = document.querySelector(\"#v-pickup-date\");\n  const returnDateDisplay = document.querySelector(\"#v-return-date\");\n  const durationDisplay = document.querySelector(\"#v-calc-duration\");\n\n  // Update the display elements with formatted dates\n  if (pickupDateInput.value) {\n    const pickupDate = new Date(pickupDateInput.value);\n    pickupDateDisplay.textContent = formatDateTime(pickupDate);\n  }\n\n  if (returnDateInput.value) {\n    const returnDate = new Date(returnDateInput.value);\n    returnDateDisplay.textContent = formatDateTime(returnDate);\n  }\n\n  // Calculate and display duration if both dates are set\n  if (pickupDateInput.value && returnDateInput.value) {\n    const duration = calculateDuration(\n      new Date(pickupDateInput.value),\n      new Date(returnDateInput.value)\n    );\n    durationDisplay.textContent = duration;\n  }\n};\n\n/**\n * Formats a date object to a readable string\n * @param {Date} date - The date to format\n * @returns {string} Formatted date string\n */\nconst formatDateTime = (date) => {\n  return date.toLocaleString(\"en-US\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  });\n};\n\n/**\n * Calculates the duration in days between two dates\n * @param {Date} pickupDate - The pickup date\n * @param {Date} returnDate - The return date\n * @returns {number} Number of days between dates\n */\nconst calculateDuration = (pickupDate, returnDate) => {\n  const diffTime = returnDate - pickupDate;\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n  return diffDays;\n};\n","import flatpickr from 'flatpickr'\nimport { updateDateDisplay } from './displayCalculations'\n\nfunction initializePickupLocation() {\n  const pickupConfirmation = document.querySelector('#pickup-confirmation')\n  const pickupLocation = document.querySelector('#i-pickup-location')\n  const returnLocation = document.querySelector('#i-return-location')\n  const deliveryFeeElement = document.querySelector('#v-calc-delivery-fee')\n  const vPickupLocation = document.querySelector('#v-pickup-location')\n  const vReturnLocation = document.querySelector('#v-return-location')\n\n  pickupLocation.closest('.input-dropdown').style.display = 'none'\n  returnLocation.closest('.input-dropdown').style.display = 'none'\n\n  pickupLocation.addEventListener('change', function () {\n    if (this.selectedIndex !== 0) {\n      vPickupLocation.textContent = this.options[this.selectedIndex].text\n    }\n  })\n\n  returnLocation.addEventListener('change', function () {\n    if (this.selectedIndex !== 0) {\n      vReturnLocation.textContent = this.options[this.selectedIndex].text\n    }\n  })\n\n  pickupConfirmation.addEventListener('change', function () {\n    const displayStyle = this.checked ? 'block' : 'none'\n    pickupLocation.closest('.input-dropdown').style.display = displayStyle\n    returnLocation.closest('.input-dropdown').style.display = displayStyle\n\n    deliveryFeeElement.textContent = this.checked ? '250.00' : '0.00'\n\n    if (!this.checked) {\n      pickupLocation.selectedIndex = 0\n      returnLocation.selectedIndex = 0\n      vPickupLocation.textContent = '-'\n      vReturnLocation.textContent = '-'\n    }\n  })\n}\n\nexport function initializeDatePickers() {\n  let pickupDateInstance\n  let returnDateInstance\n\n  const pickupDateConfig = {\n    enableTime: true,\n    dateFormat: 'Y-m-d H:i',\n    minDate: 'today',\n    time_24hr: true,\n    minuteIncrement: 30,\n    onChange: function (selectedDates) {\n      if (returnDateInstance) {\n        returnDateInstance.set('minDate', selectedDates[0])\n\n        const returnDate = returnDateInstance.selectedDates[0]\n        if (returnDate && returnDate < selectedDates[0]) {\n          returnDateInstance.clear()\n          showDateAlert(\n            'Return date cannot be earlier than pickup date. Please select a new return date.'\n          )\n        }\n      }\n      updateDateDisplay()\n    },\n  }\n\n  const returnDateConfig = {\n    enableTime: true,\n    dateFormat: 'Y-m-d H:i',\n    minDate: 'today',\n    time_24hr: true,\n    minuteIncrement: 30,\n    onChange: function (selectedDates) {\n      const pickupDate = pickupDateInstance.selectedDates[0]\n\n      if (pickupDate && selectedDates[0] < pickupDate) {\n        returnDateInstance.clear()\n        showDateAlert(\n          'Return date cannot be earlier than pickup date. Please select a valid date.'\n        )\n        return\n      }\n      updateDateDisplay()\n    },\n  }\n\n  pickupDateInstance = flatpickr('#i-pickup-date', pickupDateConfig)\n  returnDateInstance = flatpickr('#i-return-date', returnDateConfig)\n\n  const dobConfig = {\n    dateFormat: 'Y-m-d',\n    maxDate: new Date(),\n    yearRange: [1900, new Date().getFullYear()],\n  }\n\n  const expirationConfig = {\n    dateFormat: 'Y-m-d',\n    minDate: 'today',\n  }\n\n  flatpickr('#i-date-of-birth', dobConfig)\n  flatpickr('#i-expiration-date', expirationConfig)\n\n  initializePickupLocation()\n}\n\nfunction showDateAlert(message) {\n  const errorAlert = document\n    .querySelector('#i-return-date')\n    .closest('.f-field-wrapper')\n    .querySelector('.error-alert-bg')\n\n  errorAlert.querySelector('.error-alert-text').textContent = message\n  errorAlert.classList.remove('is-hidden')\n\n  setTimeout(() => {\n    errorAlert.classList.add('is-hidden')\n  }, 5000)\n}\n","import { calculateTotals } from \"./calculations\";\n\n// Optimized EXTRAS array with proper mapping\nconst EXTRAS = [\n  {\n    id: 1,\n    name: \"NAD-45-000.00-Excess-Waiver\",\n    baseFee: 45000,\n    perDay: false,\n    displayName: \"NAD 45,000.00 Excess Waiver\",\n  },\n  {\n    id: 2,\n    name: \"Tyre-Glass-Waiver\",\n    baseFee: 165,\n    perDay: true,\n    displayName: \"Tyre & Glass Waiver @ 165.00 p.d\",\n  },\n  {\n    id: 3,\n    name: \"Cross-Border-Charge\",\n    baseFee: 100,\n    perDay: false,\n    displayName: \"Cross Border Charge @ 100.00\",\n  },\n  {\n    id: 4,\n    name: \"Satellite-Phone-N-6000-Excess\",\n    baseFee: 140,\n    perDay: true,\n    displayName: \"Satellite Phone (N$6000 Excess) @ 140.00 p.d\",\n  },\n  {\n    id: 5,\n    name: \"Satellite-Phone-Zero-Excess\",\n    baseFee: 170,\n    perDay: true,\n    displayName: \"Satellite Phone (Zero Excess) @ 170.00 p.d\",\n  },\n  {\n    id: 6,\n    name: \"Camping-Equipment---Double-Cab\",\n    baseFee: 170,\n    perDay: true,\n    displayName: \"Camping Equipment - Double Cab @ NAD 170.00 p.d\",\n  },\n  {\n    id: 7,\n    name: \"Roof-Tents-Required\",\n    baseFee: 60,\n    perDay: true,\n    displayName: \"Roof Tents Required @ NAD 60.00 p.d\",\n  },\n  {\n    id: 8,\n    name: \"Engel-40L-Fridge-Freezer\",\n    baseFee: 90,\n    perDay: true,\n    displayName: \"Engel 40L Fridge/Freezer @ 90.00 p.d\",\n  },\n  {\n    id: 9,\n    name: \"Bedding-incl.-1x-sleeping-bag-1x-pillow\",\n    baseFee: 20,\n    perDay: true,\n    displayName: \"Bedding (incl. 1x sleeping bag + 1x pillow) @ 20.00 p.d\",\n  },\n  {\n    id: 10,\n    name: \"GPS-System\",\n    baseFee: 75,\n    perDay: true,\n    displayName: \"GPS System @ 75.00 p.d\",\n  },\n  {\n    id: 11,\n    name: \"SAT-Phone-Minutes\",\n    baseFee: 825,\n    perDay: false,\n    displayName: \"SAT Phone Minutes @ 825.00 once.off\",\n  },\n  {\n    id: 12,\n    name: \"Kitchen-wash-up-kit-small-dish-wash-liquid-2x-drying-cloth-2x-sponge-2x-cleaning-cloth-extras\",\n    baseFee: 150,\n    perDay: false,\n    displayName: \"Kitchen wash up kit @ 150.00 once.off\",\n  },\n  {\n    id: 13,\n    name: \"Ground-Tent\",\n    baseFee: 0,\n    perDay: false,\n    displayName: \"Free Ground Tent\",\n  },\n  {\n    id: 14,\n    name: \"Jerry-Can\",\n    baseFee: 10,\n    perDay: true,\n    displayName: \"Jerry Can @ 10.00 p.d\",\n  },\n  {\n    id: 15,\n    name: \"Baby-Seat\",\n    baseFee: 0,\n    perDay: false,\n    displayName: \"Free Baby Seat\",\n  },\n].map((extra) => ({\n  ...extra,\n  key: `extra-${extra.id}`,\n  inputId: `i-extra-${extra.id}`,\n  countId: `i-count-extra-${extra.id}`,\n  displayId: `v-calc-extra-${extra.id}`,\n  // Add validation helpers\n  getElements() {\n    return {\n      checkbox: document.querySelector(`#${this.inputId}`),\n      quantity: document.querySelector(`#${this.countId}`),\n      display: document.querySelector(`#${this.displayId}`),\n    };\n  },\n  isValid() {\n    const elements = this.getElements();\n    return elements.checkbox && elements.quantity && elements.display;\n  },\n}));\n\nconst updateExtraCalculation = (extraId) => {\n  const extra = EXTRAS.find((e) => e.id === extraId);\n  if (!extra || !extra.isValid()) return;\n\n  const elements = extra.getElements();\n  const quantity = parseInt(elements.quantity.value) || 0;\n  const duration =\n    parseInt(document.querySelector(\"#v-calc-duration\")?.textContent) || 0;\n\n  const cost = extra.perDay\n    ? extra.baseFee * quantity * duration\n    : extra.baseFee * quantity;\n\n  elements.display.textContent = cost.toFixed(2);\n\n  // Update total extras after individual calculation\n  updateExtrasTotal();\n};\n\n// New function to update extras total display\nconst updateExtrasTotal = () => {\n  const totalElement = document.querySelector(\"#v-calc-total-extra\");\n  if (!totalElement) return;\n\n  const total = EXTRAS.reduce((sum, extra) => {\n    if (!extra.isValid()) return sum;\n\n    const elements = extra.getElements();\n    if (!elements.checkbox.checked || elements.display.textContent === \"-\") {\n      return sum;\n    }\n\n    return sum + parseFloat(elements.display.textContent || \"0\");\n  }, 0);\n\n  totalElement.textContent = total.toFixed(2);\n};\n\nexport const calculateExtrasTotal = () => {\n  const total = EXTRAS.reduce((sum, extra) => {\n    if (!extra.isValid()) return sum;\n\n    const elements = extra.getElements();\n    if (!elements.checkbox.checked || elements.display.textContent === \"-\") {\n      return sum;\n    }\n\n    return sum + parseFloat(elements.display.textContent || \"0\");\n  }, 0);\n\n  // Update the display element\n  const totalElement = document.querySelector(\"#v-calc-total-extra\");\n  if (totalElement) {\n    totalElement.textContent = total.toFixed(2);\n  }\n\n  return total;\n};\n\nexport const initializeExtras = () => {\n  EXTRAS.forEach((extra) => {\n    if (!extra.isValid()) return;\n\n    const elements = extra.getElements();\n\n    elements.checkbox.addEventListener(\"change\", () => {\n      if (elements.checkbox.checked) {\n        elements.quantity.value = elements.quantity.value || \"1\";\n        updateExtraCalculation(extra.id);\n      } else {\n        elements.quantity.value = \"\";\n        elements.display.textContent = \"-\";\n        updateExtrasTotal();\n      }\n      calculateTotals();\n    });\n\n    elements.quantity.addEventListener(\"change\", () => {\n      if (elements.checkbox.checked) {\n        updateExtraCalculation(extra.id);\n        calculateTotals();\n      }\n    });\n  });\n\n  updateExtrasTotal();\n};\n\nexport const getExtraPrice = (extraName) => {\n  const extra = EXTRAS.find((e) => e.name === extraName);\n  return extra ? extra.baseFee : 0;\n};\n","import { calculateExtrasTotal } from \"./extras\";\n\n// Constants\nconst TAX_RATE = 0.15;\nconst SELECTORS = {\n  vehiclePrice: \"#v-calc-vehicle-price\",\n  duration: \"#v-calc-duration\",\n  deliveryFee: \"#v-calc-delivery-fee\",\n  totalExtra: \"#v-calc-total-extra\",\n  tax: \"#v-calc-tax\",\n  subtotal: \"#v-calc-subtotal\",\n  total: \"#v-calc-total\",\n};\n\n// Helper function to safely get numeric values from elements\nconst getNumericValue = (\n  selector,\n  defaultValue = 0,\n  parseFunc = parseFloat\n) => {\n  try {\n    const element = document.querySelector(selector);\n    if (!element) return defaultValue;\n    const value = parseFunc(element?.textContent || defaultValue);\n    return isNaN(value) ? defaultValue : value;\n  } catch (error) {\n    return defaultValue;\n  }\n};\n\n// Helper function to safely update element text\nconst updateElement = (selector, value) => {\n  try {\n    const element = document.querySelector(selector);\n    if (element) {\n      element.textContent = value.toFixed(2);\n    }\n  } catch (error) {\n    // Silent error handling\n  }\n};\n\nexport const calculateTotals = () => {\n  try {\n    // Get base values\n    const baseValues = {\n      vehiclePrice: getNumericValue(SELECTORS.vehiclePrice),\n      duration: getNumericValue(SELECTORS.duration, 0, parseInt),\n      deliveryFee: getNumericValue(SELECTORS.deliveryFee),\n    };\n\n    // Calculate components\n    const calculations = {\n      extrasTotal: calculateExtrasTotal(),\n      vehicleCost: baseValues.vehiclePrice * baseValues.duration,\n    };\n\n    // Calculate totals\n    const subtotal =\n      calculations.vehicleCost +\n      calculations.extrasTotal +\n      baseValues.deliveryFee;\n    const tax = subtotal * TAX_RATE;\n    const total = subtotal + tax;\n\n    // Update all displays\n    const updates = {\n      [SELECTORS.totalExtra]: calculations.extrasTotal,\n      [SELECTORS.tax]: tax,\n      [SELECTORS.subtotal]: subtotal,\n      [SELECTORS.total]: total,\n    };\n\n    // Batch update DOM elements\n    Object.entries(updates).forEach(([selector, value]) => {\n      updateElement(selector, value);\n    });\n\n    return { subtotal, tax, total };\n  } catch (error) {\n    return { subtotal: 0, tax: 0, total: 0 };\n  }\n};\n","import { calculateTotals } from \"./calculations\";\n\nexport const initializeVehicleSelection = () => {\n  const vehicleInputs = document.querySelectorAll('input[name=\"vehicle\"]');\n\n  vehicleInputs.forEach((input) => {\n    input.addEventListener(\"change\", (e) => {\n      const vehicleName = e.target\n        .closest(\".f-radio-field\")\n        .querySelector(\".vehicle-name\").textContent;\n      const vehiclePrice = parseFloat(e.target.value);\n\n      // Update vehicle display\n      document.querySelector(\"#v-vehicle-name\").textContent = vehicleName;\n      document.querySelector(\"#v-calc-vehicle-price\").textContent =\n        vehiclePrice.toFixed(2);\n\n      calculateTotals();\n    });\n  });\n};\n","/**\n * API Exchange Module\n * Handles currency conversion functionality with real-time exchange rates\n * @module apiExchange\n */\n\n/**\n * Exchange rates configuration\n * @constant {Object}\n * @property {number} NAD - Base currency (Namibian Dollar)\n * @property {number} USD - US Dollar rate\n * @property {number} EUR - Euro rate\n * @property {number} GBP - British Pound rate\n */\nlet EXCHANGE_RATES = {\n  NAD: 1,\n  USD: 0.054,\n  EUR: 0.049,\n  GBP: 0.042,\n};\n\n/**\n * Currency display configuration\n * @constant {Object}\n */\nconst CURRENCY_CONFIG = {\n  NAD: { symbol: \"N$\", decimals: 2 },\n  USD: { symbol: \"$\", decimals: 2 },\n  EUR: { symbol: \"€\", decimals: 2 },\n  GBP: { symbol: \"£\", decimals: 2 },\n};\n\n// At the top of the file, add rate update tracking\nconst RATE_UPDATE_INTERVAL = 3600000; // 1 hour in milliseconds\nlet lastRateUpdate = 0;\n\n// Add rate updating functionality\nasync function updateExchangeRates() {\n  const now = Date.now();\n  if (now - lastRateUpdate < RATE_UPDATE_INTERVAL) {\n    return; // Skip if rates were updated recently\n  }\n\n  const rates = await fetchExchangeRates();\n  if (rates) {\n    EXCHANGE_RATES = { ...rates };\n    lastRateUpdate = now;\n  }\n}\n\n/**\n * Initializes currency toggle functionality\n * @exports initializeCurrencyToggle\n * @throws {Error} If currency inputs are not found\n */\nexport const initializeCurrencyToggle = async () => {\n  try {\n    await updateExchangeRates(); // Get fresh rates on initialization\n\n    const currencyInputs = document.querySelectorAll(\n      'input[name=\"currency-group\"]'\n    );\n    if (!currencyInputs.length) {\n      throw new Error(\"No currency inputs found\");\n    }\n\n    const nadRadio = document.getElementById(\"i-currency-nad\");\n    if (nadRadio) {\n      nadRadio.checked = true;\n      updateCurrencyDisplay(\"NAD\");\n    }\n\n    // Use event delegation for better performance\n    const currencyGroup = document\n      .querySelector('[name=\"currency-group\"]')\n      .closest(\"form\");\n    if (currencyGroup) {\n      currencyGroup.addEventListener(\"change\", (e) => {\n        if (e.target.name === \"currency-group\") {\n          handleCurrencyChange(e);\n        }\n      });\n    }\n  } catch (error) {\n    console.error(\"Failed to initialize currency toggle:\", error);\n    showErrorMessage(\"Currency initialization failed\");\n  }\n};\n\n/**\n * Handles currency change events\n * @param {Event} e - Change event\n * @private\n */\nfunction handleCurrencyChange(e) {\n  const newCurrency = e.target.value;\n  updateCurrencyDisplay(newCurrency);\n}\n\n/**\n * Updates all price displays with the new currency\n * @param {string} newCurrency - The currency code to convert to\n * @exports updateCurrencyDisplay\n * @throws {Error} If currency is invalid\n */\nexport const updateCurrencyDisplay = (newCurrency) => {\n  try {\n    validateCurrency(newCurrency);\n    updatePriceElements(newCurrency);\n    updateCurrencySymbols(newCurrency);\n  } catch (error) {\n    console.error(\"Error updating currency:\", error);\n    showErrorMessage(`Failed to update currency: ${error.message}`);\n  }\n};\n\n/**\n * Shows error message to user\n * @param {string} message - Error message to display\n * @private\n */\nfunction showErrorMessage(message) {\n  const errorAlert = document.querySelector(\".error-alert-bg\");\n  if (errorAlert) {\n    errorAlert.querySelector(\".error-alert-text\").textContent = message;\n    errorAlert.classList.remove(\"is-hidden\");\n    setTimeout(() => errorAlert.classList.add(\"is-hidden\"), 5000);\n  }\n}\n\n/**\n * Validates the currency code\n * @param {string} currency - The currency code to validate\n * @throws {Error} If currency is invalid\n */\nfunction validateCurrency(currency) {\n  const rate = EXCHANGE_RATES[currency];\n  if (!rate) {\n    throw new Error(`Invalid currency: ${currency}`);\n  }\n}\n\n/**\n * Updates all price elements with converted values\n * @param {string} currency - The currency to convert to\n */\nfunction updatePriceElements(currency) {\n  const rate = EXCHANGE_RATES[currency];\n  const config = CURRENCY_CONFIG[currency];\n\n  // First, handle all individual price elements\n  document.querySelectorAll('[id^=\"v-calc-\"]').forEach((element) => {\n    // Skip non-price elements\n    if (element.id === \"v-calc-duration\") return;\n    if (element.textContent === \"-\") return;\n\n    // Store original NAD value on first conversion\n    if (\n      !element.hasAttribute(\"data-original-price\") &&\n      element.textContent !== \"-\"\n    ) {\n      element.setAttribute(\"data-original-price\", element.textContent);\n    }\n\n    // Get the original NAD price\n    const originalPrice = parseFloat(\n      element.getAttribute(\"data-original-price\")\n    );\n\n    if (!isNaN(originalPrice)) {\n      // Handle different element types\n      if (element.id === \"v-calc-vehicle-price\") {\n        const convertedPrice = (originalPrice * rate).toFixed(config.decimals);\n        element.textContent = convertedPrice;\n      } else if (element.id.startsWith(\"v-calc-extra-\")) {\n        const convertedPrice = (originalPrice * rate).toFixed(config.decimals);\n        element.textContent = convertedPrice;\n      } else if (element.id === \"v-calc-delivery-fee\") {\n        const convertedPrice = (originalPrice * rate).toFixed(config.decimals);\n        element.textContent = convertedPrice;\n      }\n    }\n  });\n\n  // Then, recalculate totals after all individual prices are converted\n  calculateTotalExtras(rate, config.decimals);\n  calculateFinalTotals(rate, config.decimals);\n}\n\n/**\n * Calculate total extras in the current currency\n * @param {number} rate - Current exchange rate\n * @param {number} decimals - Number of decimal places\n */\nfunction calculateTotalExtras(rate, decimals) {\n  const totalExtrasElement = document.querySelector(\"#v-calc-total-extra\");\n  if (!totalExtrasElement) return;\n\n  let totalExtras = 0;\n  document.querySelectorAll('[id^=\"v-calc-extra-\"]').forEach((extraElement) => {\n    if (extraElement.textContent !== \"-\") {\n      const originalPrice = parseFloat(\n        extraElement.getAttribute(\"data-original-price\")\n      );\n      if (!isNaN(originalPrice)) {\n        totalExtras += originalPrice;\n      }\n    }\n  });\n\n  // Convert total extras to current currency\n  const convertedTotal = (totalExtras * rate).toFixed(decimals);\n  totalExtrasElement.textContent = convertedTotal;\n\n  // Store original NAD value\n  if (!totalExtrasElement.hasAttribute(\"data-original-price\")) {\n    totalExtrasElement.setAttribute(\n      \"data-original-price\",\n      totalExtras.toString()\n    );\n  }\n}\n\n/**\n * Calculate final totals (subtotal, tax, total) in the current currency\n * @param {number} rate - Current exchange rate\n * @param {number} decimals - Number of decimal places\n */\nfunction calculateFinalTotals(rate, decimals) {\n  const elements = {\n    subtotal: document.querySelector(\"#v-calc-subtotal\"),\n    tax: document.querySelector(\"#v-calc-tax\"),\n    total: document.querySelector(\"#v-calc-total\"),\n  };\n\n  // Get original NAD values\n  const vehiclePrice = parseFloat(\n    document\n      .querySelector(\"#v-calc-vehicle-price\")\n      ?.getAttribute(\"data-original-price\") || \"0\"\n  );\n  const duration = parseInt(\n    document.querySelector(\"#v-calc-duration\")?.textContent || \"0\"\n  );\n  const deliveryFee = parseFloat(\n    document\n      .querySelector(\"#v-calc-delivery-fee\")\n      ?.getAttribute(\"data-original-price\") || \"0\"\n  );\n  const totalExtras = parseFloat(\n    document\n      .querySelector(\"#v-calc-total-extra\")\n      ?.getAttribute(\"data-original-price\") || \"0\"\n  );\n\n  // Calculate in NAD first\n  const subtotalNAD = vehiclePrice * duration + deliveryFee + totalExtras;\n  const taxNAD = subtotalNAD * 0.15; // 15% tax rate\n  const totalNAD = subtotalNAD + taxNAD;\n\n  // Convert and display\n  if (elements.subtotal) {\n    elements.subtotal.textContent = (subtotalNAD * rate).toFixed(decimals);\n    elements.subtotal.setAttribute(\n      \"data-original-price\",\n      subtotalNAD.toString()\n    );\n  }\n  if (elements.tax) {\n    elements.tax.textContent = (taxNAD * rate).toFixed(decimals);\n    elements.tax.setAttribute(\"data-original-price\", taxNAD.toString());\n  }\n  if (elements.total) {\n    elements.total.textContent = (totalNAD * rate).toFixed(decimals);\n    elements.total.setAttribute(\"data-original-price\", totalNAD.toString());\n  }\n}\n\n/**\n * Updates all currency symbols in the UI\n * @param {string} currency - The new currency symbol to display\n */\nfunction updateCurrencySymbols(currency) {\n  document.querySelectorAll(\".currency-symbol\").forEach((element) => {\n    element.textContent = currency;\n  });\n}\n\nconst API_KEY = \"f8eb8575dc0df45769f9bc6c\"; // Replace with your actual API key\nconst BASE_URL = \"https://v6.exchangerate-api.com/v6\";\n\n/**\n * Optimize the fetchExchangeRates function with better error handling\n * @exports fetchExchangeRates\n * @param {string} baseCurrency - The base currency code\n * @returns {Promise<Object>} - The exchange rates for the specified base currency\n * @throws {Error} If an error occurs while fetching exchange rates\n */\nexport async function fetchExchangeRates(baseCurrency = \"NAD\") {\n  try {\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), 5000); // 5 second timeout\n\n    const response = await fetch(\n      `${BASE_URL}/${API_KEY}/latest/${baseCurrency}`,\n      { signal: controller.signal }\n    );\n\n    clearTimeout(timeoutId);\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const data = await response.json();\n\n    if (data.result === \"success\") {\n      return data.conversion_rates;\n    } else {\n      throw new Error(data[\"error-type\"] || \"Failed to fetch exchange rates\");\n    }\n  } catch (error) {\n    if (error.name === \"AbortError\") {\n      console.error(\"Request timed out\");\n    } else {\n      console.error(\"Error fetching exchange rates:\", error);\n    }\n    return null;\n  }\n}\n","/*! choices.js v11.0.2 | © 2024 Josh Johnson | https://github.com/jshjohnson/Choices#readme */\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n  };\n  return extendStatics(d, b);\n};\nfunction __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nfunction __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nvar ActionType = {\n    ADD_CHOICE: 'ADD_CHOICE',\n    REMOVE_CHOICE: 'REMOVE_CHOICE',\n    FILTER_CHOICES: 'FILTER_CHOICES',\n    ACTIVATE_CHOICES: 'ACTIVATE_CHOICES',\n    CLEAR_CHOICES: 'CLEAR_CHOICES',\n    ADD_GROUP: 'ADD_GROUP',\n    ADD_ITEM: 'ADD_ITEM',\n    REMOVE_ITEM: 'REMOVE_ITEM',\n    HIGHLIGHT_ITEM: 'HIGHLIGHT_ITEM',\n};\n\nvar EventType = {\n    showDropdown: 'showDropdown',\n    hideDropdown: 'hideDropdown',\n    change: 'change',\n    choice: 'choice',\n    search: 'search',\n    addItem: 'addItem',\n    removeItem: 'removeItem',\n    highlightItem: 'highlightItem',\n    highlightChoice: 'highlightChoice',\n    unhighlightItem: 'unhighlightItem',\n};\n\nvar ObjectsInConfig = ['fuseOptions', 'classNames'];\n\nvar PassedElementTypes = {\n    Text: 'text',\n    SelectOne: 'select-one',\n    SelectMultiple: 'select-multiple',\n};\n\nvar addChoice = function (choice) { return ({\n    type: ActionType.ADD_CHOICE,\n    choice: choice,\n}); };\nvar removeChoice = function (choice) { return ({\n    type: ActionType.REMOVE_CHOICE,\n    choice: choice,\n}); };\nvar filterChoices = function (results) { return ({\n    type: ActionType.FILTER_CHOICES,\n    results: results,\n}); };\nvar activateChoices = function (active) {\n    return ({\n        type: ActionType.ACTIVATE_CHOICES,\n        active: active,\n    });\n};\n\nvar addGroup = function (group) { return ({\n    type: ActionType.ADD_GROUP,\n    group: group,\n}); };\n\nvar addItem = function (item) { return ({\n    type: ActionType.ADD_ITEM,\n    item: item,\n}); };\nvar removeItem$1 = function (item) { return ({\n    type: ActionType.REMOVE_ITEM,\n    item: item,\n}); };\nvar highlightItem = function (item, highlighted) { return ({\n    type: ActionType.HIGHLIGHT_ITEM,\n    item: item,\n    highlighted: highlighted,\n}); };\n\nvar getRandomNumber = function (min, max) { return Math.floor(Math.random() * (max - min) + min); };\nvar generateChars = function (length) {\n    return Array.from({ length: length }, function () { return getRandomNumber(0, 36).toString(36); }).join('');\n};\nvar generateId = function (element, prefix) {\n    var id = element.id || (element.name && \"\".concat(element.name, \"-\").concat(generateChars(2))) || generateChars(4);\n    id = id.replace(/(:|\\.|\\[|\\]|,)/g, '');\n    id = \"\".concat(prefix, \"-\").concat(id);\n    return id;\n};\nvar getAdjacentEl = function (startEl, selector, direction) {\n    if (direction === void 0) { direction = 1; }\n    var prop = \"\".concat(direction > 0 ? 'next' : 'previous', \"ElementSibling\");\n    var sibling = startEl[prop];\n    while (sibling) {\n        if (sibling.matches(selector)) {\n            return sibling;\n        }\n        sibling = sibling[prop];\n    }\n    return null;\n};\nvar isScrolledIntoView = function (element, parent, direction) {\n    if (direction === void 0) { direction = 1; }\n    var isVisible;\n    if (direction > 0) {\n        // In view from bottom\n        isVisible = parent.scrollTop + parent.offsetHeight >= element.offsetTop + element.offsetHeight;\n    }\n    else {\n        // In view from top\n        isVisible = element.offsetTop >= parent.scrollTop;\n    }\n    return isVisible;\n};\nvar sanitise = function (value) {\n    if (typeof value !== 'string') {\n        if (value === null || value === undefined) {\n            return '';\n        }\n        if (typeof value === 'object') {\n            if ('raw' in value) {\n                return sanitise(value.raw);\n            }\n            if ('trusted' in value) {\n                return value.trusted;\n            }\n        }\n        return value;\n    }\n    return value\n        .replace(/&/g, '&amp;')\n        .replace(/>/g, '&gt;')\n        .replace(/</g, '&lt;')\n        .replace(/'/g, '&#039;')\n        .replace(/\"/g, '&quot;');\n};\nvar strToEl = (function () {\n    var tmpEl = document.createElement('div');\n    return function (str) {\n        tmpEl.innerHTML = str.trim();\n        var firstChild = tmpEl.children[0];\n        while (tmpEl.firstChild) {\n            tmpEl.removeChild(tmpEl.firstChild);\n        }\n        return firstChild;\n    };\n})();\nvar resolveNoticeFunction = function (fn, value) {\n    return typeof fn === 'function' ? fn(sanitise(value), value) : fn;\n};\nvar resolveStringFunction = function (fn) {\n    return typeof fn === 'function' ? fn() : fn;\n};\nvar unwrapStringForRaw = function (s) {\n    if (typeof s === 'string') {\n        return s;\n    }\n    if (typeof s === 'object') {\n        if ('trusted' in s) {\n            return s.trusted;\n        }\n        if ('raw' in s) {\n            return s.raw;\n        }\n    }\n    return '';\n};\nvar unwrapStringForEscaped = function (s) {\n    if (typeof s === 'string') {\n        return s;\n    }\n    if (typeof s === 'object') {\n        if ('escaped' in s) {\n            return s.escaped;\n        }\n        if ('trusted' in s) {\n            return s.trusted;\n        }\n    }\n    return '';\n};\nvar escapeForTemplate = function (allowHTML, s) {\n    return allowHTML ? unwrapStringForEscaped(s) : sanitise(s);\n};\nvar setElementHtml = function (el, allowHtml, html) {\n    el.innerHTML = escapeForTemplate(allowHtml, html);\n};\nvar sortByAlpha = function (_a, _b) {\n    var value = _a.value, _c = _a.label, label = _c === void 0 ? value : _c;\n    var value2 = _b.value, _d = _b.label, label2 = _d === void 0 ? value2 : _d;\n    return unwrapStringForRaw(label).localeCompare(unwrapStringForRaw(label2), [], {\n        sensitivity: 'base',\n        ignorePunctuation: true,\n        numeric: true,\n    });\n};\nvar sortByRank = function (a, b) {\n    return a.rank - b.rank;\n};\nvar dispatchEvent = function (element, type, customArgs) {\n    if (customArgs === void 0) { customArgs = null; }\n    var event = new CustomEvent(type, {\n        detail: customArgs,\n        bubbles: true,\n        cancelable: true,\n    });\n    return element.dispatchEvent(event);\n};\n/**\n * Returns an array of keys present on the first but missing on the second object\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvar diff = function (a, b) {\n    var aKeys = Object.keys(a).sort();\n    var bKeys = Object.keys(b).sort();\n    return aKeys.filter(function (i) { return bKeys.indexOf(i) < 0; });\n};\nvar getClassNames = function (ClassNames) {\n    return Array.isArray(ClassNames) ? ClassNames : [ClassNames];\n};\nvar getClassNamesSelector = function (option) {\n    if (option && Array.isArray(option)) {\n        return option\n            .map(function (item) {\n            return \".\".concat(item);\n        })\n            .join('');\n    }\n    return \".\".concat(option);\n};\nvar addClassesToElement = function (element, className) {\n    var _a;\n    (_a = element.classList).add.apply(_a, getClassNames(className));\n};\nvar removeClassesFromElement = function (element, className) {\n    var _a;\n    (_a = element.classList).remove.apply(_a, getClassNames(className));\n};\nvar parseCustomProperties = function (customProperties) {\n    if (typeof customProperties !== 'undefined') {\n        try {\n            return JSON.parse(customProperties);\n        }\n        catch (e) {\n            return customProperties;\n        }\n    }\n    return {};\n};\nvar updateClassList = function (item, add, remove) {\n    var itemEl = item.itemEl;\n    if (itemEl) {\n        removeClassesFromElement(itemEl, remove);\n        addClassesToElement(itemEl, add);\n    }\n};\n\nvar Dropdown = /** @class */ (function () {\n    function Dropdown(_a) {\n        var element = _a.element, type = _a.type, classNames = _a.classNames;\n        this.element = element;\n        this.classNames = classNames;\n        this.type = type;\n        this.isActive = false;\n    }\n    /**\n     * Show dropdown to user by adding active state class\n     */\n    Dropdown.prototype.show = function () {\n        addClassesToElement(this.element, this.classNames.activeState);\n        this.element.setAttribute('aria-expanded', 'true');\n        this.isActive = true;\n        return this;\n    };\n    /**\n     * Hide dropdown from user\n     */\n    Dropdown.prototype.hide = function () {\n        removeClassesFromElement(this.element, this.classNames.activeState);\n        this.element.setAttribute('aria-expanded', 'false');\n        this.isActive = false;\n        return this;\n    };\n    return Dropdown;\n}());\n\nvar Container = /** @class */ (function () {\n    function Container(_a) {\n        var element = _a.element, type = _a.type, classNames = _a.classNames, position = _a.position;\n        this.element = element;\n        this.classNames = classNames;\n        this.type = type;\n        this.position = position;\n        this.isOpen = false;\n        this.isFlipped = false;\n        this.isDisabled = false;\n        this.isLoading = false;\n    }\n    /**\n     * Determine whether container should be flipped based on passed\n     * dropdown position\n     */\n    Container.prototype.shouldFlip = function (dropdownPos, dropdownHeight) {\n        // If flip is enabled and the dropdown bottom position is\n        // greater than the window height flip the dropdown.\n        var shouldFlip = false;\n        if (this.position === 'auto') {\n            shouldFlip =\n                this.element.getBoundingClientRect().top - dropdownHeight >= 0 &&\n                    !window.matchMedia(\"(min-height: \".concat(dropdownPos + 1, \"px)\")).matches;\n        }\n        else if (this.position === 'top') {\n            shouldFlip = true;\n        }\n        return shouldFlip;\n    };\n    Container.prototype.setActiveDescendant = function (activeDescendantID) {\n        this.element.setAttribute('aria-activedescendant', activeDescendantID);\n    };\n    Container.prototype.removeActiveDescendant = function () {\n        this.element.removeAttribute('aria-activedescendant');\n    };\n    Container.prototype.open = function (dropdownPos, dropdownHeight) {\n        addClassesToElement(this.element, this.classNames.openState);\n        this.element.setAttribute('aria-expanded', 'true');\n        this.isOpen = true;\n        if (this.shouldFlip(dropdownPos, dropdownHeight)) {\n            addClassesToElement(this.element, this.classNames.flippedState);\n            this.isFlipped = true;\n        }\n    };\n    Container.prototype.close = function () {\n        removeClassesFromElement(this.element, this.classNames.openState);\n        this.element.setAttribute('aria-expanded', 'false');\n        this.removeActiveDescendant();\n        this.isOpen = false;\n        // A dropdown flips if it does not have space within the page\n        if (this.isFlipped) {\n            removeClassesFromElement(this.element, this.classNames.flippedState);\n            this.isFlipped = false;\n        }\n    };\n    Container.prototype.addFocusState = function () {\n        addClassesToElement(this.element, this.classNames.focusState);\n    };\n    Container.prototype.removeFocusState = function () {\n        removeClassesFromElement(this.element, this.classNames.focusState);\n    };\n    Container.prototype.enable = function () {\n        removeClassesFromElement(this.element, this.classNames.disabledState);\n        this.element.removeAttribute('aria-disabled');\n        if (this.type === PassedElementTypes.SelectOne) {\n            this.element.setAttribute('tabindex', '0');\n        }\n        this.isDisabled = false;\n    };\n    Container.prototype.disable = function () {\n        addClassesToElement(this.element, this.classNames.disabledState);\n        this.element.setAttribute('aria-disabled', 'true');\n        if (this.type === PassedElementTypes.SelectOne) {\n            this.element.setAttribute('tabindex', '-1');\n        }\n        this.isDisabled = true;\n    };\n    Container.prototype.wrap = function (element) {\n        var el = this.element;\n        var parentNode = element.parentNode;\n        if (parentNode) {\n            if (element.nextSibling) {\n                parentNode.insertBefore(el, element.nextSibling);\n            }\n            else {\n                parentNode.appendChild(el);\n            }\n        }\n        el.appendChild(element);\n    };\n    Container.prototype.unwrap = function (element) {\n        var el = this.element;\n        var parentNode = el.parentNode;\n        if (parentNode) {\n            // Move passed element outside this element\n            parentNode.insertBefore(element, el);\n            // Remove this element\n            parentNode.removeChild(el);\n        }\n    };\n    Container.prototype.addLoadingState = function () {\n        addClassesToElement(this.element, this.classNames.loadingState);\n        this.element.setAttribute('aria-busy', 'true');\n        this.isLoading = true;\n    };\n    Container.prototype.removeLoadingState = function () {\n        removeClassesFromElement(this.element, this.classNames.loadingState);\n        this.element.removeAttribute('aria-busy');\n        this.isLoading = false;\n    };\n    return Container;\n}());\n\nvar Input = /** @class */ (function () {\n    function Input(_a) {\n        var element = _a.element, type = _a.type, classNames = _a.classNames, preventPaste = _a.preventPaste;\n        this.element = element;\n        this.type = type;\n        this.classNames = classNames;\n        this.preventPaste = preventPaste;\n        this.isFocussed = this.element.isEqualNode(document.activeElement);\n        this.isDisabled = element.disabled;\n        this._onPaste = this._onPaste.bind(this);\n        this._onInput = this._onInput.bind(this);\n        this._onFocus = this._onFocus.bind(this);\n        this._onBlur = this._onBlur.bind(this);\n    }\n    Object.defineProperty(Input.prototype, \"placeholder\", {\n        set: function (placeholder) {\n            this.element.placeholder = placeholder;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Input.prototype, \"value\", {\n        get: function () {\n            return this.element.value;\n        },\n        set: function (value) {\n            this.element.value = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Input.prototype.addEventListeners = function () {\n        var el = this.element;\n        el.addEventListener('paste', this._onPaste);\n        el.addEventListener('input', this._onInput, {\n            passive: true,\n        });\n        el.addEventListener('focus', this._onFocus, {\n            passive: true,\n        });\n        el.addEventListener('blur', this._onBlur, {\n            passive: true,\n        });\n    };\n    Input.prototype.removeEventListeners = function () {\n        var el = this.element;\n        el.removeEventListener('input', this._onInput);\n        el.removeEventListener('paste', this._onPaste);\n        el.removeEventListener('focus', this._onFocus);\n        el.removeEventListener('blur', this._onBlur);\n    };\n    Input.prototype.enable = function () {\n        var el = this.element;\n        el.removeAttribute('disabled');\n        this.isDisabled = false;\n    };\n    Input.prototype.disable = function () {\n        var el = this.element;\n        el.setAttribute('disabled', '');\n        this.isDisabled = true;\n    };\n    Input.prototype.focus = function () {\n        if (!this.isFocussed) {\n            this.element.focus();\n        }\n    };\n    Input.prototype.blur = function () {\n        if (this.isFocussed) {\n            this.element.blur();\n        }\n    };\n    Input.prototype.clear = function (setWidth) {\n        if (setWidth === void 0) { setWidth = true; }\n        this.element.value = '';\n        if (setWidth) {\n            this.setWidth();\n        }\n        return this;\n    };\n    /**\n     * Set the correct input width based on placeholder\n     * value or input value\n     */\n    Input.prototype.setWidth = function () {\n        // Resize input to contents or placeholder\n        var element = this.element;\n        element.style.minWidth = \"\".concat(element.placeholder.length + 1, \"ch\");\n        element.style.width = \"\".concat(element.value.length + 1, \"ch\");\n    };\n    Input.prototype.setActiveDescendant = function (activeDescendantID) {\n        this.element.setAttribute('aria-activedescendant', activeDescendantID);\n    };\n    Input.prototype.removeActiveDescendant = function () {\n        this.element.removeAttribute('aria-activedescendant');\n    };\n    Input.prototype._onInput = function () {\n        if (this.type !== PassedElementTypes.SelectOne) {\n            this.setWidth();\n        }\n    };\n    Input.prototype._onPaste = function (event) {\n        if (this.preventPaste) {\n            event.preventDefault();\n        }\n    };\n    Input.prototype._onFocus = function () {\n        this.isFocussed = true;\n    };\n    Input.prototype._onBlur = function () {\n        this.isFocussed = false;\n    };\n    return Input;\n}());\n\nvar SCROLLING_SPEED = 4;\n\nvar List = /** @class */ (function () {\n    function List(_a) {\n        var element = _a.element;\n        this.element = element;\n        this.scrollPos = this.element.scrollTop;\n        this.height = this.element.offsetHeight;\n    }\n    List.prototype.prepend = function (node) {\n        var child = this.element.firstElementChild;\n        if (child) {\n            this.element.insertBefore(node, child);\n        }\n        else {\n            this.element.append(node);\n        }\n    };\n    List.prototype.scrollToTop = function () {\n        this.element.scrollTop = 0;\n    };\n    List.prototype.scrollToChildElement = function (element, direction) {\n        var _this = this;\n        if (!element) {\n            return;\n        }\n        var listHeight = this.element.offsetHeight;\n        // Scroll position of dropdown\n        var listScrollPosition = this.element.scrollTop + listHeight;\n        var elementHeight = element.offsetHeight;\n        // Distance from bottom of element to top of parent\n        var elementPos = element.offsetTop + elementHeight;\n        // Difference between the element and scroll position\n        var destination = direction > 0 ? this.element.scrollTop + elementPos - listScrollPosition : element.offsetTop;\n        requestAnimationFrame(function () {\n            _this._animateScroll(destination, direction);\n        });\n    };\n    List.prototype._scrollDown = function (scrollPos, strength, destination) {\n        var easing = (destination - scrollPos) / strength;\n        var distance = easing > 1 ? easing : 1;\n        this.element.scrollTop = scrollPos + distance;\n    };\n    List.prototype._scrollUp = function (scrollPos, strength, destination) {\n        var easing = (scrollPos - destination) / strength;\n        var distance = easing > 1 ? easing : 1;\n        this.element.scrollTop = scrollPos - distance;\n    };\n    List.prototype._animateScroll = function (destination, direction) {\n        var _this = this;\n        var strength = SCROLLING_SPEED;\n        var choiceListScrollTop = this.element.scrollTop;\n        var continueAnimation = false;\n        if (direction > 0) {\n            this._scrollDown(choiceListScrollTop, strength, destination);\n            if (choiceListScrollTop < destination) {\n                continueAnimation = true;\n            }\n        }\n        else {\n            this._scrollUp(choiceListScrollTop, strength, destination);\n            if (choiceListScrollTop > destination) {\n                continueAnimation = true;\n            }\n        }\n        if (continueAnimation) {\n            requestAnimationFrame(function () {\n                _this._animateScroll(destination, direction);\n            });\n        }\n    };\n    return List;\n}());\n\nvar WrappedElement = /** @class */ (function () {\n    function WrappedElement(_a) {\n        var element = _a.element, classNames = _a.classNames;\n        this.element = element;\n        this.classNames = classNames;\n        this.isDisabled = false;\n    }\n    Object.defineProperty(WrappedElement.prototype, \"isActive\", {\n        get: function () {\n            return this.element.dataset.choice === 'active';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WrappedElement.prototype, \"dir\", {\n        get: function () {\n            return this.element.dir;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WrappedElement.prototype, \"value\", {\n        get: function () {\n            return this.element.value;\n        },\n        set: function (value) {\n            this.element.setAttribute('value', value);\n            this.element.value = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WrappedElement.prototype.conceal = function () {\n        var el = this.element;\n        // Hide passed input\n        addClassesToElement(el, this.classNames.input);\n        el.hidden = true;\n        // Remove element from tab index\n        el.tabIndex = -1;\n        // Backup original styles if any\n        var origStyle = el.getAttribute('style');\n        if (origStyle) {\n            el.setAttribute('data-choice-orig-style', origStyle);\n        }\n        el.setAttribute('data-choice', 'active');\n    };\n    WrappedElement.prototype.reveal = function () {\n        var el = this.element;\n        // Reinstate passed element\n        removeClassesFromElement(el, this.classNames.input);\n        el.hidden = false;\n        el.removeAttribute('tabindex');\n        // Recover original styles if any\n        var origStyle = el.getAttribute('data-choice-orig-style');\n        if (origStyle) {\n            el.removeAttribute('data-choice-orig-style');\n            el.setAttribute('style', origStyle);\n        }\n        else {\n            el.removeAttribute('style');\n        }\n        el.removeAttribute('data-choice');\n    };\n    WrappedElement.prototype.enable = function () {\n        this.element.removeAttribute('disabled');\n        this.element.disabled = false;\n        this.isDisabled = false;\n    };\n    WrappedElement.prototype.disable = function () {\n        this.element.setAttribute('disabled', '');\n        this.element.disabled = true;\n        this.isDisabled = true;\n    };\n    WrappedElement.prototype.triggerEvent = function (eventType, data) {\n        dispatchEvent(this.element, eventType, data || {});\n    };\n    return WrappedElement;\n}());\n\nvar WrappedInput = /** @class */ (function (_super) {\n    __extends(WrappedInput, _super);\n    function WrappedInput() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return WrappedInput;\n}(WrappedElement));\n\nvar coerceBool = function (arg, defaultValue) {\n    if (defaultValue === void 0) { defaultValue = true; }\n    return typeof arg === 'undefined' ? defaultValue : !!arg;\n};\nvar stringToHtmlClass = function (input) {\n    if (typeof input === 'string') {\n        // eslint-disable-next-line no-param-reassign\n        input = input.split(' ').filter(function (s) { return s.length; });\n    }\n    if (Array.isArray(input) && input.length) {\n        return input;\n    }\n    return undefined;\n};\nvar mapInputToChoice = function (value, allowGroup) {\n    if (typeof value === 'string') {\n        var result_1 = mapInputToChoice({\n            value: value,\n            label: value,\n        }, false);\n        return result_1;\n    }\n    var groupOrChoice = value;\n    if ('choices' in groupOrChoice) {\n        if (!allowGroup) {\n            // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/optgroup\n            throw new TypeError(\"optGroup is not allowed\");\n        }\n        var group = groupOrChoice;\n        var choices = group.choices.map(function (e) { return mapInputToChoice(e, false); });\n        var result_2 = {\n            id: 0, // actual ID will be assigned during _addGroup\n            label: unwrapStringForRaw(group.label) || group.value,\n            active: !!choices.length,\n            disabled: !!group.disabled,\n            choices: choices,\n        };\n        return result_2;\n    }\n    var choice = groupOrChoice;\n    var result = {\n        id: 0, // actual ID will be assigned during _addChoice\n        group: null, // actual group will be assigned during _addGroup but before _addChoice\n        score: 0, // used in search\n        rank: 0, // used in search, stable sort order\n        value: choice.value,\n        label: choice.label || choice.value,\n        active: coerceBool(choice.active),\n        selected: coerceBool(choice.selected, false),\n        disabled: coerceBool(choice.disabled, false),\n        placeholder: coerceBool(choice.placeholder, false),\n        highlighted: false,\n        labelClass: stringToHtmlClass(choice.labelClass),\n        labelDescription: choice.labelDescription,\n        customProperties: choice.customProperties,\n    };\n    return result;\n};\n\nvar isHtmlInputElement = function (e) { return e.tagName === 'INPUT'; };\nvar isHtmlSelectElement = function (e) { return e.tagName === 'SELECT'; };\nvar isHtmlOption = function (e) { return e.tagName === 'OPTION'; };\nvar isHtmlOptgroup = function (e) { return e.tagName === 'OPTGROUP'; };\n\nvar WrappedSelect = /** @class */ (function (_super) {\n    __extends(WrappedSelect, _super);\n    function WrappedSelect(_a) {\n        var element = _a.element, classNames = _a.classNames, template = _a.template, extractPlaceholder = _a.extractPlaceholder;\n        var _this = _super.call(this, { element: element, classNames: classNames }) || this;\n        _this.template = template;\n        _this.extractPlaceholder = extractPlaceholder;\n        return _this;\n    }\n    Object.defineProperty(WrappedSelect.prototype, \"placeholderOption\", {\n        get: function () {\n            return (this.element.querySelector('option[value=\"\"]') ||\n                // Backward compatibility layer for the non-standard placeholder attribute supported in older versions.\n                this.element.querySelector('option[placeholder]'));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WrappedSelect.prototype.addOptions = function (choices) {\n        var _this = this;\n        var fragment = document.createDocumentFragment();\n        choices.forEach(function (obj) {\n            var choice = obj;\n            if (choice.element) {\n                return;\n            }\n            var option = _this.template(choice);\n            fragment.appendChild(option);\n            choice.element = option;\n        });\n        this.element.appendChild(fragment);\n    };\n    WrappedSelect.prototype.optionsAsChoices = function () {\n        var _this = this;\n        var choices = [];\n        this.element.querySelectorAll(':scope > option, :scope > optgroup').forEach(function (e) {\n            if (isHtmlOption(e)) {\n                choices.push(_this._optionToChoice(e));\n            }\n            else if (isHtmlOptgroup(e)) {\n                choices.push(_this._optgroupToChoice(e));\n            }\n            // todo: hr as empty optgroup, requires displaying empty opt-groups to be useful\n        });\n        return choices;\n    };\n    // eslint-disable-next-line class-methods-use-this\n    WrappedSelect.prototype._optionToChoice = function (option) {\n        // option.value returns the label if there is no value attribute, which can break legacy placeholder attribute support\n        if (!option.hasAttribute('value') && option.hasAttribute('placeholder')) {\n            option.setAttribute('value', '');\n            option.value = '';\n        }\n        return {\n            id: 0,\n            group: null,\n            score: 0,\n            rank: 0,\n            value: option.value,\n            label: option.innerHTML,\n            element: option,\n            active: true,\n            // this returns true if nothing is selected on initial load, which will break placeholder support\n            selected: this.extractPlaceholder ? option.selected : option.hasAttribute('selected'),\n            disabled: option.disabled,\n            highlighted: false,\n            placeholder: this.extractPlaceholder && (!option.value || option.hasAttribute('placeholder')),\n            labelClass: typeof option.dataset.labelClass !== 'undefined' ? stringToHtmlClass(option.dataset.labelClass) : undefined,\n            labelDescription: typeof option.dataset.labelDescription !== 'undefined' ? option.dataset.labelDescription : undefined,\n            customProperties: parseCustomProperties(option.dataset.customProperties),\n        };\n    };\n    WrappedSelect.prototype._optgroupToChoice = function (optgroup) {\n        var _this = this;\n        var options = optgroup.querySelectorAll('option');\n        var choices = Array.from(options).map(function (option) { return _this._optionToChoice(option); });\n        return {\n            id: 0,\n            label: optgroup.label || '',\n            element: optgroup,\n            active: !!choices.length,\n            disabled: optgroup.disabled,\n            choices: choices,\n        };\n    };\n    return WrappedSelect;\n}(WrappedElement));\n\nvar DEFAULT_CLASSNAMES = {\n    containerOuter: ['choices'],\n    containerInner: ['choices__inner'],\n    input: ['choices__input'],\n    inputCloned: ['choices__input--cloned'],\n    list: ['choices__list'],\n    listItems: ['choices__list--multiple'],\n    listSingle: ['choices__list--single'],\n    listDropdown: ['choices__list--dropdown'],\n    item: ['choices__item'],\n    itemSelectable: ['choices__item--selectable'],\n    itemDisabled: ['choices__item--disabled'],\n    itemChoice: ['choices__item--choice'],\n    description: ['choices__description'],\n    placeholder: ['choices__placeholder'],\n    group: ['choices__group'],\n    groupHeading: ['choices__heading'],\n    button: ['choices__button'],\n    activeState: ['is-active'],\n    focusState: ['is-focused'],\n    openState: ['is-open'],\n    disabledState: ['is-disabled'],\n    highlightedState: ['is-highlighted'],\n    selectedState: ['is-selected'],\n    flippedState: ['is-flipped'],\n    loadingState: ['is-loading'],\n    notice: ['choices__notice'],\n    addChoice: ['choices__item--selectable', 'add-choice'],\n    noResults: ['has-no-results'],\n    noChoices: ['has-no-choices'],\n};\nvar DEFAULT_CONFIG = {\n    items: [],\n    choices: [],\n    silent: false,\n    renderChoiceLimit: -1,\n    maxItemCount: -1,\n    closeDropdownOnSelect: 'auto',\n    singleModeForMultiSelect: false,\n    addChoices: false,\n    addItems: true,\n    addItemFilter: function (value) { return !!value && value !== ''; },\n    removeItems: true,\n    removeItemButton: false,\n    removeItemButtonAlignLeft: false,\n    editItems: false,\n    allowHTML: false,\n    allowHtmlUserInput: false,\n    duplicateItemsAllowed: true,\n    delimiter: ',',\n    paste: true,\n    searchEnabled: true,\n    searchChoices: true,\n    searchFloor: 1,\n    searchResultLimit: 4,\n    searchFields: ['label', 'value'],\n    position: 'auto',\n    resetScrollPosition: true,\n    shouldSort: true,\n    shouldSortItems: false,\n    sorter: sortByAlpha,\n    shadowRoot: null,\n    placeholder: true,\n    placeholderValue: null,\n    searchPlaceholderValue: null,\n    prependValue: null,\n    appendValue: null,\n    renderSelectedChoices: 'auto',\n    loadingText: 'Loading...',\n    noResultsText: 'No results found',\n    noChoicesText: 'No choices to choose from',\n    itemSelectText: 'Press to select',\n    uniqueItemText: 'Only unique values can be added',\n    customAddItemText: 'Only values matching specific conditions can be added',\n    addItemText: function (value) { return \"Press Enter to add <b>\\\"\".concat(value, \"\\\"</b>\"); },\n    removeItemIconText: function () { return \"Remove item\"; },\n    removeItemLabelText: function (value) { return \"Remove item: \".concat(value); },\n    maxItemText: function (maxItemCount) { return \"Only \".concat(maxItemCount, \" values can be added\"); },\n    valueComparer: function (value1, value2) { return value1 === value2; },\n    fuseOptions: {\n        includeScore: true,\n    },\n    labelId: '',\n    callbackOnInit: null,\n    callbackOnCreateTemplates: null,\n    classNames: DEFAULT_CLASSNAMES,\n    appendGroupInSearch: false,\n};\n\nvar removeItem = function (item) {\n    var itemEl = item.itemEl;\n    if (itemEl) {\n        itemEl.remove();\n        item.itemEl = undefined;\n    }\n};\nfunction items(s, action, context) {\n    var state = s;\n    var update = true;\n    switch (action.type) {\n        case ActionType.ADD_ITEM: {\n            action.item.selected = true;\n            var el = action.item.element;\n            if (el) {\n                el.selected = true;\n                el.setAttribute('selected', '');\n            }\n            state.push(action.item);\n            break;\n        }\n        case ActionType.REMOVE_ITEM: {\n            action.item.selected = false;\n            var el = action.item.element;\n            if (el) {\n                el.selected = false;\n                el.removeAttribute('selected');\n                // For a select-one, if all options are deselected, the first item is selected. To set a black value, select.value needs to be set\n                var select = el.parentElement;\n                if (select && isHtmlSelectElement(select) && select.type === PassedElementTypes.SelectOne) {\n                    select.value = '';\n                }\n            }\n            // this is mixing concerns, but this is *so much faster*\n            removeItem(action.item);\n            state = state.filter(function (choice) { return choice.id !== action.item.id; });\n            break;\n        }\n        case ActionType.REMOVE_CHOICE: {\n            removeItem(action.choice);\n            state = state.filter(function (item) { return item.id !== action.choice.id; });\n            break;\n        }\n        case ActionType.HIGHLIGHT_ITEM: {\n            var highlighted = action.highlighted;\n            var item = state.find(function (obj) { return obj.id === action.item.id; });\n            if (item && item.highlighted !== highlighted) {\n                item.highlighted = highlighted;\n                if (context) {\n                    updateClassList(item, highlighted ? context.classNames.highlightedState : context.classNames.selectedState, highlighted ? context.classNames.selectedState : context.classNames.highlightedState);\n                }\n            }\n            break;\n        }\n        default: {\n            update = false;\n            break;\n        }\n    }\n    return { state: state, update: update };\n}\n\nfunction groups(s, action) {\n    var state = s;\n    var update = true;\n    switch (action.type) {\n        case ActionType.ADD_GROUP: {\n            state.push(action.group);\n            break;\n        }\n        case ActionType.CLEAR_CHOICES: {\n            state = [];\n            break;\n        }\n        default: {\n            update = false;\n            break;\n        }\n    }\n    return { state: state, update: update };\n}\n\n/* eslint-disable */\nfunction choices(s, action, context) {\n    var state = s;\n    var update = true;\n    switch (action.type) {\n        case ActionType.ADD_CHOICE: {\n            state.push(action.choice);\n            break;\n        }\n        case ActionType.REMOVE_CHOICE: {\n            action.choice.choiceEl = undefined;\n            if (action.choice.group) {\n                action.choice.group.choices = action.choice.group.choices.filter(function (obj) { return obj.id !== action.choice.id; });\n            }\n            state = state.filter(function (obj) { return obj.id !== action.choice.id; });\n            break;\n        }\n        case ActionType.ADD_ITEM:\n        case ActionType.REMOVE_ITEM: {\n            action.item.choiceEl = undefined;\n            break;\n        }\n        case ActionType.FILTER_CHOICES: {\n            // avoid O(n^2) algorithm complexity when searching/filtering choices\n            var scoreLookup_1 = [];\n            action.results.forEach(function (result) {\n                scoreLookup_1[result.item.id] = result;\n            });\n            state.forEach(function (choice) {\n                var result = scoreLookup_1[choice.id];\n                if (result !== undefined) {\n                    choice.score = result.score;\n                    choice.rank = result.rank;\n                    choice.active = true;\n                }\n                else {\n                    choice.score = 0;\n                    choice.rank = 0;\n                    choice.active = false;\n                }\n                if (context && context.appendGroupInSearch) {\n                    choice.choiceEl = undefined;\n                }\n            });\n            break;\n        }\n        case ActionType.ACTIVATE_CHOICES: {\n            state.forEach(function (choice) {\n                choice.active = action.active;\n                if (context && context.appendGroupInSearch) {\n                    choice.choiceEl = undefined;\n                }\n            });\n            break;\n        }\n        case ActionType.CLEAR_CHOICES: {\n            state = [];\n            break;\n        }\n        default: {\n            update = false;\n            break;\n        }\n    }\n    return { state: state, update: update };\n}\n\nvar reducers = {\n    groups: groups,\n    items: items,\n    choices: choices,\n};\nvar Store = /** @class */ (function () {\n    function Store(context) {\n        this._state = this.defaultState;\n        this._listeners = [];\n        this._txn = 0;\n        this._context = context;\n    }\n    Object.defineProperty(Store.prototype, \"defaultState\", {\n        // eslint-disable-next-line class-methods-use-this\n        get: function () {\n            return {\n                groups: [],\n                items: [],\n                choices: [],\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // eslint-disable-next-line class-methods-use-this\n    Store.prototype.changeSet = function (init) {\n        return {\n            groups: init,\n            items: init,\n            choices: init,\n        };\n    };\n    Store.prototype.reset = function () {\n        this._state = this.defaultState;\n        var changes = this.changeSet(true);\n        if (this._txn) {\n            this._changeSet = changes;\n        }\n        else {\n            this._listeners.forEach(function (l) { return l(changes); });\n        }\n    };\n    Store.prototype.subscribe = function (onChange) {\n        this._listeners.push(onChange);\n        return this;\n    };\n    Store.prototype.dispatch = function (action) {\n        var _this = this;\n        var state = this._state;\n        var hasChanges = false;\n        var changes = this._changeSet || this.changeSet(false);\n        Object.keys(reducers).forEach(function (key) {\n            var stateUpdate = reducers[key](state[key], action, _this._context);\n            if (stateUpdate.update) {\n                hasChanges = true;\n                changes[key] = true;\n                state[key] = stateUpdate.state;\n            }\n        });\n        if (hasChanges) {\n            if (this._txn) {\n                this._changeSet = changes;\n            }\n            else {\n                this._listeners.forEach(function (l) { return l(changes); });\n            }\n        }\n    };\n    Store.prototype.withTxn = function (func) {\n        this._txn++;\n        try {\n            func();\n        }\n        finally {\n            this._txn = Math.max(0, this._txn - 1);\n            if (!this._txn) {\n                var changeSet_1 = this._changeSet;\n                if (changeSet_1) {\n                    this._changeSet = undefined;\n                    this._listeners.forEach(function (l) { return l(changeSet_1); });\n                }\n            }\n        }\n    };\n    Object.defineProperty(Store.prototype, \"state\", {\n        /**\n         * Get store object\n         */\n        get: function () {\n            return this._state;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"items\", {\n        /**\n         * Get items from store\n         */\n        get: function () {\n            return this.state.items;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"highlightedActiveItems\", {\n        /**\n         * Get highlighted items from store\n         */\n        get: function () {\n            return this.items.filter(function (item) { return !item.disabled && item.active && item.highlighted; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"choices\", {\n        /**\n         * Get choices from store\n         */\n        get: function () {\n            return this.state.choices;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"activeChoices\", {\n        /**\n         * Get active choices from store\n         */\n        get: function () {\n            return this.choices.filter(function (choice) { return choice.active; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"searchableChoices\", {\n        /**\n         * Get choices that can be searched (excluding placeholders)\n         */\n        get: function () {\n            return this.choices.filter(function (choice) { return !choice.disabled && !choice.placeholder; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"groups\", {\n        /**\n         * Get groups from store\n         */\n        get: function () {\n            return this.state.groups;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"activeGroups\", {\n        /**\n         * Get active groups from store\n         */\n        get: function () {\n            var _this = this;\n            return this.state.groups.filter(function (group) {\n                var isActive = group.active && !group.disabled;\n                var hasActiveOptions = _this.state.choices.some(function (choice) { return choice.active && !choice.disabled; });\n                return isActive && hasActiveOptions;\n            }, []);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Store.prototype.inTxn = function () {\n        return this._txn > 0;\n    };\n    /**\n     * Get single choice by it's ID\n     */\n    Store.prototype.getChoiceById = function (id) {\n        return this.activeChoices.find(function (choice) { return choice.id === id; });\n    };\n    /**\n     * Get group by group id\n     */\n    Store.prototype.getGroupById = function (id) {\n        return this.groups.find(function (group) { return group.id === id; });\n    };\n    return Store;\n}());\n\nvar NoticeTypes = {\n    noChoices: 'no-choices',\n    noResults: 'no-results',\n    addChoice: 'add-choice',\n    generic: '',\n};\n\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\n\n/**\n * Fuse.js v7.0.0 - Lightweight fuzzy-search (http://fusejs.io)\n *\n * Copyright (c) 2023 Kiro Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction isArray(value) {\n  return !Array.isArray ? getTag(value) === '[object Array]' : Array.isArray(value);\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/baseToString.js\nconst INFINITY = 1 / 0;\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  let result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n}\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\nfunction isString(value) {\n  return typeof value === 'string';\n}\nfunction isNumber(value) {\n  return typeof value === 'number';\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/isBoolean.js\nfunction isBoolean(value) {\n  return value === true || value === false || isObjectLike(value) && getTag(value) == '[object Boolean]';\n}\nfunction isObject(value) {\n  return typeof value === 'object';\n}\n\n// Checks if `value` is object-like.\nfunction isObjectLike(value) {\n  return isObject(value) && value !== null;\n}\nfunction isDefined(value) {\n  return value !== undefined && value !== null;\n}\nfunction isBlank(value) {\n  return !value.trim().length;\n}\n\n// Gets the `toStringTag` of `value`.\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/getTag.js\nfunction getTag(value) {\n  return value == null ? value === undefined ? '[object Undefined]' : '[object Null]' : Object.prototype.toString.call(value);\n}\nconst EXTENDED_SEARCH_UNAVAILABLE = 'Extended search is not available';\nconst INCORRECT_INDEX_TYPE = \"Incorrect 'index' type\";\nconst LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = key => `Invalid value for key ${key}`;\nconst PATTERN_LENGTH_TOO_LARGE = max => `Pattern length exceeds max of ${max}.`;\nconst MISSING_KEY_PROPERTY = name => `Missing ${name} property in key`;\nconst INVALID_KEY_WEIGHT_VALUE = key => `Property 'weight' in key '${key}' must be a positive integer`;\nconst hasOwn = Object.prototype.hasOwnProperty;\nclass KeyStore {\n  constructor(keys) {\n    this._keys = [];\n    this._keyMap = {};\n    let totalWeight = 0;\n    keys.forEach(key => {\n      let obj = createKey(key);\n      this._keys.push(obj);\n      this._keyMap[obj.id] = obj;\n      totalWeight += obj.weight;\n    });\n\n    // Normalize weights so that their sum is equal to 1\n    this._keys.forEach(key => {\n      key.weight /= totalWeight;\n    });\n  }\n  get(keyId) {\n    return this._keyMap[keyId];\n  }\n  keys() {\n    return this._keys;\n  }\n  toJSON() {\n    return JSON.stringify(this._keys);\n  }\n}\nfunction createKey(key) {\n  let path = null;\n  let id = null;\n  let src = null;\n  let weight = 1;\n  let getFn = null;\n  if (isString(key) || isArray(key)) {\n    src = key;\n    path = createKeyPath(key);\n    id = createKeyId(key);\n  } else {\n    if (!hasOwn.call(key, 'name')) {\n      throw new Error(MISSING_KEY_PROPERTY('name'));\n    }\n    const name = key.name;\n    src = name;\n    if (hasOwn.call(key, 'weight')) {\n      weight = key.weight;\n      if (weight <= 0) {\n        throw new Error(INVALID_KEY_WEIGHT_VALUE(name));\n      }\n    }\n    path = createKeyPath(name);\n    id = createKeyId(name);\n    getFn = key.getFn;\n  }\n  return {\n    path,\n    id,\n    weight,\n    src,\n    getFn\n  };\n}\nfunction createKeyPath(key) {\n  return isArray(key) ? key : key.split('.');\n}\nfunction createKeyId(key) {\n  return isArray(key) ? key.join('.') : key;\n}\nfunction get(obj, path) {\n  let list = [];\n  let arr = false;\n  const deepGet = (obj, path, index) => {\n    if (!isDefined(obj)) {\n      return;\n    }\n    if (!path[index]) {\n      // If there's no path left, we've arrived at the object we care about.\n      list.push(obj);\n    } else {\n      let key = path[index];\n      const value = obj[key];\n      if (!isDefined(value)) {\n        return;\n      }\n\n      // If we're at the last value in the path, and if it's a string/number/bool,\n      // add it to the list\n      if (index === path.length - 1 && (isString(value) || isNumber(value) || isBoolean(value))) {\n        list.push(toString(value));\n      } else if (isArray(value)) {\n        arr = true;\n        // Search each item in the array.\n        for (let i = 0, len = value.length; i < len; i += 1) {\n          deepGet(value[i], path, index + 1);\n        }\n      } else if (path.length) {\n        // An object. Recurse further.\n        deepGet(value, path, index + 1);\n      }\n    }\n  };\n\n  // Backwards compatibility (since path used to be a string)\n  deepGet(obj, isString(path) ? path.split('.') : path, 0);\n  return arr ? list : list[0];\n}\nconst MatchOptions = {\n  // Whether the matches should be included in the result set. When `true`, each record in the result\n  // set will include the indices of the matched characters.\n  // These can consequently be used for highlighting purposes.\n  includeMatches: false,\n  // When `true`, the matching function will continue to the end of a search pattern even if\n  // a perfect match has already been located in the string.\n  findAllMatches: false,\n  // Minimum number of characters that must be matched before a result is considered a match\n  minMatchCharLength: 1\n};\nconst BasicOptions = {\n  // When `true`, the algorithm continues searching to the end of the input even if a perfect\n  // match is found before the end of the same input.\n  isCaseSensitive: false,\n  // When true, the matching function will continue to the end of a search pattern even if\n  includeScore: false,\n  // List of properties that will be searched. This also supports nested properties.\n  keys: [],\n  // Whether to sort the result list, by score\n  shouldSort: true,\n  // Default sort function: sort by ascending score, ascending index\n  sortFn: (a, b) => a.score === b.score ? a.idx < b.idx ? -1 : 1 : a.score < b.score ? -1 : 1\n};\nconst FuzzyOptions = {\n  // Approximately where in the text is the pattern expected to be found?\n  location: 0,\n  // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match\n  // (of both letters and location), a threshold of '1.0' would match anything.\n  threshold: 0.6,\n  // Determines how close the match must be to the fuzzy location (specified above).\n  // An exact letter match which is 'distance' characters away from the fuzzy location\n  // would score as a complete mismatch. A distance of '0' requires the match be at\n  // the exact location specified, a threshold of '1000' would require a perfect match\n  // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\n  distance: 100\n};\nconst AdvancedOptions = {\n  // When `true`, it enables the use of unix-like search commands\n  useExtendedSearch: false,\n  // The get function to use when fetching an object's properties.\n  // The default will search nested paths *ie foo.bar.baz*\n  getFn: get,\n  // When `true`, search will ignore `location` and `distance`, so it won't matter\n  // where in the string the pattern appears.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score\n  ignoreLocation: false,\n  // When `true`, the calculation for the relevance score (used for sorting) will\n  // ignore the field-length norm.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm\n  ignoreFieldNorm: false,\n  // The weight to determine how much field length norm effects scoring.\n  fieldNormWeight: 1\n};\nvar Config = _objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({}, BasicOptions), MatchOptions), FuzzyOptions), AdvancedOptions);\nconst SPACE = /[^ ]+/g;\n\n// Field-length norm: the shorter the field, the higher the weight.\n// Set to 3 decimals to reduce index size.\nfunction norm(weight = 1, mantissa = 3) {\n  const cache = new Map();\n  const m = Math.pow(10, mantissa);\n  return {\n    get(value) {\n      const numTokens = value.match(SPACE).length;\n      if (cache.has(numTokens)) {\n        return cache.get(numTokens);\n      }\n\n      // Default function is 1/sqrt(x), weight makes that variable\n      const norm = 1 / Math.pow(numTokens, 0.5 * weight);\n\n      // In place of `toFixed(mantissa)`, for faster computation\n      const n = parseFloat(Math.round(norm * m) / m);\n      cache.set(numTokens, n);\n      return n;\n    },\n    clear() {\n      cache.clear();\n    }\n  };\n}\nclass FuseIndex {\n  constructor({\n    getFn = Config.getFn,\n    fieldNormWeight = Config.fieldNormWeight\n  } = {}) {\n    this.norm = norm(fieldNormWeight, 3);\n    this.getFn = getFn;\n    this.isCreated = false;\n    this.setIndexRecords();\n  }\n  setSources(docs = []) {\n    this.docs = docs;\n  }\n  setIndexRecords(records = []) {\n    this.records = records;\n  }\n  setKeys(keys = []) {\n    this.keys = keys;\n    this._keysMap = {};\n    keys.forEach((key, idx) => {\n      this._keysMap[key.id] = idx;\n    });\n  }\n  create() {\n    if (this.isCreated || !this.docs.length) {\n      return;\n    }\n    this.isCreated = true;\n\n    // List is Array<String>\n    if (isString(this.docs[0])) {\n      this.docs.forEach((doc, docIndex) => {\n        this._addString(doc, docIndex);\n      });\n    } else {\n      // List is Array<Object>\n      this.docs.forEach((doc, docIndex) => {\n        this._addObject(doc, docIndex);\n      });\n    }\n    this.norm.clear();\n  }\n  // Adds a doc to the end of the index\n  add(doc) {\n    const idx = this.size();\n    if (isString(doc)) {\n      this._addString(doc, idx);\n    } else {\n      this._addObject(doc, idx);\n    }\n  }\n  // Removes the doc at the specified index of the index\n  removeAt(idx) {\n    this.records.splice(idx, 1);\n\n    // Change ref index of every subsquent doc\n    for (let i = idx, len = this.size(); i < len; i += 1) {\n      this.records[i].i -= 1;\n    }\n  }\n  getValueForItemAtKeyId(item, keyId) {\n    return item[this._keysMap[keyId]];\n  }\n  size() {\n    return this.records.length;\n  }\n  _addString(doc, docIndex) {\n    if (!isDefined(doc) || isBlank(doc)) {\n      return;\n    }\n    let record = {\n      v: doc,\n      i: docIndex,\n      n: this.norm.get(doc)\n    };\n    this.records.push(record);\n  }\n  _addObject(doc, docIndex) {\n    let record = {\n      i: docIndex,\n      $: {}\n    };\n\n    // Iterate over every key (i.e, path), and fetch the value at that key\n    this.keys.forEach((key, keyIndex) => {\n      let value = key.getFn ? key.getFn(doc) : this.getFn(doc, key.path);\n      if (!isDefined(value)) {\n        return;\n      }\n      if (isArray(value)) {\n        let subRecords = [];\n        const stack = [{\n          nestedArrIndex: -1,\n          value\n        }];\n        while (stack.length) {\n          const {\n            nestedArrIndex,\n            value\n          } = stack.pop();\n          if (!isDefined(value)) {\n            continue;\n          }\n          if (isString(value) && !isBlank(value)) {\n            let subRecord = {\n              v: value,\n              i: nestedArrIndex,\n              n: this.norm.get(value)\n            };\n            subRecords.push(subRecord);\n          } else if (isArray(value)) {\n            value.forEach((item, k) => {\n              stack.push({\n                nestedArrIndex: k,\n                value: item\n              });\n            });\n          } else ;\n        }\n        record.$[keyIndex] = subRecords;\n      } else if (isString(value) && !isBlank(value)) {\n        let subRecord = {\n          v: value,\n          n: this.norm.get(value)\n        };\n        record.$[keyIndex] = subRecord;\n      }\n    });\n    this.records.push(record);\n  }\n  toJSON() {\n    return {\n      keys: this.keys,\n      records: this.records\n    };\n  }\n}\nfunction createIndex(keys, docs, {\n  getFn = Config.getFn,\n  fieldNormWeight = Config.fieldNormWeight\n} = {}) {\n  const myIndex = new FuseIndex({\n    getFn,\n    fieldNormWeight\n  });\n  myIndex.setKeys(keys.map(createKey));\n  myIndex.setSources(docs);\n  myIndex.create();\n  return myIndex;\n}\nfunction parseIndex(data, {\n  getFn = Config.getFn,\n  fieldNormWeight = Config.fieldNormWeight\n} = {}) {\n  const {\n    keys,\n    records\n  } = data;\n  const myIndex = new FuseIndex({\n    getFn,\n    fieldNormWeight\n  });\n  myIndex.setKeys(keys);\n  myIndex.setIndexRecords(records);\n  return myIndex;\n}\nfunction computeScore$1(pattern, {\n  errors = 0,\n  currentLocation = 0,\n  expectedLocation = 0,\n  distance = Config.distance,\n  ignoreLocation = Config.ignoreLocation\n} = {}) {\n  const accuracy = errors / pattern.length;\n  if (ignoreLocation) {\n    return accuracy;\n  }\n  const proximity = Math.abs(expectedLocation - currentLocation);\n  if (!distance) {\n    // Dodge divide by zero error.\n    return proximity ? 1.0 : accuracy;\n  }\n  return accuracy + proximity / distance;\n}\nfunction convertMaskToIndices(matchmask = [], minMatchCharLength = Config.minMatchCharLength) {\n  let indices = [];\n  let start = -1;\n  let end = -1;\n  let i = 0;\n  for (let len = matchmask.length; i < len; i += 1) {\n    let match = matchmask[i];\n    if (match && start === -1) {\n      start = i;\n    } else if (!match && start !== -1) {\n      end = i - 1;\n      if (end - start + 1 >= minMatchCharLength) {\n        indices.push([start, end]);\n      }\n      start = -1;\n    }\n  }\n\n  // (i-1 - start) + 1 => i - start\n  if (matchmask[i - 1] && i - start >= minMatchCharLength) {\n    indices.push([start, i - 1]);\n  }\n  return indices;\n}\n\n// Machine word size\nconst MAX_BITS = 32;\nfunction search(text, pattern, patternAlphabet, {\n  location = Config.location,\n  distance = Config.distance,\n  threshold = Config.threshold,\n  findAllMatches = Config.findAllMatches,\n  minMatchCharLength = Config.minMatchCharLength,\n  includeMatches = Config.includeMatches,\n  ignoreLocation = Config.ignoreLocation\n} = {}) {\n  if (pattern.length > MAX_BITS) {\n    throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS));\n  }\n  const patternLen = pattern.length;\n  // Set starting location at beginning text and initialize the alphabet.\n  const textLen = text.length;\n  // Handle the case when location > text.length\n  const expectedLocation = Math.max(0, Math.min(location, textLen));\n  // Highest score beyond which we give up.\n  let currentThreshold = threshold;\n  // Is there a nearby exact match? (speedup)\n  let bestLocation = expectedLocation;\n\n  // Performance: only computer matches when the minMatchCharLength > 1\n  // OR if `includeMatches` is true.\n  const computeMatches = minMatchCharLength > 1 || includeMatches;\n  // A mask of the matches, used for building the indices\n  const matchMask = computeMatches ? Array(textLen) : [];\n  let index;\n\n  // Get all exact matches, here for speed up\n  while ((index = text.indexOf(pattern, bestLocation)) > -1) {\n    let score = computeScore$1(pattern, {\n      currentLocation: index,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n    currentThreshold = Math.min(score, currentThreshold);\n    bestLocation = index + patternLen;\n    if (computeMatches) {\n      let i = 0;\n      while (i < patternLen) {\n        matchMask[index + i] = 1;\n        i += 1;\n      }\n    }\n  }\n\n  // Reset the best location\n  bestLocation = -1;\n  let lastBitArr = [];\n  let finalScore = 1;\n  let binMax = patternLen + textLen;\n  const mask = 1 << patternLen - 1;\n  for (let i = 0; i < patternLen; i += 1) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from the match location we can stray\n    // at this error level.\n    let binMin = 0;\n    let binMid = binMax;\n    while (binMin < binMid) {\n      const score = computeScore$1(pattern, {\n        errors: i,\n        currentLocation: expectedLocation + binMid,\n        expectedLocation,\n        distance,\n        ignoreLocation\n      });\n      if (score <= currentThreshold) {\n        binMin = binMid;\n      } else {\n        binMax = binMid;\n      }\n      binMid = Math.floor((binMax - binMin) / 2 + binMin);\n    }\n\n    // Use the result from this iteration as the maximum for the next.\n    binMax = binMid;\n    let start = Math.max(1, expectedLocation - binMid + 1);\n    let finish = findAllMatches ? textLen : Math.min(expectedLocation + binMid, textLen) + patternLen;\n\n    // Initialize the bit array\n    let bitArr = Array(finish + 2);\n    bitArr[finish + 1] = (1 << i) - 1;\n    for (let j = finish; j >= start; j -= 1) {\n      let currentLocation = j - 1;\n      let charMatch = patternAlphabet[text.charAt(currentLocation)];\n      if (computeMatches) {\n        // Speed up: quick bool to int conversion (i.e, `charMatch ? 1 : 0`)\n        matchMask[currentLocation] = +!!charMatch;\n      }\n\n      // First pass: exact match\n      bitArr[j] = (bitArr[j + 1] << 1 | 1) & charMatch;\n\n      // Subsequent passes: fuzzy match\n      if (i) {\n        bitArr[j] |= (lastBitArr[j + 1] | lastBitArr[j]) << 1 | 1 | lastBitArr[j + 1];\n      }\n      if (bitArr[j] & mask) {\n        finalScore = computeScore$1(pattern, {\n          errors: i,\n          currentLocation,\n          expectedLocation,\n          distance,\n          ignoreLocation\n        });\n\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (finalScore <= currentThreshold) {\n          // Indeed it is\n          currentThreshold = finalScore;\n          bestLocation = currentLocation;\n\n          // Already passed `loc`, downhill from here on in.\n          if (bestLocation <= expectedLocation) {\n            break;\n          }\n\n          // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\n          start = Math.max(1, 2 * expectedLocation - bestLocation);\n        }\n      }\n    }\n\n    // No hope for a (better) match at greater error levels.\n    const score = computeScore$1(pattern, {\n      errors: i + 1,\n      currentLocation: expectedLocation,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n    if (score > currentThreshold) {\n      break;\n    }\n    lastBitArr = bitArr;\n  }\n  const result = {\n    isMatch: bestLocation >= 0,\n    // Count exact matches (those with a score of 0) to be \"almost\" exact\n    score: Math.max(0.001, finalScore)\n  };\n  if (computeMatches) {\n    const indices = convertMaskToIndices(matchMask, minMatchCharLength);\n    if (!indices.length) {\n      result.isMatch = false;\n    } else if (includeMatches) {\n      result.indices = indices;\n    }\n  }\n  return result;\n}\nfunction createPatternAlphabet(pattern) {\n  let mask = {};\n  for (let i = 0, len = pattern.length; i < len; i += 1) {\n    const char = pattern.charAt(i);\n    mask[char] = (mask[char] || 0) | 1 << len - i - 1;\n  }\n  return mask;\n}\nclass BitapSearch {\n  constructor(pattern, {\n    location = Config.location,\n    threshold = Config.threshold,\n    distance = Config.distance,\n    includeMatches = Config.includeMatches,\n    findAllMatches = Config.findAllMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    isCaseSensitive = Config.isCaseSensitive,\n    ignoreLocation = Config.ignoreLocation\n  } = {}) {\n    this.options = {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    };\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    this.chunks = [];\n    if (!this.pattern.length) {\n      return;\n    }\n    const addChunk = (pattern, startIndex) => {\n      this.chunks.push({\n        pattern,\n        alphabet: createPatternAlphabet(pattern),\n        startIndex\n      });\n    };\n    const len = this.pattern.length;\n    if (len > MAX_BITS) {\n      let i = 0;\n      const remainder = len % MAX_BITS;\n      const end = len - remainder;\n      while (i < end) {\n        addChunk(this.pattern.substr(i, MAX_BITS), i);\n        i += MAX_BITS;\n      }\n      if (remainder) {\n        const startIndex = len - MAX_BITS;\n        addChunk(this.pattern.substr(startIndex), startIndex);\n      }\n    } else {\n      addChunk(this.pattern, 0);\n    }\n  }\n  searchIn(text) {\n    const {\n      isCaseSensitive,\n      includeMatches\n    } = this.options;\n    if (!isCaseSensitive) {\n      text = text.toLowerCase();\n    }\n\n    // Exact match\n    if (this.pattern === text) {\n      let result = {\n        isMatch: true,\n        score: 0\n      };\n      if (includeMatches) {\n        result.indices = [[0, text.length - 1]];\n      }\n      return result;\n    }\n\n    // Otherwise, use Bitap algorithm\n    const {\n      location,\n      distance,\n      threshold,\n      findAllMatches,\n      minMatchCharLength,\n      ignoreLocation\n    } = this.options;\n    let allIndices = [];\n    let totalScore = 0;\n    let hasMatches = false;\n    this.chunks.forEach(({\n      pattern,\n      alphabet,\n      startIndex\n    }) => {\n      const {\n        isMatch,\n        score,\n        indices\n      } = search(text, pattern, alphabet, {\n        location: location + startIndex,\n        distance,\n        threshold,\n        findAllMatches,\n        minMatchCharLength,\n        includeMatches,\n        ignoreLocation\n      });\n      if (isMatch) {\n        hasMatches = true;\n      }\n      totalScore += score;\n      if (isMatch && indices) {\n        allIndices = [...allIndices, ...indices];\n      }\n    });\n    let result = {\n      isMatch: hasMatches,\n      score: hasMatches ? totalScore / this.chunks.length : 1\n    };\n    if (hasMatches && includeMatches) {\n      result.indices = allIndices;\n    }\n    return result;\n  }\n}\nclass BaseMatch {\n  constructor(pattern) {\n    this.pattern = pattern;\n  }\n  static isMultiMatch(pattern) {\n    return getMatch(pattern, this.multiRegex);\n  }\n  static isSingleMatch(pattern) {\n    return getMatch(pattern, this.singleRegex);\n  }\n  search( /*text*/) {}\n}\nfunction getMatch(pattern, exp) {\n  const matches = pattern.match(exp);\n  return matches ? matches[1] : null;\n}\n\n// Token: 'file\n\nclass ExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'exact';\n  }\n  static get multiRegex() {\n    return /^=\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^=(.*)$/;\n  }\n  search(text) {\n    const isMatch = text === this.pattern;\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    };\n  }\n}\n\n// Token: !fire\n\nclass InverseExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-exact';\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^!(.*)$/;\n  }\n  search(text) {\n    const index = text.indexOf(this.pattern);\n    const isMatch = index === -1;\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    };\n  }\n}\n\n// Token: ^file\n\nclass PrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'prefix-exact';\n  }\n  static get multiRegex() {\n    return /^\\^\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^\\^(.*)$/;\n  }\n  search(text) {\n    const isMatch = text.startsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    };\n  }\n}\n\n// Token: !^fire\n\nclass InversePrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-prefix-exact';\n  }\n  static get multiRegex() {\n    return /^!\\^\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^!\\^(.*)$/;\n  }\n  search(text) {\n    const isMatch = !text.startsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    };\n  }\n}\n\n// Token: .file$\n\nclass SuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'suffix-exact';\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"\\$$/;\n  }\n  static get singleRegex() {\n    return /^(.*)\\$$/;\n  }\n  search(text) {\n    const isMatch = text.endsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [text.length - this.pattern.length, text.length - 1]\n    };\n  }\n}\n\n// Token: !.file$\n\nclass InverseSuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-suffix-exact';\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"\\$$/;\n  }\n  static get singleRegex() {\n    return /^!(.*)\\$$/;\n  }\n  search(text) {\n    const isMatch = !text.endsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    };\n  }\n}\nclass FuzzyMatch extends BaseMatch {\n  constructor(pattern, {\n    location = Config.location,\n    threshold = Config.threshold,\n    distance = Config.distance,\n    includeMatches = Config.includeMatches,\n    findAllMatches = Config.findAllMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    isCaseSensitive = Config.isCaseSensitive,\n    ignoreLocation = Config.ignoreLocation\n  } = {}) {\n    super(pattern);\n    this._bitapSearch = new BitapSearch(pattern, {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    });\n  }\n  static get type() {\n    return 'fuzzy';\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^(.*)$/;\n  }\n  search(text) {\n    return this._bitapSearch.searchIn(text);\n  }\n}\n\n// Token: 'file\n\nclass IncludeMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'include';\n  }\n  static get multiRegex() {\n    return /^'\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^'(.*)$/;\n  }\n  search(text) {\n    let location = 0;\n    let index;\n    const indices = [];\n    const patternLen = this.pattern.length;\n\n    // Get all exact matches\n    while ((index = text.indexOf(this.pattern, location)) > -1) {\n      location = index + patternLen;\n      indices.push([index, location - 1]);\n    }\n    const isMatch = !!indices.length;\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices\n    };\n  }\n}\n\n// ❗Order is important. DO NOT CHANGE.\nconst searchers = [ExactMatch, IncludeMatch, PrefixExactMatch, InversePrefixExactMatch, InverseSuffixExactMatch, SuffixExactMatch, InverseExactMatch, FuzzyMatch];\nconst searchersLen = searchers.length;\n\n// Regex to split by spaces, but keep anything in quotes together\nconst SPACE_RE = / +(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/;\nconst OR_TOKEN = '|';\n\n// Return a 2D array representation of the query, for simpler parsing.\n// Example:\n// \"^core go$ | rb$ | py$ xy$\" => [[\"^core\", \"go$\"], [\"rb$\"], [\"py$\", \"xy$\"]]\nfunction parseQuery(pattern, options = {}) {\n  return pattern.split(OR_TOKEN).map(item => {\n    let query = item.trim().split(SPACE_RE).filter(item => item && !!item.trim());\n    let results = [];\n    for (let i = 0, len = query.length; i < len; i += 1) {\n      const queryItem = query[i];\n\n      // 1. Handle multiple query match (i.e, once that are quoted, like `\"hello world\"`)\n      let found = false;\n      let idx = -1;\n      while (!found && ++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isMultiMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          found = true;\n        }\n      }\n      if (found) {\n        continue;\n      }\n\n      // 2. Handle single query matches (i.e, once that are *not* quoted)\n      idx = -1;\n      while (++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isSingleMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          break;\n        }\n      }\n    }\n    return results;\n  });\n}\n\n// These extended matchers can return an array of matches, as opposed\n// to a singl match\nconst MultiMatchSet = new Set([FuzzyMatch.type, IncludeMatch.type]);\n\n/**\n * Command-like searching\n * ======================\n *\n * Given multiple search terms delimited by spaces.e.g. `^jscript .python$ ruby !java`,\n * search in a given text.\n *\n * Search syntax:\n *\n * | Token       | Match type                 | Description                            |\n * | ----------- | -------------------------- | -------------------------------------- |\n * | `jscript`   | fuzzy-match                | Items that fuzzy match `jscript`       |\n * | `=scheme`   | exact-match                | Items that are `scheme`                |\n * | `'python`   | include-match              | Items that include `python`            |\n * | `!ruby`     | inverse-exact-match        | Items that do not include `ruby`       |\n * | `^java`     | prefix-exact-match         | Items that start with `java`           |\n * | `!^earlang` | inverse-prefix-exact-match | Items that do not start with `earlang` |\n * | `.js$`      | suffix-exact-match         | Items that end with `.js`              |\n * | `!.go$`     | inverse-suffix-exact-match | Items that do not end with `.go`       |\n *\n * A single pipe character acts as an OR operator. For example, the following\n * query matches entries that start with `core` and end with either`go`, `rb`,\n * or`py`.\n *\n * ```\n * ^core go$ | rb$ | py$\n * ```\n */\nclass ExtendedSearch {\n  constructor(pattern, {\n    isCaseSensitive = Config.isCaseSensitive,\n    includeMatches = Config.includeMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    ignoreLocation = Config.ignoreLocation,\n    findAllMatches = Config.findAllMatches,\n    location = Config.location,\n    threshold = Config.threshold,\n    distance = Config.distance\n  } = {}) {\n    this.query = null;\n    this.options = {\n      isCaseSensitive,\n      includeMatches,\n      minMatchCharLength,\n      findAllMatches,\n      ignoreLocation,\n      location,\n      threshold,\n      distance\n    };\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    this.query = parseQuery(this.pattern, this.options);\n  }\n  static condition(_, options) {\n    return options.useExtendedSearch;\n  }\n  searchIn(text) {\n    const query = this.query;\n    if (!query) {\n      return {\n        isMatch: false,\n        score: 1\n      };\n    }\n    const {\n      includeMatches,\n      isCaseSensitive\n    } = this.options;\n    text = isCaseSensitive ? text : text.toLowerCase();\n    let numMatches = 0;\n    let allIndices = [];\n    let totalScore = 0;\n\n    // ORs\n    for (let i = 0, qLen = query.length; i < qLen; i += 1) {\n      const searchers = query[i];\n\n      // Reset indices\n      allIndices.length = 0;\n      numMatches = 0;\n\n      // ANDs\n      for (let j = 0, pLen = searchers.length; j < pLen; j += 1) {\n        const searcher = searchers[j];\n        const {\n          isMatch,\n          indices,\n          score\n        } = searcher.search(text);\n        if (isMatch) {\n          numMatches += 1;\n          totalScore += score;\n          if (includeMatches) {\n            const type = searcher.constructor.type;\n            if (MultiMatchSet.has(type)) {\n              allIndices = [...allIndices, ...indices];\n            } else {\n              allIndices.push(indices);\n            }\n          }\n        } else {\n          totalScore = 0;\n          numMatches = 0;\n          allIndices.length = 0;\n          break;\n        }\n      }\n\n      // OR condition, so if TRUE, return\n      if (numMatches) {\n        let result = {\n          isMatch: true,\n          score: totalScore / numMatches\n        };\n        if (includeMatches) {\n          result.indices = allIndices;\n        }\n        return result;\n      }\n    }\n\n    // Nothing was matched\n    return {\n      isMatch: false,\n      score: 1\n    };\n  }\n}\nconst registeredSearchers = [];\nfunction register(...args) {\n  registeredSearchers.push(...args);\n}\nfunction createSearcher(pattern, options) {\n  for (let i = 0, len = registeredSearchers.length; i < len; i += 1) {\n    let searcherClass = registeredSearchers[i];\n    if (searcherClass.condition(pattern, options)) {\n      return new searcherClass(pattern, options);\n    }\n  }\n  return new BitapSearch(pattern, options);\n}\nconst LogicalOperator = {\n  AND: '$and',\n  OR: '$or'\n};\nconst KeyType = {\n  PATH: '$path',\n  PATTERN: '$val'\n};\nconst isExpression = query => !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);\nconst isPath = query => !!query[KeyType.PATH];\nconst isLeaf = query => !isArray(query) && isObject(query) && !isExpression(query);\nconst convertToExplicit = query => ({\n  [LogicalOperator.AND]: Object.keys(query).map(key => ({\n    [key]: query[key]\n  }))\n});\n\n// When `auto` is `true`, the parse function will infer and initialize and add\n// the appropriate `Searcher` instance\nfunction parse(query, options, {\n  auto = true\n} = {}) {\n  const next = query => {\n    let keys = Object.keys(query);\n    const isQueryPath = isPath(query);\n    if (!isQueryPath && keys.length > 1 && !isExpression(query)) {\n      return next(convertToExplicit(query));\n    }\n    if (isLeaf(query)) {\n      const key = isQueryPath ? query[KeyType.PATH] : keys[0];\n      const pattern = isQueryPath ? query[KeyType.PATTERN] : query[key];\n      if (!isString(pattern)) {\n        throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key));\n      }\n      const obj = {\n        keyId: createKeyId(key),\n        pattern\n      };\n      if (auto) {\n        obj.searcher = createSearcher(pattern, options);\n      }\n      return obj;\n    }\n    let node = {\n      children: [],\n      operator: keys[0]\n    };\n    keys.forEach(key => {\n      const value = query[key];\n      if (isArray(value)) {\n        value.forEach(item => {\n          node.children.push(next(item));\n        });\n      }\n    });\n    return node;\n  };\n  if (!isExpression(query)) {\n    query = convertToExplicit(query);\n  }\n  return next(query);\n}\n\n// Practical scoring function\nfunction computeScore(results, {\n  ignoreFieldNorm = Config.ignoreFieldNorm\n}) {\n  results.forEach(result => {\n    let totalScore = 1;\n    result.matches.forEach(({\n      key,\n      norm,\n      score\n    }) => {\n      const weight = key ? key.weight : null;\n      totalScore *= Math.pow(score === 0 && weight ? Number.EPSILON : score, (weight || 1) * (ignoreFieldNorm ? 1 : norm));\n    });\n    result.score = totalScore;\n  });\n}\nfunction transformMatches(result, data) {\n  const matches = result.matches;\n  data.matches = [];\n  if (!isDefined(matches)) {\n    return;\n  }\n  matches.forEach(match => {\n    if (!isDefined(match.indices) || !match.indices.length) {\n      return;\n    }\n    const {\n      indices,\n      value\n    } = match;\n    let obj = {\n      indices,\n      value\n    };\n    if (match.key) {\n      obj.key = match.key.src;\n    }\n    if (match.idx > -1) {\n      obj.refIndex = match.idx;\n    }\n    data.matches.push(obj);\n  });\n}\nfunction transformScore(result, data) {\n  data.score = result.score;\n}\nfunction format(results, docs, {\n  includeMatches = Config.includeMatches,\n  includeScore = Config.includeScore\n} = {}) {\n  const transformers = [];\n  if (includeMatches) transformers.push(transformMatches);\n  if (includeScore) transformers.push(transformScore);\n  return results.map(result => {\n    const {\n      idx\n    } = result;\n    const data = {\n      item: docs[idx],\n      refIndex: idx\n    };\n    if (transformers.length) {\n      transformers.forEach(transformer => {\n        transformer(result, data);\n      });\n    }\n    return data;\n  });\n}\nclass Fuse {\n  constructor(docs, options = {}, index) {\n    this.options = _objectSpread2(_objectSpread2({}, Config), options);\n    if (this.options.useExtendedSearch && !true) {\n      throw new Error(EXTENDED_SEARCH_UNAVAILABLE);\n    }\n    this._keyStore = new KeyStore(this.options.keys);\n    this.setCollection(docs, index);\n  }\n  setCollection(docs, index) {\n    this._docs = docs;\n    if (index && !(index instanceof FuseIndex)) {\n      throw new Error(INCORRECT_INDEX_TYPE);\n    }\n    this._myIndex = index || createIndex(this.options.keys, this._docs, {\n      getFn: this.options.getFn,\n      fieldNormWeight: this.options.fieldNormWeight\n    });\n  }\n  add(doc) {\n    if (!isDefined(doc)) {\n      return;\n    }\n    this._docs.push(doc);\n    this._myIndex.add(doc);\n  }\n  remove(predicate = ( /* doc, idx */) => false) {\n    const results = [];\n    for (let i = 0, len = this._docs.length; i < len; i += 1) {\n      const doc = this._docs[i];\n      if (predicate(doc, i)) {\n        this.removeAt(i);\n        i -= 1;\n        len -= 1;\n        results.push(doc);\n      }\n    }\n    return results;\n  }\n  removeAt(idx) {\n    this._docs.splice(idx, 1);\n    this._myIndex.removeAt(idx);\n  }\n  getIndex() {\n    return this._myIndex;\n  }\n  search(query, {\n    limit = -1\n  } = {}) {\n    const {\n      includeMatches,\n      includeScore,\n      shouldSort,\n      sortFn,\n      ignoreFieldNorm\n    } = this.options;\n    let results = isString(query) ? isString(this._docs[0]) ? this._searchStringList(query) : this._searchObjectList(query) : this._searchLogical(query);\n    computeScore(results, {\n      ignoreFieldNorm\n    });\n    if (shouldSort) {\n      results.sort(sortFn);\n    }\n    if (isNumber(limit) && limit > -1) {\n      results = results.slice(0, limit);\n    }\n    return format(results, this._docs, {\n      includeMatches,\n      includeScore\n    });\n  }\n  _searchStringList(query) {\n    const searcher = createSearcher(query, this.options);\n    const {\n      records\n    } = this._myIndex;\n    const results = [];\n\n    // Iterate over every string in the index\n    records.forEach(({\n      v: text,\n      i: idx,\n      n: norm\n    }) => {\n      if (!isDefined(text)) {\n        return;\n      }\n      const {\n        isMatch,\n        score,\n        indices\n      } = searcher.searchIn(text);\n      if (isMatch) {\n        results.push({\n          item: text,\n          idx,\n          matches: [{\n            score,\n            value: text,\n            norm,\n            indices\n          }]\n        });\n      }\n    });\n    return results;\n  }\n  _searchLogical(query) {\n    const expression = parse(query, this.options);\n    const evaluate = (node, item, idx) => {\n      if (!node.children) {\n        const {\n          keyId,\n          searcher\n        } = node;\n        const matches = this._findMatches({\n          key: this._keyStore.get(keyId),\n          value: this._myIndex.getValueForItemAtKeyId(item, keyId),\n          searcher\n        });\n        if (matches && matches.length) {\n          return [{\n            idx,\n            item,\n            matches\n          }];\n        }\n        return [];\n      }\n      const res = [];\n      for (let i = 0, len = node.children.length; i < len; i += 1) {\n        const child = node.children[i];\n        const result = evaluate(child, item, idx);\n        if (result.length) {\n          res.push(...result);\n        } else if (node.operator === LogicalOperator.AND) {\n          return [];\n        }\n      }\n      return res;\n    };\n    const records = this._myIndex.records;\n    const resultMap = {};\n    const results = [];\n    records.forEach(({\n      $: item,\n      i: idx\n    }) => {\n      if (isDefined(item)) {\n        let expResults = evaluate(expression, item, idx);\n        if (expResults.length) {\n          // Dedupe when adding\n          if (!resultMap[idx]) {\n            resultMap[idx] = {\n              idx,\n              item,\n              matches: []\n            };\n            results.push(resultMap[idx]);\n          }\n          expResults.forEach(({\n            matches\n          }) => {\n            resultMap[idx].matches.push(...matches);\n          });\n        }\n      }\n    });\n    return results;\n  }\n  _searchObjectList(query) {\n    const searcher = createSearcher(query, this.options);\n    const {\n      keys,\n      records\n    } = this._myIndex;\n    const results = [];\n\n    // List is Array<Object>\n    records.forEach(({\n      $: item,\n      i: idx\n    }) => {\n      if (!isDefined(item)) {\n        return;\n      }\n      let matches = [];\n\n      // Iterate over every key (i.e, path), and fetch the value at that key\n      keys.forEach((key, keyIndex) => {\n        matches.push(...this._findMatches({\n          key,\n          value: item[keyIndex],\n          searcher\n        }));\n      });\n      if (matches.length) {\n        results.push({\n          idx,\n          item,\n          matches\n        });\n      }\n    });\n    return results;\n  }\n  _findMatches({\n    key,\n    value,\n    searcher\n  }) {\n    if (!isDefined(value)) {\n      return [];\n    }\n    let matches = [];\n    if (isArray(value)) {\n      value.forEach(({\n        v: text,\n        i: idx,\n        n: norm\n      }) => {\n        if (!isDefined(text)) {\n          return;\n        }\n        const {\n          isMatch,\n          score,\n          indices\n        } = searcher.searchIn(text);\n        if (isMatch) {\n          matches.push({\n            score,\n            key,\n            value: text,\n            idx,\n            norm,\n            indices\n          });\n        }\n      });\n    } else {\n      const {\n        v: text,\n        n: norm\n      } = value;\n      const {\n        isMatch,\n        score,\n        indices\n      } = searcher.searchIn(text);\n      if (isMatch) {\n        matches.push({\n          score,\n          key,\n          value: text,\n          norm,\n          indices\n        });\n      }\n    }\n    return matches;\n  }\n}\nFuse.version = '7.0.0';\nFuse.createIndex = createIndex;\nFuse.parseIndex = parseIndex;\nFuse.config = Config;\n{\n  Fuse.parseQuery = parse;\n}\n{\n  register(ExtendedSearch);\n}\n\nvar SearchByFuse = /** @class */ (function () {\n    function SearchByFuse(config) {\n        this._haystack = [];\n        this._fuseOptions = __assign(__assign({}, config.fuseOptions), { keys: __spreadArray([], config.searchFields, true), includeMatches: true });\n    }\n    SearchByFuse.prototype.index = function (data) {\n        this._haystack = data;\n        if (this._fuse) {\n            this._fuse.setCollection(data);\n        }\n    };\n    SearchByFuse.prototype.reset = function () {\n        this._haystack = [];\n        this._fuse = undefined;\n    };\n    SearchByFuse.prototype.isEmptyIndex = function () {\n        return !this._haystack.length;\n    };\n    SearchByFuse.prototype.search = function (needle) {\n        if (!this._fuse) {\n            {\n                this._fuse = new Fuse(this._haystack, this._fuseOptions);\n            }\n        }\n        var results = this._fuse.search(needle);\n        return results.map(function (value, i) {\n            return {\n                item: value.item,\n                score: value.score || 0,\n                rank: i + 1, // If value.score is used for sorting, this can create non-stable sorts!\n            };\n        });\n    };\n    return SearchByFuse;\n}());\n\nfunction getSearcher(config) {\n    {\n        return new SearchByFuse(config);\n    }\n}\n\n/**\n * Helpers to create HTML elements used by Choices\n * Can be overridden by providing `callbackOnCreateTemplates` option.\n * `Choices.defaults.templates` allows access to the default template methods from `callbackOnCreateTemplates`\n */\nvar isEmptyObject = function (obj) {\n    // eslint-disable-next-line no-restricted-syntax\n    for (var prop in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n            return false;\n        }\n    }\n    return true;\n};\nvar assignCustomProperties = function (el, choice, withCustomProperties) {\n    var dataset = el.dataset;\n    var customProperties = choice.customProperties, labelClass = choice.labelClass, labelDescription = choice.labelDescription;\n    if (labelClass) {\n        dataset.labelClass = getClassNames(labelClass).join(' ');\n    }\n    if (labelDescription) {\n        dataset.labelDescription = labelDescription;\n    }\n    if (withCustomProperties && customProperties) {\n        if (typeof customProperties === 'string') {\n            dataset.customProperties = customProperties;\n        }\n        else if (typeof customProperties === 'object' && !isEmptyObject(customProperties)) {\n            dataset.customProperties = JSON.stringify(customProperties);\n        }\n    }\n};\nvar addAriaLabel = function (docRoot, id, element) {\n    var label = id && docRoot.querySelector(\"label[for='\".concat(id, \"']\"));\n    var text = label && label.innerText;\n    if (text) {\n        element.setAttribute('aria-label', text);\n    }\n};\nvar templates = {\n    containerOuter: function (_a, dir, isSelectElement, isSelectOneElement, searchEnabled, passedElementType, labelId) {\n        var containerOuter = _a.classNames.containerOuter;\n        var div = document.createElement('div');\n        addClassesToElement(div, containerOuter);\n        div.dataset.type = passedElementType;\n        if (dir) {\n            div.dir = dir;\n        }\n        if (isSelectOneElement) {\n            div.tabIndex = 0;\n        }\n        if (isSelectElement) {\n            div.setAttribute('role', searchEnabled ? 'combobox' : 'listbox');\n            if (searchEnabled) {\n                div.setAttribute('aria-autocomplete', 'list');\n            }\n            else if (!labelId) {\n                addAriaLabel(this._docRoot, this.passedElement.element.id, div);\n            }\n            div.setAttribute('aria-haspopup', 'true');\n            div.setAttribute('aria-expanded', 'false');\n        }\n        if (labelId) {\n            div.setAttribute('aria-labelledby', labelId);\n        }\n        return div;\n    },\n    containerInner: function (_a) {\n        var containerInner = _a.classNames.containerInner;\n        var div = document.createElement('div');\n        addClassesToElement(div, containerInner);\n        return div;\n    },\n    itemList: function (_a, isSelectOneElement) {\n        var searchEnabled = _a.searchEnabled, _b = _a.classNames, list = _b.list, listSingle = _b.listSingle, listItems = _b.listItems;\n        var div = document.createElement('div');\n        addClassesToElement(div, list);\n        addClassesToElement(div, isSelectOneElement ? listSingle : listItems);\n        if (this._isSelectElement && searchEnabled) {\n            div.setAttribute('role', 'listbox');\n        }\n        return div;\n    },\n    placeholder: function (_a, value) {\n        var allowHTML = _a.allowHTML, placeholder = _a.classNames.placeholder;\n        var div = document.createElement('div');\n        addClassesToElement(div, placeholder);\n        setElementHtml(div, allowHTML, value);\n        return div;\n    },\n    item: function (_a, choice, removeItemButton) {\n        var allowHTML = _a.allowHTML, removeItemButtonAlignLeft = _a.removeItemButtonAlignLeft, removeItemIconText = _a.removeItemIconText, removeItemLabelText = _a.removeItemLabelText, _b = _a.classNames, item = _b.item, button = _b.button, highlightedState = _b.highlightedState, itemSelectable = _b.itemSelectable, placeholder = _b.placeholder;\n        var rawValue = unwrapStringForRaw(choice.value);\n        var div = document.createElement('div');\n        addClassesToElement(div, item);\n        if (choice.labelClass) {\n            var spanLabel = document.createElement('span');\n            setElementHtml(spanLabel, allowHTML, choice.label);\n            addClassesToElement(spanLabel, choice.labelClass);\n            div.appendChild(spanLabel);\n        }\n        else {\n            setElementHtml(div, allowHTML, choice.label);\n        }\n        div.dataset.item = '';\n        div.dataset.id = choice.id;\n        div.dataset.value = rawValue;\n        assignCustomProperties(div, choice, true);\n        if (choice.disabled || this.containerOuter.isDisabled) {\n            div.setAttribute('aria-disabled', 'true');\n        }\n        if (this._isSelectElement) {\n            div.setAttribute('aria-selected', 'true');\n            div.setAttribute('role', 'option');\n        }\n        if (choice.placeholder) {\n            addClassesToElement(div, placeholder);\n            div.dataset.placeholder = '';\n        }\n        addClassesToElement(div, choice.highlighted ? highlightedState : itemSelectable);\n        if (removeItemButton) {\n            if (choice.disabled) {\n                removeClassesFromElement(div, itemSelectable);\n            }\n            div.dataset.deletable = '';\n            var removeButton = document.createElement('button');\n            removeButton.type = 'button';\n            addClassesToElement(removeButton, button);\n            setElementHtml(removeButton, true, resolveNoticeFunction(removeItemIconText, choice.value));\n            var REMOVE_ITEM_LABEL = resolveNoticeFunction(removeItemLabelText, choice.value);\n            if (REMOVE_ITEM_LABEL) {\n                removeButton.setAttribute('aria-label', REMOVE_ITEM_LABEL);\n            }\n            removeButton.dataset.button = '';\n            if (removeItemButtonAlignLeft) {\n                div.insertAdjacentElement('afterbegin', removeButton);\n            }\n            else {\n                div.appendChild(removeButton);\n            }\n        }\n        return div;\n    },\n    choiceList: function (_a, isSelectOneElement) {\n        var list = _a.classNames.list;\n        var div = document.createElement('div');\n        addClassesToElement(div, list);\n        if (!isSelectOneElement) {\n            div.setAttribute('aria-multiselectable', 'true');\n        }\n        div.setAttribute('role', 'listbox');\n        return div;\n    },\n    choiceGroup: function (_a, _b) {\n        var allowHTML = _a.allowHTML, _c = _a.classNames, group = _c.group, groupHeading = _c.groupHeading, itemDisabled = _c.itemDisabled;\n        var id = _b.id, label = _b.label, disabled = _b.disabled;\n        var rawLabel = unwrapStringForRaw(label);\n        var div = document.createElement('div');\n        addClassesToElement(div, group);\n        if (disabled) {\n            addClassesToElement(div, itemDisabled);\n        }\n        div.setAttribute('role', 'group');\n        div.dataset.group = '';\n        div.dataset.id = id;\n        div.dataset.value = rawLabel;\n        if (disabled) {\n            div.setAttribute('aria-disabled', 'true');\n        }\n        var heading = document.createElement('div');\n        addClassesToElement(heading, groupHeading);\n        setElementHtml(heading, allowHTML, label || '');\n        div.appendChild(heading);\n        return div;\n    },\n    choice: function (_a, choice, selectText, groupName) {\n        var allowHTML = _a.allowHTML, _b = _a.classNames, item = _b.item, itemChoice = _b.itemChoice, itemSelectable = _b.itemSelectable, selectedState = _b.selectedState, itemDisabled = _b.itemDisabled, description = _b.description, placeholder = _b.placeholder;\n        // eslint-disable-next-line prefer-destructuring\n        var label = choice.label;\n        var rawValue = unwrapStringForRaw(choice.value);\n        var div = document.createElement('div');\n        div.id = choice.elementId;\n        addClassesToElement(div, item);\n        addClassesToElement(div, itemChoice);\n        if (groupName && typeof label === 'string') {\n            label = escapeForTemplate(allowHTML, label);\n            label += \" (\".concat(groupName, \")\");\n            label = { trusted: label };\n        }\n        var describedBy = div;\n        if (choice.labelClass) {\n            var spanLabel = document.createElement('span');\n            setElementHtml(spanLabel, allowHTML, label);\n            addClassesToElement(spanLabel, choice.labelClass);\n            describedBy = spanLabel;\n            div.appendChild(spanLabel);\n        }\n        else {\n            setElementHtml(div, allowHTML, label);\n        }\n        if (choice.labelDescription) {\n            var descId = \"\".concat(choice.elementId, \"-description\");\n            describedBy.setAttribute('aria-describedby', descId);\n            var spanDesc = document.createElement('span');\n            setElementHtml(spanDesc, allowHTML, choice.labelDescription);\n            spanDesc.id = descId;\n            addClassesToElement(spanDesc, description);\n            div.appendChild(spanDesc);\n        }\n        if (choice.selected) {\n            addClassesToElement(div, selectedState);\n        }\n        if (choice.placeholder) {\n            addClassesToElement(div, placeholder);\n        }\n        div.setAttribute('role', choice.group ? 'treeitem' : 'option');\n        div.dataset.choice = '';\n        div.dataset.id = choice.id;\n        div.dataset.value = rawValue;\n        if (selectText) {\n            div.dataset.selectText = selectText;\n        }\n        if (choice.group) {\n            div.dataset.groupId = \"\".concat(choice.group.id);\n        }\n        assignCustomProperties(div, choice, false);\n        if (choice.disabled) {\n            addClassesToElement(div, itemDisabled);\n            div.dataset.choiceDisabled = '';\n            div.setAttribute('aria-disabled', 'true');\n        }\n        else {\n            addClassesToElement(div, itemSelectable);\n            div.dataset.choiceSelectable = '';\n        }\n        return div;\n    },\n    input: function (_a, placeholderValue) {\n        var _b = _a.classNames, input = _b.input, inputCloned = _b.inputCloned, labelId = _a.labelId;\n        var inp = document.createElement('input');\n        inp.type = 'search';\n        addClassesToElement(inp, input);\n        addClassesToElement(inp, inputCloned);\n        inp.autocomplete = 'off';\n        inp.autocapitalize = 'off';\n        inp.spellcheck = false;\n        inp.setAttribute('role', 'textbox');\n        inp.setAttribute('aria-autocomplete', 'list');\n        if (placeholderValue) {\n            inp.setAttribute('aria-label', placeholderValue);\n        }\n        else if (!labelId) {\n            addAriaLabel(this._docRoot, this.passedElement.element.id, inp);\n        }\n        return inp;\n    },\n    dropdown: function (_a) {\n        var _b = _a.classNames, list = _b.list, listDropdown = _b.listDropdown;\n        var div = document.createElement('div');\n        addClassesToElement(div, list);\n        addClassesToElement(div, listDropdown);\n        div.setAttribute('aria-expanded', 'false');\n        return div;\n    },\n    notice: function (_a, innerHTML, type) {\n        var _b = _a.classNames, item = _b.item, itemChoice = _b.itemChoice, addChoice = _b.addChoice, noResults = _b.noResults, noChoices = _b.noChoices, noticeItem = _b.notice;\n        if (type === void 0) { type = NoticeTypes.generic; }\n        var notice = document.createElement('div');\n        setElementHtml(notice, true, innerHTML);\n        addClassesToElement(notice, item);\n        addClassesToElement(notice, itemChoice);\n        addClassesToElement(notice, noticeItem);\n        // eslint-disable-next-line default-case\n        switch (type) {\n            case NoticeTypes.addChoice:\n                addClassesToElement(notice, addChoice);\n                break;\n            case NoticeTypes.noResults:\n                addClassesToElement(notice, noResults);\n                break;\n            case NoticeTypes.noChoices:\n                addClassesToElement(notice, noChoices);\n                break;\n        }\n        if (type === NoticeTypes.addChoice) {\n            notice.dataset.choiceSelectable = '';\n            notice.dataset.choice = '';\n        }\n        return notice;\n    },\n    option: function (choice) {\n        // HtmlOptionElement's label value does not support HTML, so the avoid double escaping unwrap the untrusted string.\n        var labelValue = unwrapStringForRaw(choice.label);\n        var opt = new Option(labelValue, choice.value, false, choice.selected);\n        assignCustomProperties(opt, choice, true);\n        opt.disabled = choice.disabled;\n        if (choice.selected) {\n            opt.setAttribute('selected', '');\n        }\n        return opt;\n    },\n};\n\n/** @see {@link http://browserhacks.com/#hack-acea075d0ac6954f275a70023906050c} */\nvar IS_IE11 = '-ms-scroll-limit' in document.documentElement.style &&\n    '-ms-ime-align' in document.documentElement.style;\nvar USER_DEFAULTS = {};\nvar parseDataSetId = function (element) {\n    if (!element) {\n        return undefined;\n    }\n    return element.dataset.id ? parseInt(element.dataset.id, 10) : undefined;\n};\nvar selectableChoiceIdentifier = '[data-choice-selectable]';\n/**\n * Choices\n * @author Josh Johnson<josh@joshuajohnson.co.uk>\n */\nvar Choices = /** @class */ (function () {\n    function Choices(element, userConfig) {\n        if (element === void 0) { element = '[data-choice]'; }\n        if (userConfig === void 0) { userConfig = {}; }\n        var _this = this;\n        this.initialisedOK = undefined;\n        this._hasNonChoicePlaceholder = false;\n        this._lastAddedChoiceId = 0;\n        this._lastAddedGroupId = 0;\n        var defaults = Choices.defaults;\n        this.config = __assign(__assign(__assign({}, defaults.allOptions), defaults.options), userConfig);\n        ObjectsInConfig.forEach(function (key) {\n            _this.config[key] = __assign(__assign(__assign({}, defaults.allOptions[key]), defaults.options[key]), userConfig[key]);\n        });\n        var config = this.config;\n        if (!config.silent) {\n            this._validateConfig();\n        }\n        var docRoot = config.shadowRoot || document.documentElement;\n        this._docRoot = docRoot;\n        var passedElement = typeof element === 'string' ? docRoot.querySelector(element) : element;\n        if (!passedElement ||\n            typeof passedElement !== 'object' ||\n            !(isHtmlInputElement(passedElement) || isHtmlSelectElement(passedElement))) {\n            if (!passedElement && typeof element === 'string') {\n                throw TypeError(\"Selector \".concat(element, \" failed to find an element\"));\n            }\n            throw TypeError(\"Expected one of the following types text|select-one|select-multiple\");\n        }\n        var elementType = passedElement.type;\n        var isText = elementType === PassedElementTypes.Text;\n        if (isText || config.maxItemCount !== 1) {\n            config.singleModeForMultiSelect = false;\n        }\n        if (config.singleModeForMultiSelect) {\n            elementType = PassedElementTypes.SelectMultiple;\n        }\n        var isSelectOne = elementType === PassedElementTypes.SelectOne;\n        var isSelectMultiple = elementType === PassedElementTypes.SelectMultiple;\n        var isSelect = isSelectOne || isSelectMultiple;\n        this._elementType = elementType;\n        this._isTextElement = isText;\n        this._isSelectOneElement = isSelectOne;\n        this._isSelectMultipleElement = isSelectMultiple;\n        this._isSelectElement = isSelectOne || isSelectMultiple;\n        this._canAddUserChoices = (isText && config.addItems) || (isSelect && config.addChoices);\n        if (typeof config.renderSelectedChoices !== 'boolean') {\n            config.renderSelectedChoices = config.renderSelectedChoices === 'always' || isSelectOne;\n        }\n        if (config.closeDropdownOnSelect === 'auto') {\n            config.closeDropdownOnSelect = isText || isSelectOne || config.singleModeForMultiSelect;\n        }\n        else {\n            config.closeDropdownOnSelect = coerceBool(config.closeDropdownOnSelect);\n        }\n        if (config.placeholder) {\n            if (config.placeholderValue) {\n                this._hasNonChoicePlaceholder = true;\n            }\n            else if (passedElement.dataset.placeholder) {\n                this._hasNonChoicePlaceholder = true;\n                config.placeholderValue = passedElement.dataset.placeholder;\n            }\n        }\n        if (userConfig.addItemFilter && typeof userConfig.addItemFilter !== 'function') {\n            var re = userConfig.addItemFilter instanceof RegExp ? userConfig.addItemFilter : new RegExp(userConfig.addItemFilter);\n            config.addItemFilter = re.test.bind(re);\n        }\n        if (this._isTextElement) {\n            this.passedElement = new WrappedInput({\n                element: passedElement,\n                classNames: config.classNames,\n            });\n        }\n        else {\n            var selectEl = passedElement;\n            this.passedElement = new WrappedSelect({\n                element: selectEl,\n                classNames: config.classNames,\n                template: function (data) { return _this._templates.option(data); },\n                extractPlaceholder: config.placeholder && !this._hasNonChoicePlaceholder,\n            });\n        }\n        this.initialised = false;\n        this._store = new Store(config);\n        this._currentValue = '';\n        config.searchEnabled = (!isText && config.searchEnabled) || isSelectMultiple;\n        this._canSearch = config.searchEnabled;\n        this._isScrollingOnIe = false;\n        this._highlightPosition = 0;\n        this._wasTap = true;\n        this._placeholderValue = this._generatePlaceholderValue();\n        this._baseId = generateId(passedElement, 'choices-');\n        /**\n         * setting direction in cases where it's explicitly set on passedElement\n         * or when calculated direction is different from the document\n         */\n        this._direction = passedElement.dir;\n        if (!this._direction) {\n            var elementDirection = window.getComputedStyle(passedElement).direction;\n            var documentDirection = window.getComputedStyle(document.documentElement).direction;\n            if (elementDirection !== documentDirection) {\n                this._direction = elementDirection;\n            }\n        }\n        this._idNames = {\n            itemChoice: 'item-choice',\n        };\n        this._templates = defaults.templates;\n        this._render = this._render.bind(this);\n        this._onFocus = this._onFocus.bind(this);\n        this._onBlur = this._onBlur.bind(this);\n        this._onKeyUp = this._onKeyUp.bind(this);\n        this._onKeyDown = this._onKeyDown.bind(this);\n        this._onInput = this._onInput.bind(this);\n        this._onClick = this._onClick.bind(this);\n        this._onTouchMove = this._onTouchMove.bind(this);\n        this._onTouchEnd = this._onTouchEnd.bind(this);\n        this._onMouseDown = this._onMouseDown.bind(this);\n        this._onMouseOver = this._onMouseOver.bind(this);\n        this._onFormReset = this._onFormReset.bind(this);\n        this._onSelectKey = this._onSelectKey.bind(this);\n        this._onEnterKey = this._onEnterKey.bind(this);\n        this._onEscapeKey = this._onEscapeKey.bind(this);\n        this._onDirectionKey = this._onDirectionKey.bind(this);\n        this._onDeleteKey = this._onDeleteKey.bind(this);\n        // If element has already been initialised with Choices, fail silently\n        if (this.passedElement.isActive) {\n            if (!config.silent) {\n                console.warn('Trying to initialise Choices on element already initialised', { element: element });\n            }\n            this.initialised = true;\n            this.initialisedOK = false;\n            return;\n        }\n        // Let's go\n        this.init();\n        // preserve the selected item list after setup for form reset\n        this._initialItems = this._store.items.map(function (choice) { return choice.value; });\n    }\n    Object.defineProperty(Choices, \"defaults\", {\n        get: function () {\n            return Object.preventExtensions({\n                get options() {\n                    return USER_DEFAULTS;\n                },\n                get allOptions() {\n                    return DEFAULT_CONFIG;\n                },\n                get templates() {\n                    return templates;\n                },\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Choices.prototype.init = function () {\n        if (this.initialised || this.initialisedOK !== undefined) {\n            return;\n        }\n        this._searcher = getSearcher(this.config);\n        this._loadChoices();\n        this._createTemplates();\n        this._createElements();\n        this._createStructure();\n        if ((this._isTextElement && !this.config.addItems) ||\n            this.passedElement.element.hasAttribute('disabled') ||\n            !!this.passedElement.element.closest('fieldset:disabled')) {\n            this.disable();\n        }\n        else {\n            this.enable();\n            this._addEventListeners();\n        }\n        // should be triggered **after** disabled state to avoid additional re-draws\n        this._initStore();\n        this.initialised = true;\n        this.initialisedOK = true;\n        var callbackOnInit = this.config.callbackOnInit;\n        // Run callback if it is a function\n        if (typeof callbackOnInit === 'function') {\n            callbackOnInit.call(this);\n        }\n    };\n    Choices.prototype.destroy = function () {\n        if (!this.initialised) {\n            return;\n        }\n        this._removeEventListeners();\n        this.passedElement.reveal();\n        this.containerOuter.unwrap(this.passedElement.element);\n        this._store._listeners = []; // prevents select/input value being wiped\n        this.clearStore(false);\n        this._stopSearch();\n        this._templates = Choices.defaults.templates;\n        this.initialised = false;\n        this.initialisedOK = undefined;\n    };\n    Choices.prototype.enable = function () {\n        if (this.passedElement.isDisabled) {\n            this.passedElement.enable();\n        }\n        if (this.containerOuter.isDisabled) {\n            this._addEventListeners();\n            this.input.enable();\n            this.containerOuter.enable();\n        }\n        return this;\n    };\n    Choices.prototype.disable = function () {\n        if (!this.passedElement.isDisabled) {\n            this.passedElement.disable();\n        }\n        if (!this.containerOuter.isDisabled) {\n            this._removeEventListeners();\n            this.input.disable();\n            this.containerOuter.disable();\n        }\n        return this;\n    };\n    Choices.prototype.highlightItem = function (item, runEvent) {\n        if (runEvent === void 0) { runEvent = true; }\n        if (!item || !item.id) {\n            return this;\n        }\n        var choice = this._store.items.find(function (c) { return c.id === item.id; });\n        if (!choice || choice.highlighted) {\n            return this;\n        }\n        this._store.dispatch(highlightItem(choice, true));\n        if (runEvent) {\n            this.passedElement.triggerEvent(EventType.highlightItem, this._getChoiceForOutput(choice));\n        }\n        return this;\n    };\n    Choices.prototype.unhighlightItem = function (item, runEvent) {\n        if (runEvent === void 0) { runEvent = true; }\n        if (!item || !item.id) {\n            return this;\n        }\n        var choice = this._store.items.find(function (c) { return c.id === item.id; });\n        if (!choice || !choice.highlighted) {\n            return this;\n        }\n        this._store.dispatch(highlightItem(choice, false));\n        if (runEvent) {\n            this.passedElement.triggerEvent(EventType.unhighlightItem, this._getChoiceForOutput(choice));\n        }\n        return this;\n    };\n    Choices.prototype.highlightAll = function () {\n        var _this = this;\n        this._store.withTxn(function () {\n            _this._store.items.forEach(function (item) {\n                if (!item.highlighted) {\n                    _this._store.dispatch(highlightItem(item, true));\n                    _this.passedElement.triggerEvent(EventType.highlightItem, _this._getChoiceForOutput(item));\n                }\n            });\n        });\n        return this;\n    };\n    Choices.prototype.unhighlightAll = function () {\n        var _this = this;\n        this._store.withTxn(function () {\n            _this._store.items.forEach(function (item) {\n                if (item.highlighted) {\n                    _this._store.dispatch(highlightItem(item, false));\n                    _this.passedElement.triggerEvent(EventType.highlightItem, _this._getChoiceForOutput(item));\n                }\n            });\n        });\n        return this;\n    };\n    Choices.prototype.removeActiveItemsByValue = function (value) {\n        var _this = this;\n        this._store.withTxn(function () {\n            _this._store.items.filter(function (item) { return item.value === value; }).forEach(function (item) { return _this._removeItem(item); });\n        });\n        return this;\n    };\n    Choices.prototype.removeActiveItems = function (excludedId) {\n        var _this = this;\n        this._store.withTxn(function () {\n            _this._store.items.filter(function (_a) {\n                var id = _a.id;\n                return id !== excludedId;\n            }).forEach(function (item) { return _this._removeItem(item); });\n        });\n        return this;\n    };\n    Choices.prototype.removeHighlightedItems = function (runEvent) {\n        var _this = this;\n        if (runEvent === void 0) { runEvent = false; }\n        this._store.withTxn(function () {\n            _this._store.highlightedActiveItems.forEach(function (item) {\n                _this._removeItem(item);\n                // If this action was performed by the user\n                // trigger the event\n                if (runEvent) {\n                    _this._triggerChange(item.value);\n                }\n            });\n        });\n        return this;\n    };\n    Choices.prototype.showDropdown = function (preventInputFocus) {\n        var _this = this;\n        if (this.dropdown.isActive) {\n            return this;\n        }\n        requestAnimationFrame(function () {\n            _this.dropdown.show();\n            var rect = _this.dropdown.element.getBoundingClientRect();\n            _this.containerOuter.open(rect.bottom, rect.height);\n            if (!preventInputFocus && _this._canSearch) {\n                _this.input.focus();\n            }\n            _this.passedElement.triggerEvent(EventType.showDropdown);\n        });\n        return this;\n    };\n    Choices.prototype.hideDropdown = function (preventInputBlur) {\n        var _this = this;\n        if (!this.dropdown.isActive) {\n            return this;\n        }\n        requestAnimationFrame(function () {\n            _this.dropdown.hide();\n            _this.containerOuter.close();\n            if (!preventInputBlur && _this._canSearch) {\n                _this.input.removeActiveDescendant();\n                _this.input.blur();\n            }\n            _this.passedElement.triggerEvent(EventType.hideDropdown);\n        });\n        return this;\n    };\n    Choices.prototype.getValue = function (valueOnly) {\n        var _this = this;\n        var values = this._store.items.map(function (item) {\n            return (valueOnly ? item.value : _this._getChoiceForOutput(item));\n        });\n        return this._isSelectOneElement || this.config.singleModeForMultiSelect ? values[0] : values;\n    };\n    Choices.prototype.setValue = function (items) {\n        var _this = this;\n        if (!this.initialisedOK) {\n            this._warnChoicesInitFailed('setValue');\n            return this;\n        }\n        this._store.withTxn(function () {\n            items.forEach(function (value) {\n                if (value) {\n                    _this._addChoice(mapInputToChoice(value, false));\n                }\n            });\n        });\n        // @todo integrate with Store\n        this._searcher.reset();\n        return this;\n    };\n    Choices.prototype.setChoiceByValue = function (value) {\n        var _this = this;\n        if (!this.initialisedOK) {\n            this._warnChoicesInitFailed('setChoiceByValue');\n            return this;\n        }\n        if (this._isTextElement) {\n            return this;\n        }\n        this._store.withTxn(function () {\n            // If only one value has been passed, convert to array\n            var choiceValue = Array.isArray(value) ? value : [value];\n            // Loop through each value and\n            choiceValue.forEach(function (val) { return _this._findAndSelectChoiceByValue(val); });\n            _this.unhighlightAll();\n        });\n        // @todo integrate with Store\n        this._searcher.reset();\n        return this;\n    };\n    /**\n     * Set choices of select input via an array of objects (or function that returns array of object or promise of it),\n     * a value field name and a label field name.\n     * This behaves the same as passing items via the choices option but can be called after initialising Choices.\n     * This can also be used to add groups of choices (see example 2); Optionally pass a true `replaceChoices` value to remove any existing choices.\n     * Optionally pass a `customProperties` object to add additional data to your choices (useful when searching/filtering etc).\n     *\n     * **Input types affected:** select-one, select-multiple\n     *\n     * @example\n     * ```js\n     * const example = new Choices(element);\n     *\n     * example.setChoices([\n     *   {value: 'One', label: 'Label One', disabled: true},\n     *   {value: 'Two', label: 'Label Two', selected: true},\n     *   {value: 'Three', label: 'Label Three'},\n     * ], 'value', 'label', false);\n     * ```\n     *\n     * @example\n     * ```js\n     * const example = new Choices(element);\n     *\n     * example.setChoices(async () => {\n     *   try {\n     *      const items = await fetch('/items');\n     *      return items.json()\n     *   } catch(err) {\n     *      console.error(err)\n     *   }\n     * });\n     * ```\n     *\n     * @example\n     * ```js\n     * const example = new Choices(element);\n     *\n     * example.setChoices([{\n     *   label: 'Group one',\n     *   id: 1,\n     *   disabled: false,\n     *   choices: [\n     *     {value: 'Child One', label: 'Child One', selected: true},\n     *     {value: 'Child Two', label: 'Child Two',  disabled: true},\n     *     {value: 'Child Three', label: 'Child Three'},\n     *   ]\n     * },\n     * {\n     *   label: 'Group two',\n     *   id: 2,\n     *   disabled: false,\n     *   choices: [\n     *     {value: 'Child Four', label: 'Child Four', disabled: true},\n     *     {value: 'Child Five', label: 'Child Five'},\n     *     {value: 'Child Six', label: 'Child Six', customProperties: {\n     *       description: 'Custom description about child six',\n     *       random: 'Another random custom property'\n     *     }},\n     *   ]\n     * }], 'value', 'label', false);\n     * ```\n     */\n    Choices.prototype.setChoices = function (choicesArrayOrFetcher, value, label, replaceChoices, clearSearchFlag) {\n        var _this = this;\n        if (choicesArrayOrFetcher === void 0) { choicesArrayOrFetcher = []; }\n        if (value === void 0) { value = 'value'; }\n        if (label === void 0) { label = 'label'; }\n        if (replaceChoices === void 0) { replaceChoices = false; }\n        if (clearSearchFlag === void 0) { clearSearchFlag = true; }\n        if (!this.initialisedOK) {\n            this._warnChoicesInitFailed('setChoices');\n            return this;\n        }\n        if (!this._isSelectElement) {\n            throw new TypeError(\"setChoices can't be used with INPUT based Choices\");\n        }\n        if (typeof value !== 'string' || !value) {\n            throw new TypeError(\"value parameter must be a name of 'value' field in passed objects\");\n        }\n        // Clear choices if needed\n        if (replaceChoices) {\n            this.clearChoices();\n        }\n        if (typeof choicesArrayOrFetcher === 'function') {\n            // it's a choices fetcher function\n            var fetcher_1 = choicesArrayOrFetcher(this);\n            if (typeof Promise === 'function' && fetcher_1 instanceof Promise) {\n                // that's a promise\n                // eslint-disable-next-line no-promise-executor-return\n                return new Promise(function (resolve) { return requestAnimationFrame(resolve); })\n                    .then(function () { return _this._handleLoadingState(true); })\n                    .then(function () { return fetcher_1; })\n                    .then(function (data) { return _this.setChoices(data, value, label, replaceChoices); })\n                    .catch(function (err) {\n                    if (!_this.config.silent) {\n                        console.error(err);\n                    }\n                })\n                    .then(function () { return _this._handleLoadingState(false); })\n                    .then(function () { return _this; });\n            }\n            // function returned something else than promise, let's check if it's an array of choices\n            if (!Array.isArray(fetcher_1)) {\n                throw new TypeError(\".setChoices first argument function must return either array of choices or Promise, got: \".concat(typeof fetcher_1));\n            }\n            // recursion with results, it's sync and choices were cleared already\n            return this.setChoices(fetcher_1, value, label, false);\n        }\n        if (!Array.isArray(choicesArrayOrFetcher)) {\n            throw new TypeError(\".setChoices must be called either with array of choices with a function resulting into Promise of array of choices\");\n        }\n        this.containerOuter.removeLoadingState();\n        this._store.withTxn(function () {\n            if (clearSearchFlag) {\n                _this._isSearching = false;\n            }\n            var isDefaultValue = value === 'value';\n            var isDefaultLabel = label === 'label';\n            choicesArrayOrFetcher.forEach(function (groupOrChoice) {\n                if ('choices' in groupOrChoice) {\n                    var group = groupOrChoice;\n                    if (!isDefaultLabel) {\n                        group = __assign(__assign({}, group), { label: group[label] });\n                    }\n                    _this._addGroup(mapInputToChoice(group, true));\n                }\n                else {\n                    var choice = groupOrChoice;\n                    if (!isDefaultLabel || !isDefaultValue) {\n                        choice = __assign(__assign({}, choice), { value: choice[value], label: choice[label] });\n                    }\n                    _this._addChoice(mapInputToChoice(choice, false));\n                }\n            });\n            _this.unhighlightAll();\n        });\n        // @todo integrate with Store\n        this._searcher.reset();\n        return this;\n    };\n    Choices.prototype.refresh = function (withEvents, selectFirstOption, deselectAll) {\n        var _this = this;\n        if (withEvents === void 0) { withEvents = false; }\n        if (selectFirstOption === void 0) { selectFirstOption = false; }\n        if (deselectAll === void 0) { deselectAll = false; }\n        if (!this._isSelectElement) {\n            if (!this.config.silent) {\n                console.warn('refresh method can only be used on choices backed by a <select> element');\n            }\n            return this;\n        }\n        this._store.withTxn(function () {\n            var choicesFromOptions = _this.passedElement.optionsAsChoices();\n            // Build the list of items which require preserving\n            var existingItems = {};\n            if (!deselectAll) {\n                _this._store.items.forEach(function (choice) {\n                    if (choice.id && choice.active && choice.selected && !choice.disabled) {\n                        existingItems[choice.value] = true;\n                    }\n                });\n            }\n            _this.clearStore(false);\n            var updateChoice = function (choice) {\n                if (deselectAll) {\n                    _this._store.dispatch(removeItem$1(choice));\n                }\n                else if (existingItems[choice.value]) {\n                    choice.selected = true;\n                }\n            };\n            choicesFromOptions.forEach(function (groupOrChoice) {\n                if ('choices' in groupOrChoice) {\n                    groupOrChoice.choices.forEach(updateChoice);\n                    return;\n                }\n                updateChoice(groupOrChoice);\n            });\n            /* @todo only generate add events for the added options instead of all\n            if (withEvents) {\n              items.forEach((choice) => {\n                if (existingItems[choice.value]) {\n                  this.passedElement.triggerEvent(\n                    EventType.removeItem,\n                    this._getChoiceForEvent(choice),\n                  );\n                }\n              });\n            }\n            */\n            // load new choices & items\n            _this._addPredefinedChoices(choicesFromOptions, selectFirstOption, withEvents);\n            // re-do search if required\n            if (_this._isSearching) {\n                _this._searchChoices(_this.input.value);\n            }\n        });\n        return this;\n    };\n    Choices.prototype.removeChoice = function (value) {\n        var choice = this._store.choices.find(function (c) { return c.value === value; });\n        if (!choice) {\n            return this;\n        }\n        this._clearNotice();\n        this._store.dispatch(removeChoice(choice));\n        // @todo integrate with Store\n        this._searcher.reset();\n        if (choice.selected) {\n            this.passedElement.triggerEvent(EventType.removeItem, this._getChoiceForOutput(choice));\n        }\n        return this;\n    };\n    Choices.prototype.clearChoices = function () {\n        var _this = this;\n        this._store.withTxn(function () {\n            _this._store.choices.forEach(function (choice) {\n                if (!choice.selected) {\n                    _this._store.dispatch(removeChoice(choice));\n                }\n            });\n        });\n        // @todo integrate with Store\n        this._searcher.reset();\n        return this;\n    };\n    Choices.prototype.clearStore = function (clearOptions) {\n        if (clearOptions === void 0) { clearOptions = true; }\n        this._stopSearch();\n        if (clearOptions) {\n            this.passedElement.element.replaceChildren('');\n        }\n        this.itemList.element.replaceChildren('');\n        this.choiceList.element.replaceChildren('');\n        this._store.reset();\n        this._lastAddedChoiceId = 0;\n        this._lastAddedGroupId = 0;\n        // @todo integrate with Store\n        this._searcher.reset();\n        return this;\n    };\n    Choices.prototype.clearInput = function () {\n        var shouldSetInputWidth = !this._isSelectOneElement;\n        this.input.clear(shouldSetInputWidth);\n        this._stopSearch();\n        return this;\n    };\n    Choices.prototype._validateConfig = function () {\n        var config = this.config;\n        var invalidConfigOptions = diff(config, DEFAULT_CONFIG);\n        if (invalidConfigOptions.length) {\n            console.warn('Unknown config option(s) passed', invalidConfigOptions.join(', '));\n        }\n        if (config.allowHTML && config.allowHtmlUserInput) {\n            if (config.addItems) {\n                console.warn('Warning: allowHTML/allowHtmlUserInput/addItems all being true is strongly not recommended and may lead to XSS attacks');\n            }\n            if (config.addChoices) {\n                console.warn('Warning: allowHTML/allowHtmlUserInput/addChoices all being true is strongly not recommended and may lead to XSS attacks');\n            }\n        }\n    };\n    Choices.prototype._render = function (changes) {\n        if (changes === void 0) { changes = { choices: true, groups: true, items: true }; }\n        if (this._store.inTxn()) {\n            return;\n        }\n        if (this._isSelectElement) {\n            if (changes.choices || changes.groups) {\n                this._renderChoices();\n            }\n        }\n        if (changes.items) {\n            this._renderItems();\n        }\n    };\n    Choices.prototype._renderChoices = function () {\n        var _this = this;\n        if (!this._canAddItems()) {\n            return; // block rendering choices if the input limit is reached.\n        }\n        var _a = this, config = _a.config, isSearching = _a._isSearching;\n        var _b = this._store, activeGroups = _b.activeGroups, activeChoices = _b.activeChoices;\n        var renderLimit = 0;\n        if (isSearching && config.searchResultLimit > 0) {\n            renderLimit = config.searchResultLimit;\n        }\n        else if (config.renderChoiceLimit > 0) {\n            renderLimit = config.renderChoiceLimit;\n        }\n        if (this._isSelectElement) {\n            var backingOptions = activeChoices.filter(function (choice) { return !choice.element; });\n            if (backingOptions.length) {\n                this.passedElement.addOptions(backingOptions);\n            }\n        }\n        var fragment = document.createDocumentFragment();\n        var renderableChoices = function (choices) {\n            return choices.filter(function (choice) {\n                return !choice.placeholder && (isSearching ? !!choice.rank : config.renderSelectedChoices || !choice.selected);\n            });\n        };\n        var selectableChoices = false;\n        var renderChoices = function (choices, withinGroup, groupLabel) {\n            if (isSearching) {\n                // sortByRank is used to ensure stable sorting, as scores are non-unique\n                // this additionally ensures fuseOptions.sortFn is not ignored\n                choices.sort(sortByRank);\n            }\n            else if (config.shouldSort) {\n                choices.sort(config.sorter);\n            }\n            var choiceLimit = choices.length;\n            choiceLimit = !withinGroup && renderLimit && choiceLimit > renderLimit ? renderLimit : choiceLimit;\n            choiceLimit--;\n            choices.every(function (choice, index) {\n                // choiceEl being empty signals the contents has probably significantly changed\n                var dropdownItem = choice.choiceEl || _this._templates.choice(config, choice, config.itemSelectText, groupLabel);\n                choice.choiceEl = dropdownItem;\n                fragment.appendChild(dropdownItem);\n                if (!choice.disabled && (isSearching || !choice.selected)) {\n                    selectableChoices = true;\n                }\n                return index < choiceLimit;\n            });\n        };\n        if (activeChoices.length) {\n            if (config.resetScrollPosition) {\n                requestAnimationFrame(function () { return _this.choiceList.scrollToTop(); });\n            }\n            if (!this._hasNonChoicePlaceholder && !isSearching && this._isSelectOneElement) {\n                // If we have a placeholder choice along with groups\n                renderChoices(activeChoices.filter(function (choice) { return choice.placeholder && !choice.group; }), false, undefined);\n            }\n            // If we have grouped options\n            if (activeGroups.length && !isSearching) {\n                if (config.shouldSort) {\n                    activeGroups.sort(config.sorter);\n                }\n                // render Choices without group first, regardless of sort, otherwise they won't be distinguishable\n                // from the last group\n                renderChoices(activeChoices.filter(function (choice) { return !choice.placeholder && !choice.group; }), false, undefined);\n                activeGroups.forEach(function (group) {\n                    var groupChoices = renderableChoices(group.choices);\n                    if (groupChoices.length) {\n                        if (group.label) {\n                            var dropdownGroup = group.groupEl || _this._templates.choiceGroup(_this.config, group);\n                            group.groupEl = dropdownGroup;\n                            dropdownGroup.remove();\n                            fragment.appendChild(dropdownGroup);\n                        }\n                        renderChoices(groupChoices, true, config.appendGroupInSearch && isSearching ? group.label : undefined);\n                    }\n                });\n            }\n            else {\n                renderChoices(renderableChoices(activeChoices), false, undefined);\n            }\n        }\n        if (!selectableChoices) {\n            if (!this._notice) {\n                this._notice = {\n                    text: resolveStringFunction(isSearching ? config.noResultsText : config.noChoicesText),\n                    type: isSearching ? NoticeTypes.noResults : NoticeTypes.noChoices,\n                };\n            }\n            fragment.replaceChildren('');\n        }\n        this._renderNotice(fragment);\n        this.choiceList.element.replaceChildren(fragment);\n        if (selectableChoices) {\n            this._highlightChoice();\n        }\n    };\n    Choices.prototype._renderItems = function () {\n        var _this = this;\n        var items = this._store.items || [];\n        var itemList = this.itemList.element;\n        var config = this.config;\n        var fragment = document.createDocumentFragment();\n        var itemFromList = function (item) {\n            return itemList.querySelector(\"[data-item][data-id=\\\"\".concat(item.id, \"\\\"]\"));\n        };\n        var addItemToFragment = function (item) {\n            var el = item.itemEl;\n            if (el && el.parentElement) {\n                return;\n            }\n            el = itemFromList(item) || _this._templates.item(config, item, config.removeItemButton);\n            item.itemEl = el;\n            fragment.appendChild(el);\n        };\n        // new items\n        items.forEach(addItemToFragment);\n        var addItems = !!fragment.childNodes.length;\n        if (this._isSelectOneElement && this._hasNonChoicePlaceholder) {\n            var existingItems = itemList.children.length;\n            if (addItems || existingItems > 1) {\n                var placeholder = itemList.querySelector(getClassNamesSelector(config.classNames.placeholder));\n                if (placeholder) {\n                    placeholder.remove();\n                }\n            }\n            else if (!existingItems) {\n                addItems = true;\n                addItemToFragment(mapInputToChoice({\n                    selected: true,\n                    value: '',\n                    label: config.placeholderValue || '',\n                    placeholder: true,\n                }, false));\n            }\n        }\n        if (addItems) {\n            itemList.append(fragment);\n            if (config.shouldSortItems && !this._isSelectOneElement) {\n                items.sort(config.sorter);\n                // push sorting into the DOM\n                items.forEach(function (item) {\n                    var el = itemFromList(item);\n                    if (el) {\n                        el.remove();\n                        fragment.append(el);\n                    }\n                });\n                itemList.append(fragment);\n            }\n        }\n        if (this._isTextElement) {\n            // Update the value of the hidden input\n            this.passedElement.value = items.map(function (_a) {\n                var value = _a.value;\n                return value;\n            }).join(config.delimiter);\n        }\n    };\n    Choices.prototype._displayNotice = function (text, type, openDropdown) {\n        if (openDropdown === void 0) { openDropdown = true; }\n        var oldNotice = this._notice;\n        if (oldNotice &&\n            ((oldNotice.type === type && oldNotice.text === text) ||\n                (oldNotice.type === NoticeTypes.addChoice &&\n                    (type === NoticeTypes.noResults || type === NoticeTypes.noChoices)))) {\n            if (openDropdown) {\n                this.showDropdown(true);\n            }\n            return;\n        }\n        this._clearNotice();\n        this._notice = text\n            ? {\n                text: text,\n                type: type,\n            }\n            : undefined;\n        this._renderNotice();\n        if (openDropdown && text) {\n            this.showDropdown(true);\n        }\n    };\n    Choices.prototype._clearNotice = function () {\n        if (!this._notice) {\n            return;\n        }\n        var noticeElement = this.choiceList.element.querySelector(getClassNamesSelector(this.config.classNames.notice));\n        if (noticeElement) {\n            noticeElement.remove();\n        }\n        this._notice = undefined;\n    };\n    Choices.prototype._renderNotice = function (fragment) {\n        var noticeConf = this._notice;\n        if (noticeConf) {\n            var notice = this._templates.notice(this.config, noticeConf.text, noticeConf.type);\n            if (fragment) {\n                fragment.append(notice);\n            }\n            else {\n                this.choiceList.prepend(notice);\n            }\n        }\n    };\n    // eslint-disable-next-line class-methods-use-this\n    Choices.prototype._getChoiceForOutput = function (choice, keyCode) {\n        return {\n            id: choice.id,\n            highlighted: choice.highlighted,\n            labelClass: choice.labelClass,\n            labelDescription: choice.labelDescription,\n            customProperties: choice.customProperties,\n            disabled: choice.disabled,\n            active: choice.active,\n            label: choice.label,\n            placeholder: choice.placeholder,\n            value: choice.value,\n            groupValue: choice.group ? choice.group.label : undefined,\n            element: choice.element,\n            keyCode: keyCode,\n        };\n    };\n    Choices.prototype._triggerChange = function (value) {\n        if (value === undefined || value === null) {\n            return;\n        }\n        this.passedElement.triggerEvent(EventType.change, {\n            value: value,\n        });\n    };\n    Choices.prototype._handleButtonAction = function (element) {\n        var _this = this;\n        var items = this._store.items;\n        if (!items.length || !this.config.removeItems || !this.config.removeItemButton) {\n            return;\n        }\n        var id = element && parseDataSetId(element.parentElement);\n        var itemToRemove = id && items.find(function (item) { return item.id === id; });\n        if (!itemToRemove) {\n            return;\n        }\n        this._store.withTxn(function () {\n            // Remove item associated with button\n            _this._removeItem(itemToRemove);\n            _this._triggerChange(itemToRemove.value);\n            if (_this._isSelectOneElement && !_this._hasNonChoicePlaceholder) {\n                var placeholderChoice = _this._store.choices\n                    .reverse()\n                    .find(function (choice) { return !choice.disabled && choice.placeholder; });\n                if (placeholderChoice) {\n                    _this._addItem(placeholderChoice);\n                    _this.unhighlightAll();\n                    if (placeholderChoice.value) {\n                        _this._triggerChange(placeholderChoice.value);\n                    }\n                }\n            }\n        });\n    };\n    Choices.prototype._handleItemAction = function (element, hasShiftKey) {\n        var _this = this;\n        if (hasShiftKey === void 0) { hasShiftKey = false; }\n        var items = this._store.items;\n        if (!items.length || !this.config.removeItems || this._isSelectOneElement) {\n            return;\n        }\n        var id = parseDataSetId(element);\n        if (!id) {\n            return;\n        }\n        // We only want to select one item with a click\n        // so we deselect any items that aren't the target\n        // unless shift is being pressed\n        items.forEach(function (item) {\n            if (item.id === id && !item.highlighted) {\n                _this.highlightItem(item);\n            }\n            else if (!hasShiftKey && item.highlighted) {\n                _this.unhighlightItem(item);\n            }\n        });\n        // Focus input as without focus, a user cannot do anything with a\n        // highlighted item\n        this.input.focus();\n    };\n    Choices.prototype._handleChoiceAction = function (element) {\n        var _this = this;\n        // If we are clicking on an option\n        var id = parseDataSetId(element);\n        var choice = id && this._store.getChoiceById(id);\n        if (!choice || choice.disabled) {\n            return false;\n        }\n        var hasActiveDropdown = this.dropdown.isActive;\n        if (!choice.selected) {\n            if (!this._canAddItems()) {\n                return true; // causes _onEnterKey to early out\n            }\n            this._store.withTxn(function () {\n                _this._addItem(choice, true, true);\n                _this.clearInput();\n                _this.unhighlightAll();\n            });\n            this._triggerChange(choice.value);\n        }\n        // We want to close the dropdown if we are dealing with a single select box\n        if (hasActiveDropdown && this.config.closeDropdownOnSelect) {\n            this.hideDropdown(true);\n            this.containerOuter.element.focus();\n        }\n        return true;\n    };\n    Choices.prototype._handleBackspace = function (items) {\n        var config = this.config;\n        if (!config.removeItems || !items.length) {\n            return;\n        }\n        var lastItem = items[items.length - 1];\n        var hasHighlightedItems = items.some(function (item) { return item.highlighted; });\n        // If editing the last item is allowed and there are not other selected items,\n        // we can edit the item value. Otherwise if we can remove items, remove all selected items\n        if (config.editItems && !hasHighlightedItems && lastItem) {\n            this.input.value = lastItem.value;\n            this.input.setWidth();\n            this._removeItem(lastItem);\n            this._triggerChange(lastItem.value);\n        }\n        else {\n            if (!hasHighlightedItems) {\n                // Highlight last item if none already highlighted\n                this.highlightItem(lastItem, false);\n            }\n            this.removeHighlightedItems(true);\n        }\n    };\n    Choices.prototype._loadChoices = function () {\n        var _a;\n        var config = this.config;\n        if (this._isTextElement) {\n            // Assign preset items from passed object first\n            this._presetChoices = config.items.map(function (e) { return mapInputToChoice(e, false); });\n            // Add any values passed from attribute\n            if (this.passedElement.value) {\n                var elementItems = this.passedElement.value\n                    .split(config.delimiter)\n                    .map(function (e) { return mapInputToChoice(e, false); });\n                this._presetChoices = this._presetChoices.concat(elementItems);\n            }\n            this._presetChoices.forEach(function (choice) {\n                choice.selected = true;\n            });\n        }\n        else if (this._isSelectElement) {\n            // Assign preset choices from passed object\n            this._presetChoices = config.choices.map(function (e) { return mapInputToChoice(e, true); });\n            // Create array of choices from option elements\n            var choicesFromOptions = this.passedElement.optionsAsChoices();\n            if (choicesFromOptions) {\n                (_a = this._presetChoices).push.apply(_a, choicesFromOptions);\n            }\n        }\n    };\n    Choices.prototype._handleLoadingState = function (setLoading) {\n        if (setLoading === void 0) { setLoading = true; }\n        var el = this.itemList.element;\n        if (setLoading) {\n            this.disable();\n            this.containerOuter.addLoadingState();\n            if (this._isSelectOneElement) {\n                el.replaceChildren(this._templates.placeholder(this.config, this.config.loadingText));\n            }\n            else {\n                this.input.placeholder = this.config.loadingText;\n            }\n        }\n        else {\n            this.enable();\n            this.containerOuter.removeLoadingState();\n            if (this._isSelectOneElement) {\n                el.replaceChildren('');\n                this._render();\n            }\n            else {\n                this.input.placeholder = this._placeholderValue || '';\n            }\n        }\n    };\n    Choices.prototype._handleSearch = function (value) {\n        if (!this.input.isFocussed) {\n            return;\n        }\n        // Check that we have a value to search and the input was an alphanumeric character\n        if (value !== null && typeof value !== 'undefined' && value.length >= this.config.searchFloor) {\n            var resultCount = this.config.searchChoices ? this._searchChoices(value) : 0;\n            if (resultCount !== null) {\n                // Trigger search event\n                this.passedElement.triggerEvent(EventType.search, {\n                    value: value,\n                    resultCount: resultCount,\n                });\n            }\n        }\n        else if (this._store.choices.some(function (option) { return !option.active; })) {\n            this._stopSearch();\n        }\n    };\n    Choices.prototype._canAddItems = function () {\n        var config = this.config;\n        var maxItemCount = config.maxItemCount, maxItemText = config.maxItemText;\n        if (!config.singleModeForMultiSelect && maxItemCount > 0 && maxItemCount <= this._store.items.length) {\n            this.choiceList.element.replaceChildren('');\n            this._displayNotice(typeof maxItemText === 'function' ? maxItemText(maxItemCount) : maxItemText, NoticeTypes.addChoice);\n            return false;\n        }\n        return true;\n    };\n    Choices.prototype._canCreateItem = function (value) {\n        var config = this.config;\n        var canAddItem = true;\n        var notice = '';\n        if (canAddItem && typeof config.addItemFilter === 'function' && !config.addItemFilter(value)) {\n            canAddItem = false;\n            notice = resolveNoticeFunction(config.customAddItemText, value);\n        }\n        if (canAddItem) {\n            var foundChoice = this._store.choices.find(function (choice) { return config.valueComparer(choice.value, value); });\n            if (this._isSelectElement) {\n                // for exact matches, do not prompt to add it as a custom choice\n                if (foundChoice) {\n                    this._displayNotice('', NoticeTypes.addChoice);\n                    return false;\n                }\n            }\n            else if (this._isTextElement && !config.duplicateItemsAllowed) {\n                if (foundChoice) {\n                    canAddItem = false;\n                    notice = resolveNoticeFunction(config.uniqueItemText, value);\n                }\n            }\n        }\n        if (canAddItem) {\n            notice = resolveNoticeFunction(config.addItemText, value);\n        }\n        if (notice) {\n            this._displayNotice(notice, NoticeTypes.addChoice);\n        }\n        return canAddItem;\n    };\n    Choices.prototype._searchChoices = function (value) {\n        var newValue = value.trim().replace(/\\s{2,}/, ' ');\n        // signal input didn't change search\n        if (!newValue.length || newValue === this._currentValue) {\n            return null;\n        }\n        var searcher = this._searcher;\n        if (searcher.isEmptyIndex()) {\n            searcher.index(this._store.searchableChoices);\n        }\n        // If new value matches the desired length and is not the same as the current value with a space\n        var results = searcher.search(newValue);\n        this._currentValue = newValue;\n        this._highlightPosition = 0;\n        this._isSearching = true;\n        var notice = this._notice;\n        var noticeType = notice && notice.type;\n        if (noticeType !== NoticeTypes.addChoice) {\n            if (!results.length) {\n                this._displayNotice(resolveStringFunction(this.config.noResultsText), NoticeTypes.noResults);\n            }\n            else {\n                this._clearNotice();\n            }\n        }\n        this._store.dispatch(filterChoices(results));\n        return results.length;\n    };\n    Choices.prototype._stopSearch = function () {\n        if (this._isSearching) {\n            this._currentValue = '';\n            this._isSearching = false;\n            this._clearNotice();\n            this._store.dispatch(activateChoices(true));\n            this.passedElement.triggerEvent(EventType.search, {\n                value: '',\n                resultCount: 0,\n            });\n        }\n    };\n    Choices.prototype._addEventListeners = function () {\n        var documentElement = this._docRoot;\n        var outerElement = this.containerOuter.element;\n        var inputElement = this.input.element;\n        // capture events - can cancel event processing or propagation\n        documentElement.addEventListener('touchend', this._onTouchEnd, true);\n        outerElement.addEventListener('keydown', this._onKeyDown, true);\n        outerElement.addEventListener('mousedown', this._onMouseDown, true);\n        // passive events - doesn't call `preventDefault` or `stopPropagation`\n        documentElement.addEventListener('click', this._onClick, { passive: true });\n        documentElement.addEventListener('touchmove', this._onTouchMove, {\n            passive: true,\n        });\n        this.dropdown.element.addEventListener('mouseover', this._onMouseOver, {\n            passive: true,\n        });\n        if (this._isSelectOneElement) {\n            outerElement.addEventListener('focus', this._onFocus, {\n                passive: true,\n            });\n            outerElement.addEventListener('blur', this._onBlur, {\n                passive: true,\n            });\n        }\n        inputElement.addEventListener('keyup', this._onKeyUp, {\n            passive: true,\n        });\n        inputElement.addEventListener('input', this._onInput, {\n            passive: true,\n        });\n        inputElement.addEventListener('focus', this._onFocus, {\n            passive: true,\n        });\n        inputElement.addEventListener('blur', this._onBlur, {\n            passive: true,\n        });\n        if (inputElement.form) {\n            inputElement.form.addEventListener('reset', this._onFormReset, {\n                passive: true,\n            });\n        }\n        this.input.addEventListeners();\n    };\n    Choices.prototype._removeEventListeners = function () {\n        var documentElement = this._docRoot;\n        var outerElement = this.containerOuter.element;\n        var inputElement = this.input.element;\n        documentElement.removeEventListener('touchend', this._onTouchEnd, true);\n        outerElement.removeEventListener('keydown', this._onKeyDown, true);\n        outerElement.removeEventListener('mousedown', this._onMouseDown, true);\n        documentElement.removeEventListener('click', this._onClick);\n        documentElement.removeEventListener('touchmove', this._onTouchMove);\n        this.dropdown.element.removeEventListener('mouseover', this._onMouseOver);\n        if (this._isSelectOneElement) {\n            outerElement.removeEventListener('focus', this._onFocus);\n            outerElement.removeEventListener('blur', this._onBlur);\n        }\n        inputElement.removeEventListener('keyup', this._onKeyUp);\n        inputElement.removeEventListener('input', this._onInput);\n        inputElement.removeEventListener('focus', this._onFocus);\n        inputElement.removeEventListener('blur', this._onBlur);\n        if (inputElement.form) {\n            inputElement.form.removeEventListener('reset', this._onFormReset);\n        }\n        this.input.removeEventListeners();\n    };\n    Choices.prototype._onKeyDown = function (event) {\n        var keyCode = event.keyCode;\n        var hasActiveDropdown = this.dropdown.isActive;\n        /*\n        See:\n        https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key\n        https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_key_values\n        https://en.wikipedia.org/wiki/UTF-16#Code_points_from_U+010000_to_U+10FFFF - UTF-16 surrogate pairs\n        https://stackoverflow.com/a/70866532 - \"Unidentified\" for mobile\n        http://www.unicode.org/versions/Unicode5.2.0/ch16.pdf#G19635 - U+FFFF is reserved (Section 16.7)\n    \n        Logic: when a key event is sent, `event.key` represents its printable value _or_ one\n        of a large list of special values indicating meta keys/functionality. In addition,\n        key events for compose functionality contain a value of `Dead` when mid-composition.\n    \n        I can't quite verify it, but non-English IMEs may also be able to generate key codes\n        for code points in the surrogate-pair range, which could potentially be seen as having\n        key.length > 1. Since `Fn` is one of the special keys, we can't distinguish by that\n        alone.\n    \n        Here, key.length === 1 means we know for sure the input was printable and not a special\n        `key` value. When the length is greater than 1, it could be either a printable surrogate\n        pair or a special `key` value. We can tell the difference by checking if the _character\n        code_ value (not code point!) is in the \"surrogate pair\" range or not.\n    \n        We don't use .codePointAt because an invalid code point would return 65535, which wouldn't\n        pass the >= 0x10000 check we would otherwise use.\n    \n        > ...The Unicode Standard sets aside 66 noncharacter code points. The last two code points\n        > of each plane are noncharacters: U+FFFE and U+FFFF on the BMP...\n        */\n        var wasPrintableChar = event.key.length === 1 ||\n            (event.key.length === 2 && event.key.charCodeAt(0) >= 0xd800) ||\n            event.key === 'Unidentified';\n        if (!this._isTextElement && !hasActiveDropdown) {\n            this.showDropdown();\n            if (!this.input.isFocussed && wasPrintableChar) {\n                /*\n                  We update the input value with the pressed key as\n                  the input was not focussed at the time of key press\n                  therefore does not have the value of the key.\n                */\n                this.input.value += event.key;\n                // browsers interpret a space as pagedown\n                if (event.key === ' ') {\n                    event.preventDefault();\n                }\n            }\n        }\n        switch (keyCode) {\n            case 65 /* KeyCodeMap.A_KEY */:\n                return this._onSelectKey(event, this.itemList.element.hasChildNodes());\n            case 13 /* KeyCodeMap.ENTER_KEY */:\n                return this._onEnterKey(event, hasActiveDropdown);\n            case 27 /* KeyCodeMap.ESC_KEY */:\n                return this._onEscapeKey(event, hasActiveDropdown);\n            case 38 /* KeyCodeMap.UP_KEY */:\n            case 33 /* KeyCodeMap.PAGE_UP_KEY */:\n            case 40 /* KeyCodeMap.DOWN_KEY */:\n            case 34 /* KeyCodeMap.PAGE_DOWN_KEY */:\n                return this._onDirectionKey(event, hasActiveDropdown);\n            case 8 /* KeyCodeMap.DELETE_KEY */:\n            case 46 /* KeyCodeMap.BACK_KEY */:\n                return this._onDeleteKey(event, this._store.items, this.input.isFocussed);\n        }\n    };\n    Choices.prototype._onKeyUp = function ( /* event: KeyboardEvent */) {\n        this._canSearch = this.config.searchEnabled;\n    };\n    Choices.prototype._onInput = function ( /* event: InputEvent */) {\n        var value = this.input.value;\n        if (!value) {\n            if (this._isTextElement) {\n                this.hideDropdown(true);\n            }\n            else {\n                this._stopSearch();\n            }\n            return;\n        }\n        if (!this._canAddItems()) {\n            return;\n        }\n        if (this._canSearch) {\n            // do the search even if the entered text can not be added\n            this._handleSearch(value);\n        }\n        if (!this._canAddUserChoices) {\n            return;\n        }\n        // determine if a notice needs to be displayed for why a search result can't be added\n        this._canCreateItem(value);\n        if (this._isSelectElement) {\n            this._highlightPosition = 0; // reset to select the notice and/or exact match\n            this._highlightChoice();\n        }\n    };\n    Choices.prototype._onSelectKey = function (event, hasItems) {\n        // If CTRL + A or CMD + A have been pressed and there are items to select\n        if ((event.ctrlKey || event.metaKey) && hasItems) {\n            this._canSearch = false;\n            var shouldHightlightAll = this.config.removeItems && !this.input.value && this.input.element === document.activeElement;\n            if (shouldHightlightAll) {\n                this.highlightAll();\n            }\n        }\n    };\n    Choices.prototype._onEnterKey = function (event, hasActiveDropdown) {\n        var _this = this;\n        var value = this.input.value;\n        var target = event.target;\n        event.preventDefault();\n        if (target && target.hasAttribute('data-button')) {\n            this._handleButtonAction(target);\n            return;\n        }\n        if (!hasActiveDropdown) {\n            if (this._isSelectElement || this._notice) {\n                this.showDropdown();\n            }\n            return;\n        }\n        var highlightedChoice = this.dropdown.element.querySelector(getClassNamesSelector(this.config.classNames.highlightedState));\n        if (highlightedChoice && this._handleChoiceAction(highlightedChoice)) {\n            return;\n        }\n        if (!target || !value) {\n            this.hideDropdown(true);\n            return;\n        }\n        if (!this._canAddItems()) {\n            return;\n        }\n        var addedItem = false;\n        this._store.withTxn(function () {\n            addedItem = _this._findAndSelectChoiceByValue(value, true);\n            if (!addedItem) {\n                if (!_this._canAddUserChoices) {\n                    return;\n                }\n                if (!_this._canCreateItem(value)) {\n                    return;\n                }\n                var sanitisedValue = sanitise(value);\n                var userValue = _this.config.allowHtmlUserInput || sanitisedValue === value ? value : { escaped: sanitisedValue, raw: value };\n                _this._addChoice(mapInputToChoice({\n                    value: userValue,\n                    label: userValue,\n                    selected: true,\n                }, false), true, true);\n                addedItem = true;\n            }\n            _this.clearInput();\n            _this.unhighlightAll();\n        });\n        if (!addedItem) {\n            return;\n        }\n        this._triggerChange(value);\n        if (this.config.closeDropdownOnSelect) {\n            this.hideDropdown(true);\n        }\n    };\n    Choices.prototype._onEscapeKey = function (event, hasActiveDropdown) {\n        if (hasActiveDropdown) {\n            event.stopPropagation();\n            this.hideDropdown(true);\n            this.containerOuter.element.focus();\n        }\n    };\n    Choices.prototype._onDirectionKey = function (event, hasActiveDropdown) {\n        var keyCode = event.keyCode;\n        // If up or down key is pressed, traverse through options\n        if (hasActiveDropdown || this._isSelectOneElement) {\n            this.showDropdown();\n            this._canSearch = false;\n            var directionInt = keyCode === 40 /* KeyCodeMap.DOWN_KEY */ || keyCode === 34 /* KeyCodeMap.PAGE_DOWN_KEY */ ? 1 : -1;\n            var skipKey = event.metaKey || keyCode === 34 /* KeyCodeMap.PAGE_DOWN_KEY */ || keyCode === 33 /* KeyCodeMap.PAGE_UP_KEY */;\n            var nextEl = void 0;\n            if (skipKey) {\n                if (directionInt > 0) {\n                    nextEl = this.dropdown.element.querySelector(\"\".concat(selectableChoiceIdentifier, \":last-of-type\"));\n                }\n                else {\n                    nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n                }\n            }\n            else {\n                var currentEl = this.dropdown.element.querySelector(getClassNamesSelector(this.config.classNames.highlightedState));\n                if (currentEl) {\n                    nextEl = getAdjacentEl(currentEl, selectableChoiceIdentifier, directionInt);\n                }\n                else {\n                    nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n                }\n            }\n            if (nextEl) {\n                // We prevent default to stop the cursor moving\n                // when pressing the arrow\n                if (!isScrolledIntoView(nextEl, this.choiceList.element, directionInt)) {\n                    this.choiceList.scrollToChildElement(nextEl, directionInt);\n                }\n                this._highlightChoice(nextEl);\n            }\n            // Prevent default to maintain cursor position whilst\n            // traversing dropdown options\n            event.preventDefault();\n        }\n    };\n    Choices.prototype._onDeleteKey = function (event, items, hasFocusedInput) {\n        // If backspace or delete key is pressed and the input has no value\n        if (!this._isSelectOneElement && !event.target.value && hasFocusedInput) {\n            this._handleBackspace(items);\n            event.preventDefault();\n        }\n    };\n    Choices.prototype._onTouchMove = function () {\n        if (this._wasTap) {\n            this._wasTap = false;\n        }\n    };\n    Choices.prototype._onTouchEnd = function (event) {\n        var target = (event || event.touches[0]).target;\n        var touchWasWithinContainer = this._wasTap && this.containerOuter.element.contains(target);\n        if (touchWasWithinContainer) {\n            var containerWasExactTarget = target === this.containerOuter.element || target === this.containerInner.element;\n            if (containerWasExactTarget) {\n                if (this._isTextElement) {\n                    this.input.focus();\n                }\n                else if (this._isSelectMultipleElement) {\n                    this.showDropdown();\n                }\n            }\n            // Prevents focus event firing\n            event.stopPropagation();\n        }\n        this._wasTap = true;\n    };\n    /**\n     * Handles mousedown event in capture mode for containetOuter.element\n     */\n    Choices.prototype._onMouseDown = function (event) {\n        var target = event.target;\n        if (!(target instanceof HTMLElement)) {\n            return;\n        }\n        // If we have our mouse down on the scrollbar and are on IE11...\n        if (IS_IE11 && this.choiceList.element.contains(target)) {\n            // check if click was on a scrollbar area\n            var firstChoice = this.choiceList.element.firstElementChild;\n            this._isScrollingOnIe =\n                this._direction === 'ltr' ? event.offsetX >= firstChoice.offsetWidth : event.offsetX < firstChoice.offsetLeft;\n        }\n        if (target === this.input.element) {\n            return;\n        }\n        var item = target.closest('[data-button],[data-item],[data-choice]');\n        if (item instanceof HTMLElement) {\n            if ('button' in item.dataset) {\n                this._handleButtonAction(item);\n            }\n            else if ('item' in item.dataset) {\n                this._handleItemAction(item, event.shiftKey);\n            }\n            else if ('choice' in item.dataset) {\n                this._handleChoiceAction(item);\n            }\n        }\n        event.preventDefault();\n    };\n    /**\n     * Handles mouseover event over this.dropdown\n     * @param {MouseEvent} event\n     */\n    Choices.prototype._onMouseOver = function (_a) {\n        var target = _a.target;\n        if (target instanceof HTMLElement && 'choice' in target.dataset) {\n            this._highlightChoice(target);\n        }\n    };\n    Choices.prototype._onClick = function (_a) {\n        var target = _a.target;\n        var containerOuter = this.containerOuter;\n        var clickWasWithinContainer = containerOuter.element.contains(target);\n        if (clickWasWithinContainer) {\n            if (!this.dropdown.isActive && !containerOuter.isDisabled) {\n                if (this._isTextElement) {\n                    if (document.activeElement !== this.input.element) {\n                        this.input.focus();\n                    }\n                }\n                else {\n                    this.showDropdown();\n                    containerOuter.element.focus();\n                }\n            }\n            else if (this._isSelectOneElement &&\n                target !== this.input.element &&\n                !this.dropdown.element.contains(target)) {\n                this.hideDropdown();\n            }\n        }\n        else {\n            containerOuter.removeFocusState();\n            this.hideDropdown(true);\n            this.unhighlightAll();\n        }\n    };\n    Choices.prototype._onFocus = function (_a) {\n        var target = _a.target;\n        var containerOuter = this.containerOuter;\n        var focusWasWithinContainer = target && containerOuter.element.contains(target);\n        if (!focusWasWithinContainer) {\n            return;\n        }\n        var targetIsInput = target === this.input.element;\n        if (this._isTextElement) {\n            if (targetIsInput) {\n                containerOuter.addFocusState();\n            }\n        }\n        else if (this._isSelectMultipleElement) {\n            if (targetIsInput) {\n                this.showDropdown(true);\n                // If element is a select box, the focused element is the container and the dropdown\n                // isn't already open, focus and show dropdown\n                containerOuter.addFocusState();\n            }\n        }\n        else {\n            containerOuter.addFocusState();\n            if (targetIsInput) {\n                this.showDropdown(true);\n            }\n        }\n    };\n    Choices.prototype._onBlur = function (_a) {\n        var target = _a.target;\n        var containerOuter = this.containerOuter;\n        var blurWasWithinContainer = target && containerOuter.element.contains(target);\n        if (blurWasWithinContainer && !this._isScrollingOnIe) {\n            var targetIsInput = target === this.input.element;\n            if (this._isTextElement || this._isSelectMultipleElement) {\n                if (targetIsInput) {\n                    containerOuter.removeFocusState();\n                    this.hideDropdown(true);\n                    this.unhighlightAll();\n                }\n            }\n            else {\n                containerOuter.removeFocusState();\n                if (targetIsInput || (target === containerOuter.element && !this._canSearch)) {\n                    this.hideDropdown(true);\n                }\n            }\n        }\n        else {\n            // On IE11, clicking the scollbar blurs our input and thus\n            // closes the dropdown. To stop this, we refocus our input\n            // if we know we are on IE *and* are scrolling.\n            this._isScrollingOnIe = false;\n            this.input.element.focus();\n        }\n    };\n    Choices.prototype._onFormReset = function () {\n        var _this = this;\n        this._store.withTxn(function () {\n            _this.clearInput();\n            _this.hideDropdown();\n            _this.refresh(false, false, true);\n            if (_this._initialItems.length) {\n                _this.setChoiceByValue(_this._initialItems);\n            }\n        });\n    };\n    Choices.prototype._highlightChoice = function (el) {\n        if (el === void 0) { el = null; }\n        var choices = Array.from(this.dropdown.element.querySelectorAll(selectableChoiceIdentifier));\n        if (!choices.length) {\n            return;\n        }\n        var passedEl = el;\n        var highlightedState = this.config.classNames.highlightedState;\n        var highlightedChoices = Array.from(this.dropdown.element.querySelectorAll(getClassNamesSelector(highlightedState)));\n        // Remove any highlighted choices\n        highlightedChoices.forEach(function (choice) {\n            removeClassesFromElement(choice, highlightedState);\n            choice.setAttribute('aria-selected', 'false');\n        });\n        if (passedEl) {\n            this._highlightPosition = choices.indexOf(passedEl);\n        }\n        else {\n            // Highlight choice based on last known highlight location\n            if (choices.length > this._highlightPosition) {\n                // If we have an option to highlight\n                passedEl = choices[this._highlightPosition];\n            }\n            else {\n                // Otherwise highlight the option before\n                passedEl = choices[choices.length - 1];\n            }\n            if (!passedEl) {\n                passedEl = choices[0];\n            }\n        }\n        addClassesToElement(passedEl, highlightedState);\n        passedEl.setAttribute('aria-selected', 'true');\n        this.passedElement.triggerEvent(EventType.highlightChoice, {\n            el: passedEl,\n        });\n        if (this.dropdown.isActive) {\n            // IE11 ignores aria-label and blocks virtual keyboard\n            // if aria-activedescendant is set without a dropdown\n            this.input.setActiveDescendant(passedEl.id);\n            this.containerOuter.setActiveDescendant(passedEl.id);\n        }\n    };\n    Choices.prototype._addItem = function (item, withEvents, userTriggered) {\n        if (withEvents === void 0) { withEvents = true; }\n        if (userTriggered === void 0) { userTriggered = false; }\n        if (!item.id) {\n            throw new TypeError('item.id must be set before _addItem is called for a choice/item');\n        }\n        if (this.config.singleModeForMultiSelect || this._isSelectOneElement) {\n            this.removeActiveItems(item.id);\n        }\n        this._store.dispatch(addItem(item));\n        if (withEvents) {\n            this.passedElement.triggerEvent(EventType.addItem, this._getChoiceForOutput(item));\n            if (userTriggered) {\n                this.passedElement.triggerEvent(EventType.choice, this._getChoiceForOutput(item));\n            }\n        }\n    };\n    Choices.prototype._removeItem = function (item) {\n        if (!item.id) {\n            return;\n        }\n        this._store.dispatch(removeItem$1(item));\n        this.passedElement.triggerEvent(EventType.removeItem, this._getChoiceForOutput(item));\n    };\n    Choices.prototype._addChoice = function (choice, withEvents, userTriggered) {\n        if (withEvents === void 0) { withEvents = true; }\n        if (userTriggered === void 0) { userTriggered = false; }\n        if (choice.id) {\n            throw new TypeError('Can not re-add a choice which has already been added');\n        }\n        var config = this.config;\n        if ((this._isSelectElement || !config.duplicateItemsAllowed) &&\n            this._store.choices.find(function (c) { return config.valueComparer(c.value, choice.value); })) {\n            return;\n        }\n        // Generate unique id, in-place update is required so chaining _addItem works as expected\n        this._lastAddedChoiceId++;\n        choice.id = this._lastAddedChoiceId;\n        choice.elementId = \"\".concat(this._baseId, \"-\").concat(this._idNames.itemChoice, \"-\").concat(choice.id);\n        var prependValue = config.prependValue, appendValue = config.appendValue;\n        if (prependValue) {\n            choice.value = prependValue + choice.value;\n        }\n        if (appendValue) {\n            choice.value += appendValue.toString();\n        }\n        if ((prependValue || appendValue) && choice.element) {\n            choice.element.value = choice.value;\n        }\n        this._clearNotice();\n        this._store.dispatch(addChoice(choice));\n        if (choice.selected) {\n            this._addItem(choice, withEvents, userTriggered);\n        }\n    };\n    Choices.prototype._addGroup = function (group, withEvents) {\n        var _this = this;\n        if (withEvents === void 0) { withEvents = true; }\n        if (group.id) {\n            throw new TypeError('Can not re-add a group which has already been added');\n        }\n        this._store.dispatch(addGroup(group));\n        if (!group.choices) {\n            return;\n        }\n        // add unique id for the group(s), and do not store the full list of choices in this group\n        this._lastAddedGroupId++;\n        group.id = this._lastAddedGroupId;\n        group.choices.forEach(function (item) {\n            item.group = group;\n            if (group.disabled) {\n                item.disabled = true;\n            }\n            _this._addChoice(item, withEvents);\n        });\n    };\n    Choices.prototype._createTemplates = function () {\n        var _this = this;\n        var callbackOnCreateTemplates = this.config.callbackOnCreateTemplates;\n        var userTemplates = {};\n        if (typeof callbackOnCreateTemplates === 'function') {\n            userTemplates = callbackOnCreateTemplates.call(this, strToEl, escapeForTemplate, getClassNames);\n        }\n        var templating = {};\n        Object.keys(this._templates).forEach(function (name) {\n            if (name in userTemplates) {\n                templating[name] = userTemplates[name].bind(_this);\n            }\n            else {\n                templating[name] = _this._templates[name].bind(_this);\n            }\n        });\n        this._templates = templating;\n    };\n    Choices.prototype._createElements = function () {\n        var templating = this._templates;\n        var _a = this, config = _a.config, isSelectOneElement = _a._isSelectOneElement;\n        var position = config.position, classNames = config.classNames;\n        var elementType = this._elementType;\n        this.containerOuter = new Container({\n            element: templating.containerOuter(config, this._direction, this._isSelectElement, isSelectOneElement, config.searchEnabled, elementType, config.labelId),\n            classNames: classNames,\n            type: elementType,\n            position: position,\n        });\n        this.containerInner = new Container({\n            element: templating.containerInner(config),\n            classNames: classNames,\n            type: elementType,\n            position: position,\n        });\n        this.input = new Input({\n            element: templating.input(config, this._placeholderValue),\n            classNames: classNames,\n            type: elementType,\n            preventPaste: !config.paste,\n        });\n        this.choiceList = new List({\n            element: templating.choiceList(config, isSelectOneElement),\n        });\n        this.itemList = new List({\n            element: templating.itemList(config, isSelectOneElement),\n        });\n        this.dropdown = new Dropdown({\n            element: templating.dropdown(config),\n            classNames: classNames,\n            type: elementType,\n        });\n    };\n    Choices.prototype._createStructure = function () {\n        var _a = this, containerInner = _a.containerInner, containerOuter = _a.containerOuter, passedElement = _a.passedElement;\n        var dropdownElement = this.dropdown.element;\n        // Hide original element\n        passedElement.conceal();\n        // Wrap input in container preserving DOM ordering\n        containerInner.wrap(passedElement.element);\n        // Wrapper inner container with outer container\n        containerOuter.wrap(containerInner.element);\n        if (this._isSelectOneElement) {\n            this.input.placeholder = this.config.searchPlaceholderValue || '';\n        }\n        else {\n            if (this._placeholderValue) {\n                this.input.placeholder = this._placeholderValue;\n            }\n            this.input.setWidth();\n        }\n        containerOuter.element.appendChild(containerInner.element);\n        containerOuter.element.appendChild(dropdownElement);\n        containerInner.element.appendChild(this.itemList.element);\n        dropdownElement.appendChild(this.choiceList.element);\n        if (!this._isSelectOneElement) {\n            containerInner.element.appendChild(this.input.element);\n        }\n        else if (this.config.searchEnabled) {\n            dropdownElement.insertBefore(this.input.element, dropdownElement.firstChild);\n        }\n        this._highlightPosition = 0;\n        this._isSearching = false;\n    };\n    Choices.prototype._initStore = function () {\n        var _this = this;\n        this._store.subscribe(this._render).withTxn(function () {\n            _this._addPredefinedChoices(_this._presetChoices, _this._isSelectOneElement && !_this._hasNonChoicePlaceholder, false);\n        });\n        if (!this._store.choices.length || (this._isSelectOneElement && this._hasNonChoicePlaceholder)) {\n            this._render();\n        }\n    };\n    Choices.prototype._addPredefinedChoices = function (choices, selectFirstOption, withEvents) {\n        var _this = this;\n        if (selectFirstOption === void 0) { selectFirstOption = false; }\n        if (withEvents === void 0) { withEvents = true; }\n        if (selectFirstOption) {\n            /**\n             * If there is a selected choice already or the choice is not the first in\n             * the array, add each choice normally.\n             *\n             * Otherwise we pre-select the first enabled choice in the array (\"select-one\" only)\n             */\n            var noSelectedChoices = choices.findIndex(function (choice) { return choice.selected; }) === -1;\n            if (noSelectedChoices) {\n                choices.some(function (choice) {\n                    if (choice.disabled || 'choices' in choice) {\n                        return false;\n                    }\n                    choice.selected = true;\n                    return true;\n                });\n            }\n        }\n        choices.forEach(function (item) {\n            if ('choices' in item) {\n                if (_this._isSelectElement) {\n                    _this._addGroup(item, withEvents);\n                }\n            }\n            else {\n                _this._addChoice(item, withEvents);\n            }\n        });\n    };\n    Choices.prototype._findAndSelectChoiceByValue = function (value, userTriggered) {\n        var _this = this;\n        if (userTriggered === void 0) { userTriggered = false; }\n        // Check 'value' property exists and the choice isn't already selected\n        var foundChoice = this._store.choices.find(function (choice) { return _this.config.valueComparer(choice.value, value); });\n        if (foundChoice && !foundChoice.disabled && !foundChoice.selected) {\n            this._addItem(foundChoice, true, userTriggered);\n            return true;\n        }\n        return false;\n    };\n    Choices.prototype._generatePlaceholderValue = function () {\n        var config = this.config;\n        if (!config.placeholder) {\n            return null;\n        }\n        if (this._hasNonChoicePlaceholder) {\n            return config.placeholderValue;\n        }\n        if (this._isSelectElement) {\n            var placeholderOption = this.passedElement.placeholderOption;\n            return placeholderOption ? placeholderOption.text : null;\n        }\n        return null;\n    };\n    Choices.prototype._warnChoicesInitFailed = function (caller) {\n        if (this.config.silent) {\n            return;\n        }\n        if (!this.initialised) {\n            throw new TypeError(\"\".concat(caller, \" called on a non-initialised instance of Choices\"));\n        }\n        else if (!this.initialisedOK) {\n            throw new TypeError(\"\".concat(caller, \" called for an element which has multiple instances of Choices initialised on it\"));\n        }\n    };\n    Choices.version = '11.0.2';\n    return Choices;\n}());\n\nexport { Choices as default };\n","/**\n * API Choice Module\n * Handles country selection functionality using the REST Countries API\n * @module apiChoice\n */\n\nimport Choices from 'choices.js'\n\n/**\n * Fetches country data from the REST Countries API\n * @async\n * @returns {Promise<Array>} Array of country objects, or empty array if fetch fails\n */\nasync function fetchCountries() {\n  const API_URL = 'https://restcountries.com/v3.1/all'\n\n  try {\n    const response = await fetch(API_URL)\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`)\n    }\n    const data = await response.json()\n    return data\n  } catch (error) {\n    console.error('Error fetching countries:', error)\n    return []\n  }\n}\n\n/**\n * Populates the country select dropdown with data from the REST Countries API\n * @async\n * @exports populateCountrySelect\n */\nexport const populateCountrySelect = async () => {\n  const countrySelect = document.querySelector('#i-country')\n  if (!countrySelect) {\n    console.warn('Country select element not found')\n    return\n  }\n\n  try {\n    // Initialize Choices.js dropdown with configuration\n    const choices = new Choices(countrySelect, {\n      searchEnabled: true,\n      searchPlaceholderValue: 'Search for a country',\n      placeholder: true,\n      placeholderValue: 'Select a country',\n      removeItemButton: true,\n      silent: true,\n    })\n\n    // Fetch and format country data\n    const countries = await fetchCountries()\n    const formattedChoices = formatCountryChoices(countries)\n\n    // Update the dropdown with formatted choices\n    choices.setChoices(formattedChoices, 'value', 'label', true)\n  } catch (error) {\n    console.error('Error initializing country select:', error)\n  }\n}\n\n/**\n * Formats country data for the Choices.js dropdown\n * @param {Array} countries - Array of country objects from the API\n * @returns {Array} Formatted array of choice objects\n */\nfunction formatCountryChoices(countries) {\n  return countries\n    .sort((a, b) => a.name.common.localeCompare(b.name.common))\n    .map((country) => ({\n      value: country.cca2,\n      label: country.name.common,\n    }))\n}\n","// Import dependencies using ESM syntax\nimport {\n  initializeDatePickers,\n  initializeVehicleSelection,\n  initializeExtras,\n  initializeCurrencyToggle,\n  calculateTotals,\n  populateCountrySelect,\n} from './modules/index.js'\n\nconst initializeBookingForm = async () => {\n  try {\n    const form = document.querySelector('#booking_form')\n    if (!form) throw new Error('Booking form not found')\n\n    form.classList.add('loading')\n\n    await populateCountrySelect()\n\n    await Promise.all([\n      initializeDatePickers(),\n      initializeVehicleSelection(),\n      initializeExtras(),\n      initializeCurrencyToggle(),\n    ])\n\n    handleFormSubmission()\n    calculateTotals()\n    form.classList.remove('loading')\n  } catch (error) {\n    console.error('Error initializing booking form:', error)\n    showError(\n      'There was an error loading the booking form. Please refresh the page.'\n    )\n  }\n}\n\nconst handleFormSubmission = () => {\n  const form = document.querySelector('#wf-form-Booking-form')\n  if (!form) return\n\n  form.addEventListener('submit', async (e) => {\n    e.preventDefault()\n\n    try {\n      form.classList.add('submitting')\n\n      if (!validateForm(form)) {\n        throw new Error('Please fill in all required fields')\n      }\n\n      const formData = new FormData(form)\n      await submitForm(formData)\n      showSuccess('Booking submitted successfully!')\n    } catch (error) {\n      console.error('Form submission error:', error)\n      showError(error.message)\n    } finally {\n      form.classList.remove('submitting')\n    }\n  })\n}\n\nconst submitForm = async (formData) => {\n  console.log('Form data:', Object.fromEntries(formData))\n}\n\nconst validateForm = (form) => {\n  const requiredFields = form.querySelectorAll('[required]')\n  return Array.from(requiredFields).every((field) => field.value.trim() !== '')\n}\n\nconst showError = (message) => {\n  const errorAlert = document.querySelector('.error-alert-bg')\n  if (errorAlert) {\n    errorAlert.querySelector('.error-alert-text').textContent = message\n    errorAlert.classList.remove('is-hidden')\n    setTimeout(() => errorAlert.classList.add('is-hidden'), 5000)\n  }\n}\n\nconst showSuccess = (message) => {\n  const successAlert = document.querySelector('.success-alert-bg')\n  if (successAlert) {\n    successAlert.querySelector('.success-alert-text').textContent = message\n    successAlert.classList.remove('is-hidden')\n    setTimeout(() => successAlert.classList.add('is-hidden'), 5000)\n  }\n}\n\ninitializeBookingForm()\n"],"names":["__assign","this","defaultOptions","English"],"mappings":"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"}