var pa=Object.defineProperty,ma=Object.defineProperties;var ga=Object.getOwnPropertyDescriptors;var Mn=Object.getOwnPropertySymbols;var va=Object.prototype.hasOwnProperty,ya=Object.prototype.propertyIsEnumerable;var xn=(te,q,H)=>q in te?pa(te,q,{enumerable:!0,configurable:!0,writable:!0,value:H}):te[q]=H,xt=(te,q)=>{for(var H in q||(q={}))va.call(q,H)&&xn(te,H,q[H]);if(Mn)for(var H of Mn(q))ya.call(q,H)&&xn(te,H,q[H]);return te},An=(te,q)=>ma(te,ga(q));var fe=(te,q,H)=>new Promise((ge,B)=>{var $=N=>{try{ve(H.next(N))}catch(T){B(T)}},Re=N=>{try{ve(H.throw(N))}catch(T){B(T)}},ve=N=>N.done?ge(N.value):Promise.resolve(N.value).then($,Re);ve((H=H.apply(te,q)).next())});(function(){"use strict";const te=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}};var q=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],H={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console!="undefined"&&console.warn(n)},getWeek:function(n){var t=new Date(n.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var e=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},ge={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var t=n%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},B=function(n,t){return t===void 0&&(t=2),("000"+n).slice(t*-1)},$=function(n){return n===!0?1:0};function Re(n,t){var e;return function(){var i=this,r=arguments;clearTimeout(e),e=setTimeout(function(){return n.apply(i,r)},t)}}var ve=function(n){return n instanceof Array?n:[n]};function N(n,t,e){if(e===!0)return n.classList.add(t);n.classList.remove(t)}function T(n,t,e){var i=window.document.createElement(n);return t=t||"",e=e||"",i.className=t,e!==void 0&&(i.textContent=e),i}function je(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function At(n,t){if(t(n))return n;if(n.parentNode)return At(n.parentNode,t)}function Ye(n,t){var e=T("div","numInputWrapper"),i=T("input","numInput "+n),r=T("span","arrowUp"),a=T("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?i.type="number":(i.type="text",i.pattern="\\d*"),t!==void 0)for(var s in t)i.setAttribute(s,t[s]);return e.appendChild(i),e.appendChild(r),e.appendChild(a),e}function J(n){try{if(typeof n.composedPath=="function"){var t=n.composedPath();return t[0]}return n.target}catch(e){return n.target}}var nt=function(){},qe=function(n,t,e){return e.months[t?"shorthand":"longhand"][n]},Tn={D:nt,F:function(n,t,e){n.setMonth(e.months.longhand.indexOf(t))},G:function(n,t){n.setHours((n.getHours()>=12?12:0)+parseFloat(t))},H:function(n,t){n.setHours(parseFloat(t))},J:function(n,t){n.setDate(parseFloat(t))},K:function(n,t,e){n.setHours(n.getHours()%12+12*$(new RegExp(e.amPM[1],"i").test(t)))},M:function(n,t,e){n.setMonth(e.months.shorthand.indexOf(t))},S:function(n,t){n.setSeconds(parseFloat(t))},U:function(n,t){return new Date(parseFloat(t)*1e3)},W:function(n,t,e){var i=parseInt(t),r=new Date(n.getFullYear(),0,2+(i-1)*7,0,0,0,0);return r.setDate(r.getDate()-r.getDay()+e.firstDayOfWeek),r},Y:function(n,t){n.setFullYear(parseFloat(t))},Z:function(n,t){return new Date(t)},d:function(n,t){n.setDate(parseFloat(t))},h:function(n,t){n.setHours((n.getHours()>=12?12:0)+parseFloat(t))},i:function(n,t){n.setMinutes(parseFloat(t))},j:function(n,t){n.setDate(parseFloat(t))},l:nt,m:function(n,t){n.setMonth(parseFloat(t)-1)},n:function(n,t){n.setMonth(parseFloat(t)-1)},s:function(n,t){n.setSeconds(parseFloat(t))},u:function(n,t){return new Date(parseFloat(t))},w:nt,y:function(n,t){n.setFullYear(2e3+parseFloat(t))}},ye={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Ae={Z:function(n){return n.toISOString()},D:function(n,t,e){return t.weekdays.shorthand[Ae.w(n,t,e)]},F:function(n,t,e){return qe(Ae.n(n,t,e)-1,!1,t)},G:function(n,t,e){return B(Ae.h(n,t,e))},H:function(n){return B(n.getHours())},J:function(n,t){return t.ordinal!==void 0?n.getDate()+t.ordinal(n.getDate()):n.getDate()},K:function(n,t){return t.amPM[$(n.getHours()>11)]},M:function(n,t){return qe(n.getMonth(),!0,t)},S:function(n){return B(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,t,e){return e.getWeek(n)},Y:function(n){return B(n.getFullYear(),4)},d:function(n){return B(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return B(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,t){return t.weekdays.longhand[n.getDay()]},m:function(n){return B(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},Tt=function(n){var t=n.config,e=t===void 0?H:t,i=n.l10n,r=i===void 0?ge:i,a=n.isMobile,s=a===void 0?!1:a;return function(c,d,p){var h=p||r;return e.formatDate!==void 0&&!s?e.formatDate(c,d,h):d.split("").map(function(m,y,w){return Ae[m]&&w[y-1]!=="\\"?Ae[m](c,h,e):m!=="\\"?m:""}).join("")}},it=function(n){var t=n.config,e=t===void 0?H:t,i=n.l10n,r=i===void 0?ge:i;return function(a,s,c,d){if(!(a!==0&&!a)){var p=d||r,h,m=a;if(a instanceof Date)h=new Date(a.getTime());else if(typeof a!="string"&&a.toFixed!==void 0)h=new Date(a);else if(typeof a=="string"){var y=s||(e||H).dateFormat,w=String(a).trim();if(w==="today")h=new Date,c=!0;else if(e&&e.parseDate)h=e.parseDate(a,y);else if(/Z$/.test(w)||/GMT$/.test(w))h=new Date(a);else{for(var _=void 0,v=[],O=0,A=0,F="";O<y.length;O++){var R=y[O],z=R==="\\",Ne=y[O-1]==="\\"||z;if(ye[R]&&!Ne){F+=ye[R];var ie=new RegExp(F).exec(a);ie&&(_=!0)&&v[R!=="Y"?"push":"unshift"]({fn:Tn[R],val:ie[++A]})}else z||(F+=".")}h=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),v.forEach(function(Y){var W=Y.fn,ne=Y.val;return h=W(h,ne,p)||h}),h=_?h:void 0}}if(!(h instanceof Date&&!isNaN(h.getTime()))){e.errorHandler(new Error("Invalid date provided: "+m));return}return c===!0&&h.setHours(0,0,0,0),h}}};function X(n,t,e){return e===void 0&&(e=!0),e!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):n.getTime()-t.getTime()}var On=function(n,t,e){return n>Math.min(t,e)&&n<Math.max(t,e)},rt=function(n,t,e){return n*3600+t*60+e},kn=function(n){var t=Math.floor(n/3600),e=(n-t*3600)/60;return[t,e,n-t*3600-e*60]},Fn={DAY:864e5};function at(n){var t=n.defaultHour,e=n.defaultMinute,i=n.defaultSeconds;if(n.minDate!==void 0){var r=n.minDate.getHours(),a=n.minDate.getMinutes(),s=n.minDate.getSeconds();t<r&&(t=r),t===r&&e<a&&(e=a),t===r&&e===a&&i<s&&(i=n.minDate.getSeconds())}if(n.maxDate!==void 0){var c=n.maxDate.getHours(),d=n.maxDate.getMinutes();t=Math.min(t,c),t===c&&(e=Math.min(d,e)),t===c&&e===d&&(i=n.maxDate.getSeconds())}return{hours:t,minutes:e,seconds:i}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var i=function(c){c&&Object.keys(c).forEach(function(d){return n[d]=c[d]})},r=0,a=t;r<a.length;r++){var s=a[r];i(s)}return n});var K=globalThis&&globalThis.__assign||function(){return K=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},K.apply(this,arguments)},Ot=globalThis&&globalThis.__spreadArrays||function(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var i=Array(n),r=0,t=0;t<e;t++)for(var a=arguments[t],s=0,c=a.length;s<c;s++,r++)i[r]=a[s];return i},Nn=300;function Ln(n,t){var e={config:K(K({},H),L.defaultConfig),l10n:ge};e.parseDate=it({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=v,e._setHoursFromDate=y,e._positionCalendar=Ze,e.changeMonth=Ct,e.changeYear=Je,e.clear=qr,e.close=Br,e.onMouseOver=Qe,e._createElement=T,e.createDay=ie,e.destroy=Kr,e.isEnabled=De,e.jumpToDate=F,e.updateValue=de,e.open=$r,e.redraw=En,e.set=Jr,e.setDate=Xr,e.toggle=ta;function i(){e.utils={getDaysInMonth:function(o,l){return o===void 0&&(o=e.currentMonth),l===void 0&&(l=e.currentYear),o===1&&(l%4==0&&l%100!=0||l%400==0)?29:e.l10n.daysInMonth[o]}}}function r(){e.element=e.input=n,e.isOpen=!1,Ur(),Cn(),Zr(),Qr(),i(),e.isMobile||Ne(),A(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&y(e.config.noCalendar?e.latestSelectedDateObj:void 0),de(!1)),c();var o=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&o&&Ze(),P("onReady")}function a(){var o;return((o=e.calendarContainer)===null||o===void 0?void 0:o.getRootNode()).activeElement||document.activeElement}function s(o){return o.bind(e)}function c(){var o=e.config;o.weekNumbers===!1&&o.showMonths===1||o.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var l=(e.days.offsetWidth+1)*o.showMonths;e.daysContainer.style.width=l+"px",e.calendarContainer.style.width=l+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function d(o){if(e.selectedDates.length===0){var l=e.config.minDate===void 0||X(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),u=at(e.config);l.setHours(u.hours,u.minutes,u.seconds,l.getMilliseconds()),e.selectedDates=[l],e.latestSelectedDateObj=l}o!==void 0&&o.type!=="blur"&&ra(o);var f=e._input.value;m(),de(),e._input.value!==f&&e._debouncedChange()}function p(o,l){return o%12+12*$(l===e.l10n.amPM[1])}function h(o){switch(o%24){case 0:case 12:return 12;default:return o%12}}function m(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var o=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,l=(parseInt(e.minuteElement.value,10)||0)%60,u=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(o=p(o,e.amPM.textContent));var f=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&X(e.latestSelectedDateObj,e.config.minDate,!0)===0,g=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&X(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var b=rt(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),M=rt(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),E=rt(o,l,u);if(E>M&&E<b){var x=kn(b);o=x[0],l=x[1],u=x[2]}}else{if(g){var C=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;o=Math.min(o,C.getHours()),o===C.getHours()&&(l=Math.min(l,C.getMinutes())),l===C.getMinutes()&&(u=Math.min(u,C.getSeconds()))}if(f){var D=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;o=Math.max(o,D.getHours()),o===D.getHours()&&l<D.getMinutes()&&(l=D.getMinutes()),l===D.getMinutes()&&(u=Math.max(u,D.getSeconds()))}}w(o,l,u)}}function y(o){var l=o||e.latestSelectedDateObj;l&&l instanceof Date&&w(l.getHours(),l.getMinutes(),l.getSeconds())}function w(o,l,u){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(o%24,l,u||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=B(e.config.time_24hr?o:(12+o)%12+12*$(o%12==0)),e.minuteElement.value=B(l),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[$(o>=12)]),e.secondElement!==void 0&&(e.secondElement.value=B(u)))}function _(o){var l=J(o),u=parseInt(l.value)+(o.delta||0);(u/1e3>1||o.key==="Enter"&&!/[^\d]/.test(u.toString()))&&Je(u)}function v(o,l,u,f){if(l instanceof Array)return l.forEach(function(g){return v(o,g,u,f)});if(o instanceof Array)return o.forEach(function(g){return v(g,l,u,f)});o.addEventListener(l,u,f),e._handlers.push({remove:function(){return o.removeEventListener(l,u,f)}})}function O(){P("onChange")}function A(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(u){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+u+"]"),function(f){return v(f,"click",e[u])})}),e.isMobile){ea();return}var o=Re(Wr,50);if(e._debouncedChange=Re(O,Nn),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&v(e.daysContainer,"mouseover",function(u){e.config.mode==="range"&&Qe(J(u))}),v(e._input,"keydown",yn),e.calendarContainer!==void 0&&v(e.calendarContainer,"keydown",yn),!e.config.inline&&!e.config.static&&v(window,"resize",o),window.ontouchstart!==void 0?v(window.document,"touchstart",Et):v(window.document,"mousedown",Et),v(window.document,"focus",Et,{capture:!0}),e.config.clickOpens===!0&&(v(e._input,"focus",e.open),v(e._input,"click",e.open)),e.daysContainer!==void 0&&(v(e.monthNav,"click",ia),v(e.monthNav,["keyup","increment"],_),v(e.daysContainer,"click",wn)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var l=function(u){return J(u).select()};v(e.timeContainer,["increment"],d),v(e.timeContainer,"blur",d,{capture:!0}),v(e.timeContainer,"click",R),v([e.hourElement,e.minuteElement],["focus","click"],l),e.secondElement!==void 0&&v(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&v(e.amPM,"click",function(u){d(u)})}e.config.allowInput&&v(e._input,"blur",Vr)}function F(o,l){var u=o!==void 0?e.parseDate(o):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),f=e.currentYear,g=e.currentMonth;try{u!==void 0&&(e.currentYear=u.getFullYear(),e.currentMonth=u.getMonth())}catch(b){b.message="Invalid date supplied: "+u,e.config.errorHandler(b)}l&&e.currentYear!==f&&(P("onYearChange"),Ee()),l&&(e.currentYear!==f||e.currentMonth!==g)&&P("onMonthChange"),e.redraw()}function R(o){var l=J(o);~l.className.indexOf("arrow")&&z(o,l.classList.contains("arrowUp")?1:-1)}function z(o,l,u){var f=o&&J(o),g=u||f&&f.parentNode&&f.parentNode.firstChild,b=Dt("increment");b.delta=l,g&&g.dispatchEvent(b)}function Ne(){var o=window.document.createDocumentFragment();if(e.calendarContainer=T("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(o.appendChild(ze()),e.innerContainer=T("div","flatpickr-innerContainer"),e.config.weekNumbers){var l=Yr(),u=l.weekWrapper,f=l.weekNumbers;e.innerContainer.appendChild(u),e.weekNumbers=f,e.weekWrapper=u}e.rContainer=T("div","flatpickr-rContainer"),e.rContainer.appendChild(gn()),e.daysContainer||(e.daysContainer=T("div","flatpickr-days"),e.daysContainer.tabIndex=-1),re(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),o.appendChild(e.innerContainer)}e.config.enableTime&&o.appendChild(jr()),N(e.calendarContainer,"rangeMode",e.config.mode==="range"),N(e.calendarContainer,"animate",e.config.animate===!0),N(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(o);var g=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!g&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var b=T("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(b,e.element),b.appendChild(e.element),e.altInput&&b.appendChild(e.altInput),b.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function ie(o,l,u,f){var g=De(l,!0),b=T("span",o,l.getDate().toString());return b.dateObj=l,b.$i=f,b.setAttribute("aria-label",e.formatDate(l,e.config.ariaDateFormat)),o.indexOf("hidden")===-1&&X(l,e.now)===0&&(e.todayDateElem=b,b.classList.add("today"),b.setAttribute("aria-current","date")),g?(b.tabIndex=-1,St(l)&&(b.classList.add("selected"),e.selectedDateElem=b,e.config.mode==="range"&&(N(b,"startRange",e.selectedDates[0]&&X(l,e.selectedDates[0],!0)===0),N(b,"endRange",e.selectedDates[1]&&X(l,e.selectedDates[1],!0)===0),o==="nextMonthDay"&&b.classList.add("inRange")))):b.classList.add("flatpickr-disabled"),e.config.mode==="range"&&na(l)&&!St(l)&&b.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&o!=="prevMonthDay"&&f%7==6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(l)+"</span>"),P("onDayCreate",b),b}function Y(o){o.focus(),e.config.mode==="range"&&Qe(o)}function W(o){for(var l=o>0?0:e.config.showMonths-1,u=o>0?e.config.showMonths:-1,f=l;f!=u;f+=o)for(var g=e.daysContainer.children[f],b=o>0?0:g.children.length-1,M=o>0?g.children.length:-1,E=b;E!=M;E+=o){var x=g.children[E];if(x.className.indexOf("hidden")===-1&&De(x.dateObj))return x}}function ne(o,l){for(var u=o.className.indexOf("Month")===-1?o.dateObj.getMonth():e.currentMonth,f=l>0?e.config.showMonths:-1,g=l>0?1:-1,b=u-e.currentMonth;b!=f;b+=g)for(var M=e.daysContainer.children[b],E=u-e.currentMonth===b?o.$i+l:l<0?M.children.length-1:0,x=M.children.length,C=E;C>=0&&C<x&&C!=(l>0?x:-1);C+=g){var D=M.children[C];if(D.className.indexOf("hidden")===-1&&De(D.dateObj)&&Math.abs(o.$i-C)>=Math.abs(l))return Y(D)}e.changeMonth(g),me(W(g),0)}function me(o,l){var u=a(),f=Xe(u||document.body),g=o!==void 0?o:f?u:e.selectedDateElem!==void 0&&Xe(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&Xe(e.todayDateElem)?e.todayDateElem:W(l>0?1:-1);g===void 0?e._input.focus():f?ne(g,l):Y(g)}function Le(o,l){for(var u=(new Date(o,l,1).getDay()-e.l10n.firstDayOfWeek+7)%7,f=e.utils.getDaysInMonth((l-1+12)%12,o),g=e.utils.getDaysInMonth(l,o),b=window.document.createDocumentFragment(),M=e.config.showMonths>1,E=M?"prevMonthDay hidden":"prevMonthDay",x=M?"nextMonthDay hidden":"nextMonthDay",C=f+1-u,D=0;C<=f;C++,D++)b.appendChild(ie("flatpickr-day "+E,new Date(o,l-1,C),C,D));for(C=1;C<=g;C++,D++)b.appendChild(ie("flatpickr-day",new Date(o,l,C),C,D));for(var k=g+1;k<=42-u&&(e.config.showMonths===1||D%7!=0);k++,D++)b.appendChild(ie("flatpickr-day "+x,new Date(o,l+1,k%g),k,D));var le=T("div","dayContainer");return le.appendChild(b),le}function re(){if(e.daysContainer!==void 0){je(e.daysContainer),e.weekNumbers&&je(e.weekNumbers);for(var o=document.createDocumentFragment(),l=0;l<e.config.showMonths;l++){var u=new Date(e.currentYear,e.currentMonth,1);u.setMonth(e.currentMonth+l),o.appendChild(Le(u.getFullYear(),u.getMonth()))}e.daysContainer.appendChild(o),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&Qe()}}function Ee(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var o=function(f){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&f<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&f>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var l=0;l<12;l++)if(!!o(l)){var u=T("option","flatpickr-monthDropdown-month");u.value=new Date(e.currentYear,l).getMonth().toString(),u.textContent=qe(l,e.config.shorthandCurrentMonth,e.l10n),u.tabIndex=-1,e.currentMonth===l&&(u.selected=!0),e.monthsDropdownContainer.appendChild(u)}}}function Z(){var o=T("div","flatpickr-month"),l=window.document.createDocumentFragment(),u;e.config.showMonths>1||e.config.monthSelectorType==="static"?u=T("span","cur-month"):(e.monthsDropdownContainer=T("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),v(e.monthsDropdownContainer,"change",function(M){var E=J(M),x=parseInt(E.value,10);e.changeMonth(x-e.currentMonth),P("onMonthChange")}),Ee(),u=e.monthsDropdownContainer);var f=Ye("cur-year",{tabindex:"-1"}),g=f.getElementsByTagName("input")[0];g.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&g.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(g.setAttribute("max",e.config.maxDate.getFullYear().toString()),g.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var b=T("div","flatpickr-current-month");return b.appendChild(u),b.appendChild(f),l.appendChild(b),o.appendChild(l),{container:o,yearElement:g,monthElement:u}}function we(){je(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var o=e.config.showMonths;o--;){var l=Z();e.yearElements.push(l.yearElement),e.monthElements.push(l.monthElement),e.monthNav.appendChild(l.container)}e.monthNav.appendChild(e.nextMonthNav)}function ze(){return e.monthNav=T("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=T("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=T("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,we(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(o){e.__hidePrevMonthArrow!==o&&(N(e.prevMonthNav,"flatpickr-disabled",o),e.__hidePrevMonthArrow=o)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(o){e.__hideNextMonthArrow!==o&&(N(e.nextMonthNav,"flatpickr-disabled",o),e.__hideNextMonthArrow=o)}}),e.currentYearElement=e.yearElements[0],tt(),e.monthNav}function jr(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var o=at(e.config);e.timeContainer=T("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var l=T("span","flatpickr-time-separator",":"),u=Ye("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=u.getElementsByTagName("input")[0];var f=Ye("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=f.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=B(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?o.hours:h(o.hours)),e.minuteElement.value=B(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():o.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(u),e.timeContainer.appendChild(l),e.timeContainer.appendChild(f),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var g=Ye("flatpickr-second");e.secondElement=g.getElementsByTagName("input")[0],e.secondElement.value=B(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():o.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(T("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(g)}return e.config.time_24hr||(e.amPM=T("span","flatpickr-am-pm",e.l10n.amPM[$((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function gn(){e.weekdayContainer?je(e.weekdayContainer):e.weekdayContainer=T("div","flatpickr-weekdays");for(var o=e.config.showMonths;o--;){var l=T("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(l)}return vn(),e.weekdayContainer}function vn(){if(!!e.weekdayContainer){var o=e.l10n.firstDayOfWeek,l=Ot(e.l10n.weekdays.shorthand);o>0&&o<l.length&&(l=Ot(l.splice(o,l.length),l.splice(0,o)));for(var u=e.config.showMonths;u--;)e.weekdayContainer.children[u].innerHTML=`
      <span class='flatpickr-weekday'>
        `+l.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function Yr(){e.calendarContainer.classList.add("hasWeeks");var o=T("div","flatpickr-weekwrapper");o.appendChild(T("span","flatpickr-weekday",e.l10n.weekAbbreviation));var l=T("div","flatpickr-weeks");return o.appendChild(l),{weekWrapper:o,weekNumbers:l}}function Ct(o,l){l===void 0&&(l=!0);var u=l?o:o-e.currentMonth;u<0&&e._hidePrevMonthArrow===!0||u>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=u,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,P("onYearChange"),Ee()),re(),P("onMonthChange"),tt())}function qr(o,l){if(o===void 0&&(o=!0),l===void 0&&(l=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,l===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var u=at(e.config),f=u.hours,g=u.minutes,b=u.seconds;w(f,g,b)}e.redraw(),o&&P("onChange")}function Br(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),P("onClose")}function Kr(){e.config!==void 0&&P("onDestroy");for(var o=e._handlers.length;o--;)e._handlers[o].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var l=e.calendarContainer.parentNode;if(l.lastChild&&l.removeChild(l.lastChild),l.parentNode){for(;l.firstChild;)l.parentNode.insertBefore(l.firstChild,l);l.parentNode.removeChild(l)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(u){try{delete e[u]}catch(f){}})}function Pe(o){return e.calendarContainer.contains(o)}function Et(o){if(e.isOpen&&!e.config.inline){var l=J(o),u=Pe(l),f=l===e.input||l===e.altInput||e.element.contains(l)||o.path&&o.path.indexOf&&(~o.path.indexOf(e.input)||~o.path.indexOf(e.altInput)),g=!f&&!u&&!Pe(o.relatedTarget),b=!e.config.ignoredFocusElements.some(function(M){return M.contains(l)});g&&b&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&d(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}function Je(o){if(!(!o||e.config.minDate&&o<e.config.minDate.getFullYear()||e.config.maxDate&&o>e.config.maxDate.getFullYear())){var l=o,u=e.currentYear!==l;e.currentYear=l||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),u&&(e.redraw(),P("onYearChange"),Ee())}}function De(o,l){var u;l===void 0&&(l=!0);var f=e.parseDate(o,void 0,l);if(e.config.minDate&&f&&X(f,e.config.minDate,l!==void 0?l:!e.minDateHasTime)<0||e.config.maxDate&&f&&X(f,e.config.maxDate,l!==void 0?l:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(f===void 0)return!1;for(var g=!!e.config.enable,b=(u=e.config.enable)!==null&&u!==void 0?u:e.config.disable,M=0,E=void 0;M<b.length;M++){if(E=b[M],typeof E=="function"&&E(f))return g;if(E instanceof Date&&f!==void 0&&E.getTime()===f.getTime())return g;if(typeof E=="string"){var x=e.parseDate(E,void 0,!0);return x&&x.getTime()===f.getTime()?g:!g}else if(typeof E=="object"&&f!==void 0&&E.from&&E.to&&f.getTime()>=E.from.getTime()&&f.getTime()<=E.to.getTime())return g}return!g}function Xe(o){return e.daysContainer!==void 0?o.className.indexOf("hidden")===-1&&o.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(o):!1}function Vr(o){var l=o.target===e._input,u=e._input.value.trimEnd()!==It();l&&u&&!(o.relatedTarget&&Pe(o.relatedTarget))&&e.setDate(e._input.value,!0,o.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function yn(o){var l=J(o),u=e.config.wrap?n.contains(l):l===e._input,f=e.config.allowInput,g=e.isOpen&&(!f||!u),b=e.config.inline&&u&&!f;if(o.keyCode===13&&u){if(f)return e.setDate(e._input.value,!0,l===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),l.blur();e.open()}else if(Pe(l)||g||b){var M=!!e.timeContainer&&e.timeContainer.contains(l);switch(o.keyCode){case 13:M?(o.preventDefault(),d(),wt()):wn(o);break;case 27:o.preventDefault(),wt();break;case 8:case 46:u&&!e.config.allowInput&&(o.preventDefault(),e.clear());break;case 37:case 39:if(!M&&!u){o.preventDefault();var E=a();if(e.daysContainer!==void 0&&(f===!1||E&&Xe(E))){var x=o.keyCode===39?1:-1;o.ctrlKey?(o.stopPropagation(),Ct(x),me(W(1),0)):me(void 0,x)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:o.preventDefault();var C=o.keyCode===40?1:-1;e.daysContainer&&l.$i!==void 0||l===e.input||l===e.altInput?o.ctrlKey?(o.stopPropagation(),Je(e.currentYear-C),me(W(1),0)):M||me(void 0,C*7):l===e.currentYearElement?Je(e.currentYear-C):e.config.enableTime&&(!M&&e.hourElement&&e.hourElement.focus(),d(o),e._debouncedChange());break;case 9:if(M){var D=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(ee){return ee}),k=D.indexOf(l);if(k!==-1){var le=D[k+(o.shiftKey?-1:1)];o.preventDefault(),(le||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(l)&&o.shiftKey&&(o.preventDefault(),e._input.focus());break}}if(e.amPM!==void 0&&l===e.amPM)switch(o.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],m(),de();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],m(),de();break}(u||Pe(l))&&P("onKeyDown",o)}function Qe(o,l){if(l===void 0&&(l="flatpickr-day"),!(e.selectedDates.length!==1||o&&(!o.classList.contains(l)||o.classList.contains("flatpickr-disabled")))){for(var u=o?o.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),f=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),g=Math.min(u,e.selectedDates[0].getTime()),b=Math.max(u,e.selectedDates[0].getTime()),M=!1,E=0,x=0,C=g;C<b;C+=Fn.DAY)De(new Date(C),!0)||(M=M||C>g&&C<b,C<f&&(!E||C>E)?E=C:C>f&&(!x||C<x)&&(x=C));var D=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+l));D.forEach(function(k){var le=k.dateObj,ee=le.getTime(),He=E>0&&ee<E||x>0&&ee>x;if(He){k.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(xe){k.classList.remove(xe)});return}else if(M&&!He)return;["startRange","inRange","endRange","notAllowed"].forEach(function(xe){k.classList.remove(xe)}),o!==void 0&&(o.classList.add(u<=e.selectedDates[0].getTime()?"startRange":"endRange"),f<u&&ee===f?k.classList.add("startRange"):f>u&&ee===f&&k.classList.add("endRange"),ee>=E&&(x===0||ee<=x)&&On(ee,f,u)&&k.classList.add("inRange"))})}}function Wr(){e.isOpen&&!e.config.static&&!e.config.inline&&Ze()}function $r(o,l){if(l===void 0&&(l=e._positionElement),e.isMobile===!0){if(o){o.preventDefault();var u=J(o);u&&u.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),P("onOpen");return}else if(e._input.disabled||e.config.inline)return;var f=e.isOpen;e.isOpen=!0,f||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),P("onOpen"),Ze(l)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(o===void 0||!e.timeContainer.contains(o.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}function bn(o){return function(l){var u=e.config["_"+o+"Date"]=e.parseDate(l,e.config.dateFormat),f=e.config["_"+(o==="min"?"max":"min")+"Date"];u!==void 0&&(e[o==="min"?"minDateHasTime":"maxDateHasTime"]=u.getHours()>0||u.getMinutes()>0||u.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(g){return De(g)}),!e.selectedDates.length&&o==="min"&&y(u),de()),e.daysContainer&&(En(),u!==void 0?e.currentYearElement[o]=u.getFullYear().toString():e.currentYearElement.removeAttribute(o),e.currentYearElement.disabled=!!f&&u!==void 0&&f.getFullYear()===u.getFullYear())}}function Ur(){var o=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],l=K(K({},JSON.parse(JSON.stringify(n.dataset||{}))),t),u={};e.config.parseDate=l.parseDate,e.config.formatDate=l.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(D){e.config._enable=Sn(D)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(D){e.config._disable=Sn(D)}});var f=l.mode==="time";if(!l.dateFormat&&(l.enableTime||f)){var g=L.defaultConfig.dateFormat||H.dateFormat;u.dateFormat=l.noCalendar||f?"H:i"+(l.enableSeconds?":S":""):g+" H:i"+(l.enableSeconds?":S":"")}if(l.altInput&&(l.enableTime||f)&&!l.altFormat){var b=L.defaultConfig.altFormat||H.altFormat;u.altFormat=l.noCalendar||f?"h:i"+(l.enableSeconds?":S K":" K"):b+(" h:i"+(l.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:bn("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:bn("max")});var M=function(D){return function(k){e.config[D==="min"?"_minTime":"_maxTime"]=e.parseDate(k,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:M("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:M("max")}),l.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,u,l);for(var E=0;E<o.length;E++)e.config[o[E]]=e.config[o[E]]===!0||e.config[o[E]]==="true";q.filter(function(D){return e.config[D]!==void 0}).forEach(function(D){e.config[D]=ve(e.config[D]||[]).map(s)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var E=0;E<e.config.plugins.length;E++){var x=e.config.plugins[E](e)||{};for(var C in x)q.indexOf(C)>-1?e.config[C]=ve(x[C]).map(s).concat(e.config[C]):typeof l[C]=="undefined"&&(e.config[C]=x[C])}l.altInputClass||(e.config.altInputClass=_n().className+" "+e.config.altInputClass),P("onParseConfig")}function _n(){return e.config.wrap?n.querySelector("[data-input]"):n}function Cn(){typeof e.config.locale!="object"&&typeof L.l10ns[e.config.locale]=="undefined"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=K(K({},L.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?L.l10ns[e.config.locale]:void 0),ye.D="("+e.l10n.weekdays.shorthand.join("|")+")",ye.l="("+e.l10n.weekdays.longhand.join("|")+")",ye.M="("+e.l10n.months.shorthand.join("|")+")",ye.F="("+e.l10n.months.longhand.join("|")+")",ye.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var o=K(K({},t),JSON.parse(JSON.stringify(n.dataset||{})));o.time_24hr===void 0&&L.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=Tt(e),e.parseDate=it({config:e.config,l10n:e.l10n})}function Ze(o){if(typeof e.config.position=="function")return void e.config.position(e,o);if(e.calendarContainer!==void 0){P("onPreCalendarPosition");var l=o||e._positionElement,u=Array.prototype.reduce.call(e.calendarContainer.children,function(fa,ha){return fa+ha.offsetHeight},0),f=e.calendarContainer.offsetWidth,g=e.config.position.split(" "),b=g[0],M=g.length>1?g[1]:null,E=l.getBoundingClientRect(),x=window.innerHeight-E.bottom,C=b==="above"||b!=="below"&&x<u&&E.top>u,D=window.pageYOffset+E.top+(C?-u-2:l.offsetHeight+2);if(N(e.calendarContainer,"arrowTop",!C),N(e.calendarContainer,"arrowBottom",C),!e.config.inline){var k=window.pageXOffset+E.left,le=!1,ee=!1;M==="center"?(k-=(f-E.width)/2,le=!0):M==="right"&&(k-=f-E.width,ee=!0),N(e.calendarContainer,"arrowLeft",!le&&!ee),N(e.calendarContainer,"arrowCenter",le),N(e.calendarContainer,"arrowRight",ee);var He=window.document.body.offsetWidth-(window.pageXOffset+E.right),xe=k+f>window.document.body.offsetWidth,aa=He+f>window.document.body.offsetWidth;if(N(e.calendarContainer,"rightMost",xe),!e.config.static)if(e.calendarContainer.style.top=D+"px",!xe)e.calendarContainer.style.left=k+"px",e.calendarContainer.style.right="auto";else if(!aa)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=He+"px";else{var Mt=Gr();if(Mt===void 0)return;var oa=window.document.body.offsetWidth,sa=Math.max(0,oa/2-f/2),la=".flatpickr-calendar.centerMost:before",ca=".flatpickr-calendar.centerMost:after",ua=Mt.cssRules.length,da="{left:"+E.left+"px;right:auto;}";N(e.calendarContainer,"rightMost",!1),N(e.calendarContainer,"centerMost",!0),Mt.insertRule(la+","+ca+da,ua),e.calendarContainer.style.left=sa+"px",e.calendarContainer.style.right="auto"}}}}function Gr(){for(var o=null,l=0;l<document.styleSheets.length;l++){var u=document.styleSheets[l];if(!!u.cssRules){try{u.cssRules}catch(f){continue}o=u;break}}return o!=null?o:zr()}function zr(){var o=document.createElement("style");return document.head.appendChild(o),o.sheet}function En(){e.config.noCalendar||e.isMobile||(Ee(),tt(),re())}function wt(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function wn(o){o.preventDefault(),o.stopPropagation();var l=function(D){return D.classList&&D.classList.contains("flatpickr-day")&&!D.classList.contains("flatpickr-disabled")&&!D.classList.contains("notAllowed")},u=At(J(o),l);if(u!==void 0){var f=u,g=e.latestSelectedDateObj=new Date(f.dateObj.getTime()),b=(g.getMonth()<e.currentMonth||g.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=f,e.config.mode==="single")e.selectedDates=[g];else if(e.config.mode==="multiple"){var M=St(g);M?e.selectedDates.splice(parseInt(M),1):e.selectedDates.push(g)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=g,e.selectedDates.push(g),X(g,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(D,k){return D.getTime()-k.getTime()}));if(m(),b){var E=e.currentYear!==g.getFullYear();e.currentYear=g.getFullYear(),e.currentMonth=g.getMonth(),E&&(P("onYearChange"),Ee()),P("onMonthChange")}if(tt(),re(),de(),!b&&e.config.mode!=="range"&&e.config.showMonths===1?Y(f):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var x=e.config.mode==="single"&&!e.config.enableTime,C=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(x||C)&&wt()}O()}}var et={locale:[Cn,vn],showMonths:[we,c,gn],minDate:[F],maxDate:[F],positionElement:[In],clickOpens:[function(){e.config.clickOpens===!0?(v(e._input,"focus",e.open),v(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function Jr(o,l){if(o!==null&&typeof o=="object"){Object.assign(e.config,o);for(var u in o)et[u]!==void 0&&et[u].forEach(function(f){return f()})}else e.config[o]=l,et[o]!==void 0?et[o].forEach(function(f){return f()}):q.indexOf(o)>-1&&(e.config[o]=ve(l));e.redraw(),de(!0)}function Dn(o,l){var u=[];if(o instanceof Array)u=o.map(function(f){return e.parseDate(f,l)});else if(o instanceof Date||typeof o=="number")u=[e.parseDate(o,l)];else if(typeof o=="string")switch(e.config.mode){case"single":case"time":u=[e.parseDate(o,l)];break;case"multiple":u=o.split(e.config.conjunction).map(function(f){return e.parseDate(f,l)});break;case"range":u=o.split(e.l10n.rangeSeparator).map(function(f){return e.parseDate(f,l)});break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(o)));e.selectedDates=e.config.allowInvalidPreload?u:u.filter(function(f){return f instanceof Date&&De(f,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(f,g){return f.getTime()-g.getTime()})}function Xr(o,l,u){if(l===void 0&&(l=!1),u===void 0&&(u=e.config.dateFormat),o!==0&&!o||o instanceof Array&&o.length===0)return e.clear(l);Dn(o,u),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),F(void 0,l),y(),e.selectedDates.length===0&&e.clear(!1),de(l),l&&P("onChange")}function Sn(o){return o.slice().map(function(l){return typeof l=="string"||typeof l=="number"||l instanceof Date?e.parseDate(l,void 0,!0):l&&typeof l=="object"&&l.from&&l.to?{from:e.parseDate(l.from,void 0),to:e.parseDate(l.to,void 0)}:l}).filter(function(l){return l})}function Qr(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var o=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);o&&Dn(o,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function Zr(){if(e.input=_n(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=T(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),In()}function In(){e._positionElement=e.config.positionElement||e._input}function ea(){var o=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=T("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=o,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=o==="datetime-local"?"Y-m-d\\TH:i:S":o==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch(l){}v(e.mobileInput,"change",function(l){e.setDate(J(l).value,!1,e.mobileFormatStr),P("onChange"),P("onClose")})}function ta(o){if(e.isOpen===!0)return e.close();e.open(o)}function P(o,l){if(e.config!==void 0){var u=e.config[o];if(u!==void 0&&u.length>0)for(var f=0;u[f]&&f<u.length;f++)u[f](e.selectedDates,e.input.value,e,l);o==="onChange"&&(e.input.dispatchEvent(Dt("change")),e.input.dispatchEvent(Dt("input")))}}function Dt(o){var l=document.createEvent("Event");return l.initEvent(o,!0,!0),l}function St(o){for(var l=0;l<e.selectedDates.length;l++){var u=e.selectedDates[l];if(u instanceof Date&&X(u,o)===0)return""+l}return!1}function na(o){return e.config.mode!=="range"||e.selectedDates.length<2?!1:X(o,e.selectedDates[0])>=0&&X(o,e.selectedDates[1])<=0}function tt(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(o,l){var u=new Date(e.currentYear,e.currentMonth,1);u.setMonth(e.currentMonth+l),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[l].textContent=qe(u.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=u.getMonth().toString(),o.value=u.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function It(o){var l=o||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(u){return e.formatDate(u,l)}).filter(function(u,f,g){return e.config.mode!=="range"||e.config.enableTime||g.indexOf(u)===f}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function de(o){o===void 0&&(o=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=It(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=It(e.config.altFormat)),o!==!1&&P("onValueUpdate")}function ia(o){var l=J(o),u=e.prevMonthNav.contains(l),f=e.nextMonthNav.contains(l);u||f?Ct(u?-1:1):e.yearElements.indexOf(l)>=0?l.select():l.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):l.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function ra(o){o.preventDefault();var l=o.type==="keydown",u=J(o),f=u;e.amPM!==void 0&&u===e.amPM&&(e.amPM.textContent=e.l10n.amPM[$(e.amPM.textContent===e.l10n.amPM[0])]);var g=parseFloat(f.getAttribute("min")),b=parseFloat(f.getAttribute("max")),M=parseFloat(f.getAttribute("step")),E=parseInt(f.value,10),x=o.delta||(l?o.which===38?1:-1:0),C=E+M*x;if(typeof f.value!="undefined"&&f.value.length===2){var D=f===e.hourElement,k=f===e.minuteElement;C<g?(C=b+C+$(!D)+($(D)&&$(!e.amPM)),k&&z(void 0,-1,e.hourElement)):C>b&&(C=f===e.hourElement?C-b-$(!e.amPM):g,k&&z(void 0,1,e.hourElement)),e.amPM&&D&&(M===1?C+E===23:Math.abs(C-E)>M)&&(e.amPM.textContent=e.l10n.amPM[$(e.amPM.textContent===e.l10n.amPM[0])]),f.value=B(C)}}return r(),e}function Se(n,t){for(var e=Array.prototype.slice.call(n).filter(function(s){return s instanceof HTMLElement}),i=[],r=0;r<e.length;r++){var a=e[r];try{if(a.getAttribute("data-fp-omit")!==null)continue;a._flatpickr!==void 0&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=Ln(a,t||{}),i.push(a._flatpickr)}catch(s){console.error(s)}}return i.length===1?i[0]:i}typeof HTMLElement!="undefined"&&typeof HTMLCollection!="undefined"&&typeof NodeList!="undefined"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return Se(this,n)},HTMLElement.prototype.flatpickr=function(n){return Se([this],n)});var L=function(n,t){return typeof n=="string"?Se(window.document.querySelectorAll(n),t):n instanceof Node?Se([n],t):Se(n,t)};L.defaultConfig={},L.l10ns={en:K({},ge),default:K({},ge)},L.localize=function(n){L.l10ns.default=K(K({},L.l10ns.default),n)},L.setDefaults=function(n){L.defaultConfig=K(K({},L.defaultConfig),n)},L.parseDate=it({}),L.formatDate=Tt({}),L.compareDates=X,typeof jQuery!="undefined"&&typeof jQuery.fn!="undefined"&&(jQuery.fn.flatpickr=function(n){return Se(this,n)}),Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))},typeof window!="undefined"&&(window.flatpickr=L);const kt=()=>{const n=document.querySelector("#i-pickup-date"),t=document.querySelector("#i-return-date"),e=document.querySelector("#v-pickup-date"),i=document.querySelector("#v-return-date"),r=document.querySelector("#v-calc-duration");if(n.value){const a=new Date(n.value);e.textContent=Ft(a)}if(t.value){const a=new Date(t.value);i.textContent=Ft(a)}if(n.value&&t.value){const a=Pn(new Date(n.value),new Date(t.value));r.textContent=a}},Ft=n=>n.toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),Pn=(n,t)=>{const e=t-n;return Math.ceil(e/(1e3*60*60*24))};function Hn(){const n=document.querySelector("#pickup-confirmation"),t=document.querySelector("#i-pickup-location"),e=document.querySelector("#i-return-location"),i=document.querySelector("#v-calc-delivery-fee"),r=document.querySelector("#v-pickup-location"),a=document.querySelector("#v-return-location");t.closest(".input-dropdown").style.display="none",e.closest(".input-dropdown").style.display="none",t.addEventListener("change",function(){this.selectedIndex!==0&&(r.textContent=this.options[this.selectedIndex].text)}),e.addEventListener("change",function(){this.selectedIndex!==0&&(a.textContent=this.options[this.selectedIndex].text)}),n.addEventListener("change",function(){const s=this.checked?"block":"none";t.closest(".input-dropdown").style.display=s,e.closest(".input-dropdown").style.display=s,i.textContent=this.checked?"250.00":"0.00",this.checked||(t.selectedIndex=0,e.selectedIndex=0,r.textContent="-",a.textContent="-")})}function Rn(){let n,t;const e={enableTime:!0,dateFormat:"Y-m-d H:i",minDate:"today",time_24hr:!0,minuteIncrement:30,onChange:function(s){if(t){t.set("minDate",s[0]);const c=t.selectedDates[0];c&&c<s[0]&&(t.clear(),Nt("Return date cannot be earlier than pickup date. Please select a new return date."))}kt()}},i={enableTime:!0,dateFormat:"Y-m-d H:i",minDate:"today",time_24hr:!0,minuteIncrement:30,onChange:function(s){const c=n.selectedDates[0];if(c&&s[0]<c){t.clear(),Nt("Return date cannot be earlier than pickup date. Please select a valid date.");return}kt()}};n=L("#i-pickup-date",e),t=L("#i-return-date",i);const r={dateFormat:"Y-m-d",maxDate:new Date,yearRange:[1900,new Date().getFullYear()]},a={dateFormat:"Y-m-d",minDate:"today"};L("#i-date-of-birth",r),L("#i-expiration-date",a),Hn()}function Nt(n){const t=document.querySelector("#i-return-date").closest(".f-field-wrapper").querySelector(".error-alert-bg");t.querySelector(".error-alert-text").textContent=n,t.classList.remove("is-hidden"),setTimeout(()=>{t.classList.add("is-hidden")},5e3)}const Be=[{id:1,name:"NAD-45-000.00-Excess-Waiver",baseFee:45e3,perDay:!1,displayName:"NAD 45,000.00 Excess Waiver"},{id:2,name:"Tyre-Glass-Waiver",baseFee:165,perDay:!0,displayName:"Tyre & Glass Waiver @ 165.00 p.d"},{id:3,name:"Cross-Border-Charge",baseFee:100,perDay:!1,displayName:"Cross Border Charge @ 100.00"},{id:4,name:"Satellite-Phone-N-6000-Excess",baseFee:140,perDay:!0,displayName:"Satellite Phone (N$6000 Excess) @ 140.00 p.d"},{id:5,name:"Satellite-Phone-Zero-Excess",baseFee:170,perDay:!0,displayName:"Satellite Phone (Zero Excess) @ 170.00 p.d"},{id:6,name:"Camping-Equipment---Double-Cab",baseFee:170,perDay:!0,displayName:"Camping Equipment - Double Cab @ NAD 170.00 p.d"},{id:7,name:"Roof-Tents-Required",baseFee:60,perDay:!0,displayName:"Roof Tents Required @ NAD 60.00 p.d"},{id:8,name:"Engel-40L-Fridge-Freezer",baseFee:90,perDay:!0,displayName:"Engel 40L Fridge/Freezer @ 90.00 p.d"},{id:9,name:"Bedding-incl.-1x-sleeping-bag-1x-pillow",baseFee:20,perDay:!0,displayName:"Bedding (incl. 1x sleeping bag + 1x pillow) @ 20.00 p.d"},{id:10,name:"GPS-System",baseFee:75,perDay:!0,displayName:"GPS System @ 75.00 p.d"},{id:11,name:"SAT-Phone-Minutes",baseFee:825,perDay:!1,displayName:"SAT Phone Minutes @ 825.00 once.off"},{id:12,name:"Kitchen-wash-up-kit-small-dish-wash-liquid-2x-drying-cloth-2x-sponge-2x-cleaning-cloth-extras",baseFee:150,perDay:!1,displayName:"Kitchen wash up kit @ 150.00 once.off"},{id:13,name:"Ground-Tent",baseFee:0,perDay:!1,displayName:"Free Ground Tent"},{id:14,name:"Jerry-Can",baseFee:10,perDay:!0,displayName:"Jerry Can @ 10.00 p.d"},{id:15,name:"Baby-Seat",baseFee:0,perDay:!1,displayName:"Free Baby Seat"}].map(n=>An(xt({},n),{key:`extra-${n.id}`,inputId:`i-extra-${n.id}`,countId:`i-count-extra-${n.id}`,displayId:`v-calc-extra-${n.id}`,getElements(){return{checkbox:document.querySelector(`#${this.inputId}`),quantity:document.querySelector(`#${this.countId}`),display:document.querySelector(`#${this.displayId}`)}},isValid(){const t=this.getElements();return t.checkbox&&t.quantity&&t.display}})),Lt=n=>{var s;const t=Be.find(c=>c.id===n);if(!t||!t.isValid())return;const e=t.getElements(),i=parseInt(e.quantity.value)||0,r=parseInt((s=document.querySelector("#v-calc-duration"))==null?void 0:s.textContent)||0,a=t.perDay?t.baseFee*i*r:t.baseFee*i;e.display.textContent=a.toFixed(2),ot()},ot=()=>{const n=document.querySelector("#v-calc-total-extra");if(!n)return;const t=Be.reduce((e,i)=>{if(!i.isValid())return e;const r=i.getElements();return!r.checkbox.checked||r.display.textContent==="-"?e:e+parseFloat(r.display.textContent||"0")},0);n.textContent=t.toFixed(2)},jn=()=>{const n=Be.reduce((e,i)=>{if(!i.isValid())return e;const r=i.getElements();return!r.checkbox.checked||r.display.textContent==="-"?e:e+parseFloat(r.display.textContent||"0")},0),t=document.querySelector("#v-calc-total-extra");return t&&(t.textContent=n.toFixed(2)),n},Yn=()=>{Be.forEach(n=>{if(!n.isValid())return;const t=n.getElements();t.checkbox.addEventListener("change",()=>{t.checkbox.checked?(t.quantity.value=t.quantity.value||"1",Lt(n.id)):(t.quantity.value="",t.display.textContent="-",ot()),Ke()}),t.quantity.addEventListener("change",()=>{t.checkbox.checked&&(Lt(n.id),Ke())})}),ot()},qn=.15,be={vehiclePrice:"#v-calc-vehicle-price",duration:"#v-calc-duration",deliveryFee:"#v-calc-delivery-fee",totalExtra:"#v-calc-total-extra",tax:"#v-calc-tax",subtotal:"#v-calc-subtotal",total:"#v-calc-total"},st=(n,t=0,e=parseFloat)=>{try{const i=document.querySelector(n);if(!i)return t;const r=e((i==null?void 0:i.textContent)||t);return isNaN(r)?t:r}catch(i){return t}},Bn=(n,t)=>{try{const e=document.querySelector(n);e&&(e.textContent=t.toFixed(2))}catch(e){}},Ke=()=>{try{const n={vehiclePrice:st(be.vehiclePrice),duration:st(be.duration,0,parseInt),deliveryFee:st(be.deliveryFee)},t={extrasTotal:jn(),vehicleCost:n.vehiclePrice*n.duration},e=t.vehicleCost+t.extrasTotal+n.deliveryFee,i=e*qn,r=e+i,a={[be.totalExtra]:t.extrasTotal,[be.tax]:i,[be.subtotal]:e,[be.total]:r};return Object.entries(a).forEach(([s,c])=>{Bn(s,c)}),{subtotal:e,tax:i,total:r}}catch(n){return{subtotal:0,tax:0,total:0}}},Kn=()=>{document.querySelectorAll('input[name="vehicle"]').forEach(t=>{t.addEventListener("change",e=>{const i=e.target.closest(".f-radio-field").querySelector(".vehicle-name").textContent,r=parseFloat(e.target.value);document.querySelector("#v-vehicle-name").textContent=i,document.querySelector("#v-calc-vehicle-price").textContent=r.toFixed(2),Ke()})})};let lt={NAD:1,USD:.054,EUR:.049,GBP:.042};const Vn={NAD:{symbol:"N$",decimals:2},USD:{symbol:"$",decimals:2},EUR:{symbol:"\u20AC",decimals:2},GBP:{symbol:"\xA3",decimals:2}},Wn=36e5;let Pt=0;function $n(){return fe(this,null,function*(){const n=Date.now();if(n-Pt<Wn)return;const t=yield ni();t&&(lt=xt({},t),Pt=n)})}const Un=()=>fe(this,null,function*(){try{if(yield $n(),!document.querySelectorAll('input[name="currency-group"]').length)throw new Error("No currency inputs found");const t=document.getElementById("i-currency-nad");t&&(t.checked=!0,Ht("NAD"));const e=document.querySelector('[name="currency-group"]').closest("form");e&&e.addEventListener("change",i=>{i.target.name==="currency-group"&&Gn(i)})}catch(n){console.error("Failed to initialize currency toggle:",n),Rt("Currency initialization failed")}});function Gn(n){const t=n.target.value;Ht(t)}const Ht=n=>{try{zn(n),Jn(n),Zn(n)}catch(t){console.error("Error updating currency:",t),Rt(`Failed to update currency: ${t.message}`)}};function Rt(n){const t=document.querySelector(".error-alert-bg");t&&(t.querySelector(".error-alert-text").textContent=n,t.classList.remove("is-hidden"),setTimeout(()=>t.classList.add("is-hidden"),5e3))}function zn(n){if(!lt[n])throw new Error(`Invalid currency: ${n}`)}function Jn(n){const t=lt[n],e=Vn[n];document.querySelectorAll('[id^="v-calc-"]').forEach(i=>{if(i.id==="v-calc-duration"||i.textContent==="-")return;!i.hasAttribute("data-original-price")&&i.textContent!=="-"&&i.setAttribute("data-original-price",i.textContent);const r=parseFloat(i.getAttribute("data-original-price"));if(!isNaN(r)){if(i.id==="v-calc-vehicle-price"){const a=(r*t).toFixed(e.decimals);i.textContent=a}else if(i.id.startsWith("v-calc-extra-")){const a=(r*t).toFixed(e.decimals);i.textContent=a}else if(i.id==="v-calc-delivery-fee"){const a=(r*t).toFixed(e.decimals);i.textContent=a}}}),Xn(t,e.decimals),Qn(t,e.decimals)}function Xn(n,t){const e=document.querySelector("#v-calc-total-extra");if(!e)return;let i=0;document.querySelectorAll('[id^="v-calc-extra-"]').forEach(a=>{if(a.textContent!=="-"){const s=parseFloat(a.getAttribute("data-original-price"));isNaN(s)||(i+=s)}});const r=(i*n).toFixed(t);e.textContent=r,e.hasAttribute("data-original-price")||e.setAttribute("data-original-price",i.toString())}function Qn(n,t){var h,m,y,w;const e={subtotal:document.querySelector("#v-calc-subtotal"),tax:document.querySelector("#v-calc-tax"),total:document.querySelector("#v-calc-total")},i=parseFloat(((h=document.querySelector("#v-calc-vehicle-price"))==null?void 0:h.getAttribute("data-original-price"))||"0"),r=parseInt(((m=document.querySelector("#v-calc-duration"))==null?void 0:m.textContent)||"0"),a=parseFloat(((y=document.querySelector("#v-calc-delivery-fee"))==null?void 0:y.getAttribute("data-original-price"))||"0"),s=parseFloat(((w=document.querySelector("#v-calc-total-extra"))==null?void 0:w.getAttribute("data-original-price"))||"0"),c=i*r+a+s,d=c*.15,p=c+d;e.subtotal&&(e.subtotal.textContent=(c*n).toFixed(t),e.subtotal.setAttribute("data-original-price",c.toString())),e.tax&&(e.tax.textContent=(d*n).toFixed(t),e.tax.setAttribute("data-original-price",d.toString())),e.total&&(e.total.textContent=(p*n).toFixed(t),e.total.setAttribute("data-original-price",p.toString()))}function Zn(n){document.querySelectorAll(".currency-symbol").forEach(t=>{t.textContent=n})}const ei="f8eb8575dc0df45769f9bc6c",ti="https://v6.exchangerate-api.com/v6";function ni(n="NAD"){return fe(this,null,function*(){try{const t=new AbortController,e=setTimeout(()=>t.abort(),5e3),i=yield fetch(`${ti}/${ei}/latest/${n}`,{signal:t.signal});if(clearTimeout(e),!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const r=yield i.json();if(r.result==="success")return r.conversion_rates;throw new Error(r["error-type"]||"Failed to fetch exchange rates")}catch(t){return t.name==="AbortError"?console.error("Request timed out"):console.error("Error fetching exchange rates:",t),null}})}/*! choices.js v11.0.2 |  2024 Josh Johnson | https://github.com/jshjohnson/Choices#readme */var ct=function(n,t){return ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},ct(n,t)};function jt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ct(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var U=function(){return U=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},U.apply(this,arguments)};function ii(n,t,e){if(e||arguments.length===2)for(var i=0,r=t.length,a;i<r;i++)(a||!(i in t))&&(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return n.concat(a||Array.prototype.slice.call(t))}typeof SuppressedError=="function"&&SuppressedError;var j={ADD_CHOICE:"ADD_CHOICE",REMOVE_CHOICE:"REMOVE_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM"},G={showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice",unhighlightItem:"unhighlightItem"},ri=["fuseOptions","classNames"],he={Text:"text",SelectOne:"select-one",SelectMultiple:"select-multiple"},ai=function(n){return{type:j.ADD_CHOICE,choice:n}},Yt=function(n){return{type:j.REMOVE_CHOICE,choice:n}},oi=function(n){return{type:j.FILTER_CHOICES,results:n}},si=function(n){return{type:j.ACTIVATE_CHOICES,active:n}},li=function(n){return{type:j.ADD_GROUP,group:n}},ci=function(n){return{type:j.ADD_ITEM,item:n}},qt=function(n){return{type:j.REMOVE_ITEM,item:n}},Ve=function(n,t){return{type:j.HIGHLIGHT_ITEM,item:n,highlighted:t}},ui=function(n,t){return Math.floor(Math.random()*(t-n)+n)},Bt=function(n){return Array.from({length:n},function(){return ui(0,36).toString(36)}).join("")},di=function(n,t){var e=n.id||n.name&&"".concat(n.name,"-").concat(Bt(2))||Bt(4);return e=e.replace(/(:|\.|\[|\]|,)/g,""),e="".concat(t,"-").concat(e),e},fi=function(n,t,e){e===void 0&&(e=1);for(var i="".concat(e>0?"next":"previous","ElementSibling"),r=n[i];r;){if(r.matches(t))return r;r=r[i]}return null},hi=function(n,t,e){e===void 0&&(e=1);var i;return e>0?i=t.scrollTop+t.offsetHeight>=n.offsetTop+n.offsetHeight:i=n.offsetTop>=t.scrollTop,i},We=function(n){if(typeof n!="string"){if(n==null)return"";if(typeof n=="object"){if("raw"in n)return We(n.raw);if("trusted"in n)return n.trusted}return n}return n.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;")},pi=function(){var n=document.createElement("div");return function(t){n.innerHTML=t.trim();for(var e=n.children[0];n.firstChild;)n.removeChild(n.firstChild);return e}}(),Te=function(n,t){return typeof n=="function"?n(We(t),t):n},Kt=function(n){return typeof n=="function"?n():n},_e=function(n){if(typeof n=="string")return n;if(typeof n=="object"){if("trusted"in n)return n.trusted;if("raw"in n)return n.raw}return""},mi=function(n){if(typeof n=="string")return n;if(typeof n=="object"){if("escaped"in n)return n.escaped;if("trusted"in n)return n.trusted}return""},ut=function(n,t){return n?mi(t):We(t)},ce=function(n,t,e){n.innerHTML=ut(t,e)},gi=function(n,t){var e=n.value,i=n.label,r=i===void 0?e:i,a=t.value,s=t.label,c=s===void 0?a:s;return _e(r).localeCompare(_e(c),[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})},vi=function(n,t){return n.rank-t.rank},yi=function(n,t,e){e===void 0&&(e=null);var i=new CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0});return n.dispatchEvent(i)},bi=function(n,t){var e=Object.keys(n).sort(),i=Object.keys(t).sort();return e.filter(function(r){return i.indexOf(r)<0})},$e=function(n){return Array.isArray(n)?n:[n]},Oe=function(n){return n&&Array.isArray(n)?n.map(function(t){return".".concat(t)}).join(""):".".concat(n)},I=function(n,t){var e;(e=n.classList).add.apply(e,$e(t))},ae=function(n,t){var e;(e=n.classList).remove.apply(e,$e(t))},_i=function(n){if(typeof n!="undefined")try{return JSON.parse(n)}catch(t){return n}return{}},Ci=function(n,t,e){var i=n.itemEl;i&&(ae(i,e),I(i,t))},Ei=function(){function n(t){var e=t.element,i=t.type,r=t.classNames;this.element=e,this.classNames=r,this.type=i,this.isActive=!1}return n.prototype.show=function(){return I(this.element,this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},n.prototype.hide=function(){return ae(this.element,this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},n}(),Vt=function(){function n(t){var e=t.element,i=t.type,r=t.classNames,a=t.position;this.element=e,this.classNames=r,this.type=i,this.position=a,this.isOpen=!1,this.isFlipped=!1,this.isDisabled=!1,this.isLoading=!1}return n.prototype.shouldFlip=function(t,e){var i=!1;return this.position==="auto"?i=this.element.getBoundingClientRect().top-e>=0&&!window.matchMedia("(min-height: ".concat(t+1,"px)")).matches:this.position==="top"&&(i=!0),i},n.prototype.setActiveDescendant=function(t){this.element.setAttribute("aria-activedescendant",t)},n.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},n.prototype.open=function(t,e){I(this.element,this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(t,e)&&(I(this.element,this.classNames.flippedState),this.isFlipped=!0)},n.prototype.close=function(){ae(this.element,this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(ae(this.element,this.classNames.flippedState),this.isFlipped=!1)},n.prototype.addFocusState=function(){I(this.element,this.classNames.focusState)},n.prototype.removeFocusState=function(){ae(this.element,this.classNames.focusState)},n.prototype.enable=function(){ae(this.element,this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===he.SelectOne&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},n.prototype.disable=function(){I(this.element,this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===he.SelectOne&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},n.prototype.wrap=function(t){var e=this.element,i=t.parentNode;i&&(t.nextSibling?i.insertBefore(e,t.nextSibling):i.appendChild(e)),e.appendChild(t)},n.prototype.unwrap=function(t){var e=this.element,i=e.parentNode;i&&(i.insertBefore(t,e),i.removeChild(e))},n.prototype.addLoadingState=function(){I(this.element,this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},n.prototype.removeLoadingState=function(){ae(this.element,this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},n}(),wi=function(){function n(t){var e=t.element,i=t.type,r=t.classNames,a=t.preventPaste;this.element=e,this.type=i,this.classNames=r,this.preventPaste=a,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=e.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(n.prototype,"placeholder",{set:function(t){this.element.placeholder=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this.element.value},set:function(t){this.element.value=t},enumerable:!1,configurable:!0}),n.prototype.addEventListeners=function(){var t=this.element;t.addEventListener("paste",this._onPaste),t.addEventListener("input",this._onInput,{passive:!0}),t.addEventListener("focus",this._onFocus,{passive:!0}),t.addEventListener("blur",this._onBlur,{passive:!0})},n.prototype.removeEventListeners=function(){var t=this.element;t.removeEventListener("input",this._onInput),t.removeEventListener("paste",this._onPaste),t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur)},n.prototype.enable=function(){var t=this.element;t.removeAttribute("disabled"),this.isDisabled=!1},n.prototype.disable=function(){var t=this.element;t.setAttribute("disabled",""),this.isDisabled=!0},n.prototype.focus=function(){this.isFocussed||this.element.focus()},n.prototype.blur=function(){this.isFocussed&&this.element.blur()},n.prototype.clear=function(t){return t===void 0&&(t=!0),this.element.value="",t&&this.setWidth(),this},n.prototype.setWidth=function(){var t=this.element;t.style.minWidth="".concat(t.placeholder.length+1,"ch"),t.style.width="".concat(t.value.length+1,"ch")},n.prototype.setActiveDescendant=function(t){this.element.setAttribute("aria-activedescendant",t)},n.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},n.prototype._onInput=function(){this.type!==he.SelectOne&&this.setWidth()},n.prototype._onPaste=function(t){this.preventPaste&&t.preventDefault()},n.prototype._onFocus=function(){this.isFocussed=!0},n.prototype._onBlur=function(){this.isFocussed=!1},n}(),Di=4,Wt=function(){function n(t){var e=t.element;this.element=e,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return n.prototype.prepend=function(t){var e=this.element.firstElementChild;e?this.element.insertBefore(t,e):this.element.append(t)},n.prototype.scrollToTop=function(){this.element.scrollTop=0},n.prototype.scrollToChildElement=function(t,e){var i=this;if(!!t){var r=this.element.offsetHeight,a=this.element.scrollTop+r,s=t.offsetHeight,c=t.offsetTop+s,d=e>0?this.element.scrollTop+c-a:t.offsetTop;requestAnimationFrame(function(){i._animateScroll(d,e)})}},n.prototype._scrollDown=function(t,e,i){var r=(i-t)/e,a=r>1?r:1;this.element.scrollTop=t+a},n.prototype._scrollUp=function(t,e,i){var r=(t-i)/e,a=r>1?r:1;this.element.scrollTop=t-a},n.prototype._animateScroll=function(t,e){var i=this,r=Di,a=this.element.scrollTop,s=!1;e>0?(this._scrollDown(a,r,t),a<t&&(s=!0)):(this._scrollUp(a,r,t),a>t&&(s=!0)),s&&requestAnimationFrame(function(){i._animateScroll(t,e)})},n}(),$t=function(){function n(t){var e=t.element,i=t.classNames;this.element=e,this.classNames=i,this.isDisabled=!1}return Object.defineProperty(n.prototype,"isActive",{get:function(){return this.element.dataset.choice==="active"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this.element.value},set:function(t){this.element.setAttribute("value",t),this.element.value=t},enumerable:!1,configurable:!0}),n.prototype.conceal=function(){var t=this.element;I(t,this.classNames.input),t.hidden=!0,t.tabIndex=-1;var e=t.getAttribute("style");e&&t.setAttribute("data-choice-orig-style",e),t.setAttribute("data-choice","active")},n.prototype.reveal=function(){var t=this.element;ae(t,this.classNames.input),t.hidden=!1,t.removeAttribute("tabindex");var e=t.getAttribute("data-choice-orig-style");e?(t.removeAttribute("data-choice-orig-style"),t.setAttribute("style",e)):t.removeAttribute("style"),t.removeAttribute("data-choice")},n.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},n.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},n.prototype.triggerEvent=function(t,e){yi(this.element,t,e||{})},n}(),Si=function(n){jt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}($t),ke=function(n,t){return t===void 0&&(t=!0),typeof n=="undefined"?t:!!n},Ut=function(n){if(typeof n=="string"&&(n=n.split(" ").filter(function(t){return t.length})),Array.isArray(n)&&n.length)return n},oe=function(n,t){if(typeof n=="string"){var e=oe({value:n,label:n},!1);return e}var i=n;if("choices"in i){if(!t)throw new TypeError("optGroup is not allowed");var r=i,a=r.choices.map(function(p){return oe(p,!1)}),s={id:0,label:_e(r.label)||r.value,active:!!a.length,disabled:!!r.disabled,choices:a};return s}var c=i,d={id:0,group:null,score:0,rank:0,value:c.value,label:c.label||c.value,active:ke(c.active),selected:ke(c.selected,!1),disabled:ke(c.disabled,!1),placeholder:ke(c.placeholder,!1),highlighted:!1,labelClass:Ut(c.labelClass),labelDescription:c.labelDescription,customProperties:c.customProperties};return d},Ii=function(n){return n.tagName==="INPUT"},Gt=function(n){return n.tagName==="SELECT"},Mi=function(n){return n.tagName==="OPTION"},xi=function(n){return n.tagName==="OPTGROUP"},Ai=function(n){jt(t,n);function t(e){var i=e.element,r=e.classNames,a=e.template,s=e.extractPlaceholder,c=n.call(this,{element:i,classNames:r})||this;return c.template=a,c.extractPlaceholder=s,c}return Object.defineProperty(t.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),t.prototype.addOptions=function(e){var i=this,r=document.createDocumentFragment();e.forEach(function(a){var s=a;if(!s.element){var c=i.template(s);r.appendChild(c),s.element=c}}),this.element.appendChild(r)},t.prototype.optionsAsChoices=function(){var e=this,i=[];return this.element.querySelectorAll(":scope > option, :scope > optgroup").forEach(function(r){Mi(r)?i.push(e._optionToChoice(r)):xi(r)&&i.push(e._optgroupToChoice(r))}),i},t.prototype._optionToChoice=function(e){return!e.hasAttribute("value")&&e.hasAttribute("placeholder")&&(e.setAttribute("value",""),e.value=""),{id:0,group:null,score:0,rank:0,value:e.value,label:e.innerHTML,element:e,active:!0,selected:this.extractPlaceholder?e.selected:e.hasAttribute("selected"),disabled:e.disabled,highlighted:!1,placeholder:this.extractPlaceholder&&(!e.value||e.hasAttribute("placeholder")),labelClass:typeof e.dataset.labelClass!="undefined"?Ut(e.dataset.labelClass):void 0,labelDescription:typeof e.dataset.labelDescription!="undefined"?e.dataset.labelDescription:void 0,customProperties:_i(e.dataset.customProperties)}},t.prototype._optgroupToChoice=function(e){var i=this,r=e.querySelectorAll("option"),a=Array.from(r).map(function(s){return i._optionToChoice(s)});return{id:0,label:e.label||"",element:e,active:!!a.length,disabled:e.disabled,choices:a}},t}($t),Ti={containerOuter:["choices"],containerInner:["choices__inner"],input:["choices__input"],inputCloned:["choices__input--cloned"],list:["choices__list"],listItems:["choices__list--multiple"],listSingle:["choices__list--single"],listDropdown:["choices__list--dropdown"],item:["choices__item"],itemSelectable:["choices__item--selectable"],itemDisabled:["choices__item--disabled"],itemChoice:["choices__item--choice"],description:["choices__description"],placeholder:["choices__placeholder"],group:["choices__group"],groupHeading:["choices__heading"],button:["choices__button"],activeState:["is-active"],focusState:["is-focused"],openState:["is-open"],disabledState:["is-disabled"],highlightedState:["is-highlighted"],selectedState:["is-selected"],flippedState:["is-flipped"],loadingState:["is-loading"],notice:["choices__notice"],addChoice:["choices__item--selectable","add-choice"],noResults:["has-no-results"],noChoices:["has-no-choices"]},zt={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,closeDropdownOnSelect:"auto",singleModeForMultiSelect:!1,addChoices:!1,addItems:!0,addItemFilter:function(n){return!!n&&n!==""},removeItems:!0,removeItemButton:!1,removeItemButtonAlignLeft:!1,editItems:!1,allowHTML:!1,allowHtmlUserInput:!1,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:gi,shadowRoot:null,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(n){return'Press Enter to add <b>"'.concat(n,'"</b>')},removeItemIconText:function(){return"Remove item"},removeItemLabelText:function(n){return"Remove item: ".concat(n)},maxItemText:function(n){return"Only ".concat(n," values can be added")},valueComparer:function(n,t){return n===t},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:Ti,appendGroupInSearch:!1},Jt=function(n){var t=n.itemEl;t&&(t.remove(),n.itemEl=void 0)};function Oi(n,t,e){var i=n,r=!0;switch(t.type){case j.ADD_ITEM:{t.item.selected=!0;var a=t.item.element;a&&(a.selected=!0,a.setAttribute("selected","")),i.push(t.item);break}case j.REMOVE_ITEM:{t.item.selected=!1;var a=t.item.element;if(a){a.selected=!1,a.removeAttribute("selected");var s=a.parentElement;s&&Gt(s)&&s.type===he.SelectOne&&(s.value="")}Jt(t.item),i=i.filter(function(h){return h.id!==t.item.id});break}case j.REMOVE_CHOICE:{Jt(t.choice),i=i.filter(function(p){return p.id!==t.choice.id});break}case j.HIGHLIGHT_ITEM:{var c=t.highlighted,d=i.find(function(p){return p.id===t.item.id});d&&d.highlighted!==c&&(d.highlighted=c,e&&Ci(d,c?e.classNames.highlightedState:e.classNames.selectedState,c?e.classNames.selectedState:e.classNames.highlightedState));break}default:{r=!1;break}}return{state:i,update:r}}function ki(n,t){var e=n,i=!0;switch(t.type){case j.ADD_GROUP:{e.push(t.group);break}case j.CLEAR_CHOICES:{e=[];break}default:{i=!1;break}}return{state:e,update:i}}function Fi(n,t,e){var i=n,r=!0;switch(t.type){case j.ADD_CHOICE:{i.push(t.choice);break}case j.REMOVE_CHOICE:{t.choice.choiceEl=void 0,t.choice.group&&(t.choice.group.choices=t.choice.group.choices.filter(function(s){return s.id!==t.choice.id})),i=i.filter(function(s){return s.id!==t.choice.id});break}case j.ADD_ITEM:case j.REMOVE_ITEM:{t.item.choiceEl=void 0;break}case j.FILTER_CHOICES:{var a=[];t.results.forEach(function(s){a[s.item.id]=s}),i.forEach(function(s){var c=a[s.id];c!==void 0?(s.score=c.score,s.rank=c.rank,s.active=!0):(s.score=0,s.rank=0,s.active=!1),e&&e.appendGroupInSearch&&(s.choiceEl=void 0)});break}case j.ACTIVATE_CHOICES:{i.forEach(function(s){s.active=t.active,e&&e.appendGroupInSearch&&(s.choiceEl=void 0)});break}case j.CLEAR_CHOICES:{i=[];break}default:{r=!1;break}}return{state:i,update:r}}var Xt={groups:ki,items:Oi,choices:Fi},Ni=function(){function n(t){this._state=this.defaultState,this._listeners=[],this._txn=0,this._context=t}return Object.defineProperty(n.prototype,"defaultState",{get:function(){return{groups:[],items:[],choices:[]}},enumerable:!1,configurable:!0}),n.prototype.changeSet=function(t){return{groups:t,items:t,choices:t}},n.prototype.reset=function(){this._state=this.defaultState;var t=this.changeSet(!0);this._txn?this._changeSet=t:this._listeners.forEach(function(e){return e(t)})},n.prototype.subscribe=function(t){return this._listeners.push(t),this},n.prototype.dispatch=function(t){var e=this,i=this._state,r=!1,a=this._changeSet||this.changeSet(!1);Object.keys(Xt).forEach(function(s){var c=Xt[s](i[s],t,e._context);c.update&&(r=!0,a[s]=!0,i[s]=c.state)}),r&&(this._txn?this._changeSet=a:this._listeners.forEach(function(s){return s(a)}))},n.prototype.withTxn=function(t){this._txn++;try{t()}finally{if(this._txn=Math.max(0,this._txn-1),!this._txn){var e=this._changeSet;e&&(this._changeSet=void 0,this._listeners.forEach(function(i){return i(e)}))}}},Object.defineProperty(n.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"highlightedActiveItems",{get:function(){return this.items.filter(function(t){return!t.disabled&&t.active&&t.highlighted})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"activeChoices",{get:function(){return this.choices.filter(function(t){return t.active})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"searchableChoices",{get:function(){return this.choices.filter(function(t){return!t.disabled&&!t.placeholder})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"activeGroups",{get:function(){var t=this;return this.state.groups.filter(function(e){var i=e.active&&!e.disabled,r=t.state.choices.some(function(a){return a.active&&!a.disabled});return i&&r},[])},enumerable:!1,configurable:!0}),n.prototype.inTxn=function(){return this._txn>0},n.prototype.getChoiceById=function(t){return this.activeChoices.find(function(e){return e.id===t})},n.prototype.getGroupById=function(t){return this.groups.find(function(e){return e.id===t})},n}(),V={noChoices:"no-choices",noResults:"no-results",addChoice:"add-choice",generic:""};function Li(n,t,e){return(t=Hi(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Qt(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Ie(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Qt(Object(e),!0).forEach(function(i){Li(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Qt(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Pi(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Hi(n){var t=Pi(n,"string");return typeof t=="symbol"?t:t+""}function ue(n){return Array.isArray?Array.isArray(n):tn(n)==="[object Array]"}const Ri=1/0;function ji(n){if(typeof n=="string")return n;let t=n+"";return t=="0"&&1/n==-Ri?"-0":t}function Yi(n){return n==null?"":ji(n)}function se(n){return typeof n=="string"}function Zt(n){return typeof n=="number"}function qi(n){return n===!0||n===!1||Bi(n)&&tn(n)=="[object Boolean]"}function en(n){return typeof n=="object"}function Bi(n){return en(n)&&n!==null}function Q(n){return n!=null}function dt(n){return!n.trim().length}function tn(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const ba="Extended search is not available",Ki="Incorrect 'index' type",Vi=n=>`Invalid value for key ${n}`,Wi=n=>`Pattern length exceeds max of ${n}.`,$i=n=>`Missing ${n} property in key`,Ui=n=>`Property 'weight' in key '${n}' must be a positive integer`,nn=Object.prototype.hasOwnProperty;class Gi{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach(i=>{let r=rn(i);this._keys.push(r),this._keyMap[r.id]=r,e+=r.weight}),this._keys.forEach(i=>{i.weight/=e})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function rn(n){let t=null,e=null,i=null,r=1,a=null;if(se(n)||ue(n))i=n,t=an(n),e=ft(n);else{if(!nn.call(n,"name"))throw new Error($i("name"));const s=n.name;if(i=s,nn.call(n,"weight")&&(r=n.weight,r<=0))throw new Error(Ui(s));t=an(s),e=ft(s),a=n.getFn}return{path:t,id:e,weight:r,src:i,getFn:a}}function an(n){return ue(n)?n:n.split(".")}function ft(n){return ue(n)?n.join("."):n}function zi(n,t){let e=[],i=!1;const r=(a,s,c)=>{if(!!Q(a))if(!s[c])e.push(a);else{let d=s[c];const p=a[d];if(!Q(p))return;if(c===s.length-1&&(se(p)||Zt(p)||qi(p)))e.push(Yi(p));else if(ue(p)){i=!0;for(let h=0,m=p.length;h<m;h+=1)r(p[h],s,c+1)}else s.length&&r(p,s,c+1)}};return r(n,se(t)?t.split("."):t,0),i?e:e[0]}const Ji={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Xi={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(n,t)=>n.score===t.score?n.idx<t.idx?-1:1:n.score<t.score?-1:1},Qi={location:0,threshold:.6,distance:100},Zi={useExtendedSearch:!1,getFn:zi,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var S=Ie(Ie(Ie(Ie({},Xi),Ji),Qi),Zi);const er=/[^ ]+/g;function tr(n=1,t=3){const e=new Map,i=Math.pow(10,t);return{get(r){const a=r.match(er).length;if(e.has(a))return e.get(a);const s=1/Math.pow(a,.5*n),c=parseFloat(Math.round(s*i)/i);return e.set(a,c),c},clear(){e.clear()}}}class ht{constructor({getFn:t=S.getFn,fieldNormWeight:e=S.fieldNormWeight}={}){this.norm=tr(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((e,i)=>{this._keysMap[e.id]=i})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,se(this.docs[0])?this.docs.forEach((t,e)=>{this._addString(t,e)}):this.docs.forEach((t,e)=>{this._addObject(t,e)}),this.norm.clear())}add(t){const e=this.size();se(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,i=this.size();e<i;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!Q(t)||dt(t))return;let i={v:t,i:e,n:this.norm.get(t)};this.records.push(i)}_addObject(t,e){let i={i:e,$:{}};this.keys.forEach((r,a)=>{let s=r.getFn?r.getFn(t):this.getFn(t,r.path);if(!!Q(s)){if(ue(s)){let c=[];const d=[{nestedArrIndex:-1,value:s}];for(;d.length;){const{nestedArrIndex:p,value:h}=d.pop();if(!!Q(h))if(se(h)&&!dt(h)){let m={v:h,i:p,n:this.norm.get(h)};c.push(m)}else ue(h)&&h.forEach((m,y)=>{d.push({nestedArrIndex:y,value:m})})}i.$[a]=c}else if(se(s)&&!dt(s)){let c={v:s,n:this.norm.get(s)};i.$[a]=c}}}),this.records.push(i)}toJSON(){return{keys:this.keys,records:this.records}}}function on(n,t,{getFn:e=S.getFn,fieldNormWeight:i=S.fieldNormWeight}={}){const r=new ht({getFn:e,fieldNormWeight:i});return r.setKeys(n.map(rn)),r.setSources(t),r.create(),r}function nr(n,{getFn:t=S.getFn,fieldNormWeight:e=S.fieldNormWeight}={}){const{keys:i,records:r}=n,a=new ht({getFn:t,fieldNormWeight:e});return a.setKeys(i),a.setIndexRecords(r),a}function Ue(n,{errors:t=0,currentLocation:e=0,expectedLocation:i=0,distance:r=S.distance,ignoreLocation:a=S.ignoreLocation}={}){const s=t/n.length;if(a)return s;const c=Math.abs(i-e);return r?s+c/r:c?1:s}function ir(n=[],t=S.minMatchCharLength){let e=[],i=-1,r=-1,a=0;for(let s=n.length;a<s;a+=1){let c=n[a];c&&i===-1?i=a:!c&&i!==-1&&(r=a-1,r-i+1>=t&&e.push([i,r]),i=-1)}return n[a-1]&&a-i>=t&&e.push([i,a-1]),e}const Ce=32;function rr(n,t,e,{location:i=S.location,distance:r=S.distance,threshold:a=S.threshold,findAllMatches:s=S.findAllMatches,minMatchCharLength:c=S.minMatchCharLength,includeMatches:d=S.includeMatches,ignoreLocation:p=S.ignoreLocation}={}){if(t.length>Ce)throw new Error(Wi(Ce));const h=t.length,m=n.length,y=Math.max(0,Math.min(i,m));let w=a,_=y;const v=c>1||d,O=v?Array(m):[];let A;for(;(A=n.indexOf(t,_))>-1;){let Y=Ue(t,{currentLocation:A,expectedLocation:y,distance:r,ignoreLocation:p});if(w=Math.min(Y,w),_=A+h,v){let W=0;for(;W<h;)O[A+W]=1,W+=1}}_=-1;let F=[],R=1,z=h+m;const Ne=1<<h-1;for(let Y=0;Y<h;Y+=1){let W=0,ne=z;for(;W<ne;)Ue(t,{errors:Y,currentLocation:y+ne,expectedLocation:y,distance:r,ignoreLocation:p})<=w?W=ne:z=ne,ne=Math.floor((z-W)/2+W);z=ne;let me=Math.max(1,y-ne+1),Le=s?m:Math.min(y+ne,m)+h,re=Array(Le+2);re[Le+1]=(1<<Y)-1;for(let Z=Le;Z>=me;Z-=1){let we=Z-1,ze=e[n.charAt(we)];if(v&&(O[we]=+!!ze),re[Z]=(re[Z+1]<<1|1)&ze,Y&&(re[Z]|=(F[Z+1]|F[Z])<<1|1|F[Z+1]),re[Z]&Ne&&(R=Ue(t,{errors:Y,currentLocation:we,expectedLocation:y,distance:r,ignoreLocation:p}),R<=w)){if(w=R,_=we,_<=y)break;me=Math.max(1,2*y-_)}}if(Ue(t,{errors:Y+1,currentLocation:y,expectedLocation:y,distance:r,ignoreLocation:p})>w)break;F=re}const ie={isMatch:_>=0,score:Math.max(.001,R)};if(v){const Y=ir(O,c);Y.length?d&&(ie.indices=Y):ie.isMatch=!1}return ie}function ar(n){let t={};for(let e=0,i=n.length;e<i;e+=1){const r=n.charAt(e);t[r]=(t[r]||0)|1<<i-e-1}return t}class sn{constructor(t,{location:e=S.location,threshold:i=S.threshold,distance:r=S.distance,includeMatches:a=S.includeMatches,findAllMatches:s=S.findAllMatches,minMatchCharLength:c=S.minMatchCharLength,isCaseSensitive:d=S.isCaseSensitive,ignoreLocation:p=S.ignoreLocation}={}){if(this.options={location:e,threshold:i,distance:r,includeMatches:a,findAllMatches:s,minMatchCharLength:c,isCaseSensitive:d,ignoreLocation:p},this.pattern=d?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const h=(y,w)=>{this.chunks.push({pattern:y,alphabet:ar(y),startIndex:w})},m=this.pattern.length;if(m>Ce){let y=0;const w=m%Ce,_=m-w;for(;y<_;)h(this.pattern.substr(y,Ce),y),y+=Ce;if(w){const v=m-Ce;h(this.pattern.substr(v),v)}}else h(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:i}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let _={isMatch:!0,score:0};return i&&(_.indices=[[0,t.length-1]]),_}const{location:r,distance:a,threshold:s,findAllMatches:c,minMatchCharLength:d,ignoreLocation:p}=this.options;let h=[],m=0,y=!1;this.chunks.forEach(({pattern:_,alphabet:v,startIndex:O})=>{const{isMatch:A,score:F,indices:R}=rr(t,_,v,{location:r+O,distance:a,threshold:s,findAllMatches:c,minMatchCharLength:d,includeMatches:i,ignoreLocation:p});A&&(y=!0),m+=F,A&&R&&(h=[...h,...R])});let w={isMatch:y,score:y?m/this.chunks.length:1};return y&&i&&(w.indices=h),w}}class pe{constructor(t){this.pattern=t}static isMultiMatch(t){return ln(t,this.multiRegex)}static isSingleMatch(t){return ln(t,this.singleRegex)}search(){}}function ln(n,t){const e=n.match(t);return e?e[1]:null}class or extends pe{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}class sr extends pe{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const i=t.indexOf(this.pattern)===-1;return{isMatch:i,score:i?0:1,indices:[0,t.length-1]}}}class lr extends pe{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}class cr extends pe{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}}class ur extends pe{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class dr extends pe{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}}class cn extends pe{constructor(t,{location:e=S.location,threshold:i=S.threshold,distance:r=S.distance,includeMatches:a=S.includeMatches,findAllMatches:s=S.findAllMatches,minMatchCharLength:c=S.minMatchCharLength,isCaseSensitive:d=S.isCaseSensitive,ignoreLocation:p=S.ignoreLocation}={}){super(t);this._bitapSearch=new sn(t,{location:e,threshold:i,distance:r,includeMatches:a,findAllMatches:s,minMatchCharLength:c,isCaseSensitive:d,ignoreLocation:p})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class un extends pe{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e=0,i;const r=[],a=this.pattern.length;for(;(i=t.indexOf(this.pattern,e))>-1;)e=i+a,r.push([i,e-1]);const s=!!r.length;return{isMatch:s,score:s?0:1,indices:r}}}const pt=[or,un,lr,cr,dr,ur,sr,cn],dn=pt.length,fr=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,hr="|";function pr(n,t={}){return n.split(hr).map(e=>{let i=e.trim().split(fr).filter(a=>a&&!!a.trim()),r=[];for(let a=0,s=i.length;a<s;a+=1){const c=i[a];let d=!1,p=-1;for(;!d&&++p<dn;){const h=pt[p];let m=h.isMultiMatch(c);m&&(r.push(new h(m,t)),d=!0)}if(!d)for(p=-1;++p<dn;){const h=pt[p];let m=h.isSingleMatch(c);if(m){r.push(new h(m,t));break}}}return r})}const mr=new Set([cn.type,un.type]);class gr{constructor(t,{isCaseSensitive:e=S.isCaseSensitive,includeMatches:i=S.includeMatches,minMatchCharLength:r=S.minMatchCharLength,ignoreLocation:a=S.ignoreLocation,findAllMatches:s=S.findAllMatches,location:c=S.location,threshold:d=S.threshold,distance:p=S.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:i,minMatchCharLength:r,findAllMatches:s,ignoreLocation:a,location:c,threshold:d,distance:p},this.pattern=e?t:t.toLowerCase(),this.query=pr(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:i,isCaseSensitive:r}=this.options;t=r?t:t.toLowerCase();let a=0,s=[],c=0;for(let d=0,p=e.length;d<p;d+=1){const h=e[d];s.length=0,a=0;for(let m=0,y=h.length;m<y;m+=1){const w=h[m],{isMatch:_,indices:v,score:O}=w.search(t);if(_){if(a+=1,c+=O,i){const A=w.constructor.type;mr.has(A)?s=[...s,...v]:s.push(v)}}else{c=0,a=0,s.length=0;break}}if(a){let m={isMatch:!0,score:c/a};return i&&(m.indices=s),m}}return{isMatch:!1,score:1}}}const mt=[];function vr(...n){mt.push(...n)}function gt(n,t){for(let e=0,i=mt.length;e<i;e+=1){let r=mt[e];if(r.condition(n,t))return new r(n,t)}return new sn(n,t)}const Ge={AND:"$and",OR:"$or"},vt={PATH:"$path",PATTERN:"$val"},yt=n=>!!(n[Ge.AND]||n[Ge.OR]),yr=n=>!!n[vt.PATH],br=n=>!ue(n)&&en(n)&&!yt(n),fn=n=>({[Ge.AND]:Object.keys(n).map(t=>({[t]:n[t]}))});function hn(n,t,{auto:e=!0}={}){const i=r=>{let a=Object.keys(r);const s=yr(r);if(!s&&a.length>1&&!yt(r))return i(fn(r));if(br(r)){const d=s?r[vt.PATH]:a[0],p=s?r[vt.PATTERN]:r[d];if(!se(p))throw new Error(Vi(d));const h={keyId:ft(d),pattern:p};return e&&(h.searcher=gt(p,t)),h}let c={children:[],operator:a[0]};return a.forEach(d=>{const p=r[d];ue(p)&&p.forEach(h=>{c.children.push(i(h))})}),c};return yt(n)||(n=fn(n)),i(n)}function _r(n,{ignoreFieldNorm:t=S.ignoreFieldNorm}){n.forEach(e=>{let i=1;e.matches.forEach(({key:r,norm:a,score:s})=>{const c=r?r.weight:null;i*=Math.pow(s===0&&c?Number.EPSILON:s,(c||1)*(t?1:a))}),e.score=i})}function Cr(n,t){const e=n.matches;t.matches=[],!!Q(e)&&e.forEach(i=>{if(!Q(i.indices)||!i.indices.length)return;const{indices:r,value:a}=i;let s={indices:r,value:a};i.key&&(s.key=i.key.src),i.idx>-1&&(s.refIndex=i.idx),t.matches.push(s)})}function Er(n,t){t.score=n.score}function wr(n,t,{includeMatches:e=S.includeMatches,includeScore:i=S.includeScore}={}){const r=[];return e&&r.push(Cr),i&&r.push(Er),n.map(a=>{const{idx:s}=a,c={item:t[s],refIndex:s};return r.length&&r.forEach(d=>{d(a,c)}),c})}class Me{constructor(t,e={},i){this.options=Ie(Ie({},S),e),this.options.useExtendedSearch,this._keyStore=new Gi(this.options.keys),this.setCollection(t,i)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof ht))throw new Error(Ki);this._myIndex=e||on(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){!Q(t)||(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const e=[];for(let i=0,r=this._docs.length;i<r;i+=1){const a=this._docs[i];t(a,i)&&(this.removeAt(i),i-=1,r-=1,e.push(a))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:i,includeScore:r,shouldSort:a,sortFn:s,ignoreFieldNorm:c}=this.options;let d=se(t)?se(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return _r(d,{ignoreFieldNorm:c}),a&&d.sort(s),Zt(e)&&e>-1&&(d=d.slice(0,e)),wr(d,this._docs,{includeMatches:i,includeScore:r})}_searchStringList(t){const e=gt(t,this.options),{records:i}=this._myIndex,r=[];return i.forEach(({v:a,i:s,n:c})=>{if(!Q(a))return;const{isMatch:d,score:p,indices:h}=e.searchIn(a);d&&r.push({item:a,idx:s,matches:[{score:p,value:a,norm:c,indices:h}]})}),r}_searchLogical(t){const e=hn(t,this.options),i=(c,d,p)=>{if(!c.children){const{keyId:m,searcher:y}=c,w=this._findMatches({key:this._keyStore.get(m),value:this._myIndex.getValueForItemAtKeyId(d,m),searcher:y});return w&&w.length?[{idx:p,item:d,matches:w}]:[]}const h=[];for(let m=0,y=c.children.length;m<y;m+=1){const w=c.children[m],_=i(w,d,p);if(_.length)h.push(..._);else if(c.operator===Ge.AND)return[]}return h},r=this._myIndex.records,a={},s=[];return r.forEach(({$:c,i:d})=>{if(Q(c)){let p=i(e,c,d);p.length&&(a[d]||(a[d]={idx:d,item:c,matches:[]},s.push(a[d])),p.forEach(({matches:h})=>{a[d].matches.push(...h)}))}}),s}_searchObjectList(t){const e=gt(t,this.options),{keys:i,records:r}=this._myIndex,a=[];return r.forEach(({$:s,i:c})=>{if(!Q(s))return;let d=[];i.forEach((p,h)=>{d.push(...this._findMatches({key:p,value:s[h],searcher:e}))}),d.length&&a.push({idx:c,item:s,matches:d})}),a}_findMatches({key:t,value:e,searcher:i}){if(!Q(e))return[];let r=[];if(ue(e))e.forEach(({v:a,i:s,n:c})=>{if(!Q(a))return;const{isMatch:d,score:p,indices:h}=i.searchIn(a);d&&r.push({score:p,key:t,value:a,idx:s,norm:c,indices:h})});else{const{v:a,n:s}=e,{isMatch:c,score:d,indices:p}=i.searchIn(a);c&&r.push({score:d,key:t,value:a,norm:s,indices:p})}return r}}Me.version="7.0.0",Me.createIndex=on,Me.parseIndex=nr,Me.config=S,Me.parseQuery=hn,vr(gr);var Dr=function(){function n(t){this._haystack=[],this._fuseOptions=U(U({},t.fuseOptions),{keys:ii([],t.searchFields,!0),includeMatches:!0})}return n.prototype.index=function(t){this._haystack=t,this._fuse&&this._fuse.setCollection(t)},n.prototype.reset=function(){this._haystack=[],this._fuse=void 0},n.prototype.isEmptyIndex=function(){return!this._haystack.length},n.prototype.search=function(t){this._fuse||(this._fuse=new Me(this._haystack,this._fuseOptions));var e=this._fuse.search(t);return e.map(function(i,r){return{item:i.item,score:i.score||0,rank:r+1}})},n}();function Sr(n){return new Dr(n)}var Ir=function(n){for(var t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0},bt=function(n,t,e){var i=n.dataset,r=t.customProperties,a=t.labelClass,s=t.labelDescription;a&&(i.labelClass=$e(a).join(" ")),s&&(i.labelDescription=s),e&&r&&(typeof r=="string"?i.customProperties=r:typeof r=="object"&&!Ir(r)&&(i.customProperties=JSON.stringify(r)))},pn=function(n,t,e){var i=t&&n.querySelector("label[for='".concat(t,"']")),r=i&&i.innerText;r&&e.setAttribute("aria-label",r)},Mr={containerOuter:function(n,t,e,i,r,a,s){var c=n.classNames.containerOuter,d=document.createElement("div");return I(d,c),d.dataset.type=a,t&&(d.dir=t),i&&(d.tabIndex=0),e&&(d.setAttribute("role",r?"combobox":"listbox"),r?d.setAttribute("aria-autocomplete","list"):s||pn(this._docRoot,this.passedElement.element.id,d),d.setAttribute("aria-haspopup","true"),d.setAttribute("aria-expanded","false")),s&&d.setAttribute("aria-labelledby",s),d},containerInner:function(n){var t=n.classNames.containerInner,e=document.createElement("div");return I(e,t),e},itemList:function(n,t){var e=n.searchEnabled,i=n.classNames,r=i.list,a=i.listSingle,s=i.listItems,c=document.createElement("div");return I(c,r),I(c,t?a:s),this._isSelectElement&&e&&c.setAttribute("role","listbox"),c},placeholder:function(n,t){var e=n.allowHTML,i=n.classNames.placeholder,r=document.createElement("div");return I(r,i),ce(r,e,t),r},item:function(n,t,e){var i=n.allowHTML,r=n.removeItemButtonAlignLeft,a=n.removeItemIconText,s=n.removeItemLabelText,c=n.classNames,d=c.item,p=c.button,h=c.highlightedState,m=c.itemSelectable,y=c.placeholder,w=_e(t.value),_=document.createElement("div");if(I(_,d),t.labelClass){var v=document.createElement("span");ce(v,i,t.label),I(v,t.labelClass),_.appendChild(v)}else ce(_,i,t.label);if(_.dataset.item="",_.dataset.id=t.id,_.dataset.value=w,bt(_,t,!0),(t.disabled||this.containerOuter.isDisabled)&&_.setAttribute("aria-disabled","true"),this._isSelectElement&&(_.setAttribute("aria-selected","true"),_.setAttribute("role","option")),t.placeholder&&(I(_,y),_.dataset.placeholder=""),I(_,t.highlighted?h:m),e){t.disabled&&ae(_,m),_.dataset.deletable="";var O=document.createElement("button");O.type="button",I(O,p),ce(O,!0,Te(a,t.value));var A=Te(s,t.value);A&&O.setAttribute("aria-label",A),O.dataset.button="",r?_.insertAdjacentElement("afterbegin",O):_.appendChild(O)}return _},choiceList:function(n,t){var e=n.classNames.list,i=document.createElement("div");return I(i,e),t||i.setAttribute("aria-multiselectable","true"),i.setAttribute("role","listbox"),i},choiceGroup:function(n,t){var e=n.allowHTML,i=n.classNames,r=i.group,a=i.groupHeading,s=i.itemDisabled,c=t.id,d=t.label,p=t.disabled,h=_e(d),m=document.createElement("div");I(m,r),p&&I(m,s),m.setAttribute("role","group"),m.dataset.group="",m.dataset.id=c,m.dataset.value=h,p&&m.setAttribute("aria-disabled","true");var y=document.createElement("div");return I(y,a),ce(y,e,d||""),m.appendChild(y),m},choice:function(n,t,e,i){var r=n.allowHTML,a=n.classNames,s=a.item,c=a.itemChoice,d=a.itemSelectable,p=a.selectedState,h=a.itemDisabled,m=a.description,y=a.placeholder,w=t.label,_=_e(t.value),v=document.createElement("div");v.id=t.elementId,I(v,s),I(v,c),i&&typeof w=="string"&&(w=ut(r,w),w+=" (".concat(i,")"),w={trusted:w});var O=v;if(t.labelClass){var A=document.createElement("span");ce(A,r,w),I(A,t.labelClass),O=A,v.appendChild(A)}else ce(v,r,w);if(t.labelDescription){var F="".concat(t.elementId,"-description");O.setAttribute("aria-describedby",F);var R=document.createElement("span");ce(R,r,t.labelDescription),R.id=F,I(R,m),v.appendChild(R)}return t.selected&&I(v,p),t.placeholder&&I(v,y),v.setAttribute("role",t.group?"treeitem":"option"),v.dataset.choice="",v.dataset.id=t.id,v.dataset.value=_,e&&(v.dataset.selectText=e),t.group&&(v.dataset.groupId="".concat(t.group.id)),bt(v,t,!1),t.disabled?(I(v,h),v.dataset.choiceDisabled="",v.setAttribute("aria-disabled","true")):(I(v,d),v.dataset.choiceSelectable=""),v},input:function(n,t){var e=n.classNames,i=e.input,r=e.inputCloned,a=n.labelId,s=document.createElement("input");return s.type="search",I(s,i),I(s,r),s.autocomplete="off",s.autocapitalize="off",s.spellcheck=!1,s.setAttribute("role","textbox"),s.setAttribute("aria-autocomplete","list"),t?s.setAttribute("aria-label",t):a||pn(this._docRoot,this.passedElement.element.id,s),s},dropdown:function(n){var t=n.classNames,e=t.list,i=t.listDropdown,r=document.createElement("div");return I(r,e),I(r,i),r.setAttribute("aria-expanded","false"),r},notice:function(n,t,e){var i=n.classNames,r=i.item,a=i.itemChoice,s=i.addChoice,c=i.noResults,d=i.noChoices,p=i.notice;e===void 0&&(e=V.generic);var h=document.createElement("div");switch(ce(h,!0,t),I(h,r),I(h,a),I(h,p),e){case V.addChoice:I(h,s);break;case V.noResults:I(h,c);break;case V.noChoices:I(h,d);break}return e===V.addChoice&&(h.dataset.choiceSelectable="",h.dataset.choice=""),h},option:function(n){var t=_e(n.label),e=new Option(t,n.value,!1,n.selected);return bt(e,n,!0),e.disabled=n.disabled,n.selected&&e.setAttribute("selected",""),e}},xr="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,Ar={},_t=function(n){if(!!n)return n.dataset.id?parseInt(n.dataset.id,10):void 0},Fe="[data-choice-selectable]",Tr=function(){function n(t,e){t===void 0&&(t="[data-choice]"),e===void 0&&(e={});var i=this;this.initialisedOK=void 0,this._hasNonChoicePlaceholder=!1,this._lastAddedChoiceId=0,this._lastAddedGroupId=0;var r=n.defaults;this.config=U(U(U({},r.allOptions),r.options),e),ri.forEach(function(A){i.config[A]=U(U(U({},r.allOptions[A]),r.options[A]),e[A])});var a=this.config;a.silent||this._validateConfig();var s=a.shadowRoot||document.documentElement;this._docRoot=s;var c=typeof t=="string"?s.querySelector(t):t;if(!c||typeof c!="object"||!(Ii(c)||Gt(c)))throw TypeError(!c&&typeof t=="string"?"Selector ".concat(t," failed to find an element"):"Expected one of the following types text|select-one|select-multiple");var d=c.type,p=d===he.Text;(p||a.maxItemCount!==1)&&(a.singleModeForMultiSelect=!1),a.singleModeForMultiSelect&&(d=he.SelectMultiple);var h=d===he.SelectOne,m=d===he.SelectMultiple,y=h||m;if(this._elementType=d,this._isTextElement=p,this._isSelectOneElement=h,this._isSelectMultipleElement=m,this._isSelectElement=h||m,this._canAddUserChoices=p&&a.addItems||y&&a.addChoices,typeof a.renderSelectedChoices!="boolean"&&(a.renderSelectedChoices=a.renderSelectedChoices==="always"||h),a.closeDropdownOnSelect==="auto"?a.closeDropdownOnSelect=p||h||a.singleModeForMultiSelect:a.closeDropdownOnSelect=ke(a.closeDropdownOnSelect),a.placeholder&&(a.placeholderValue?this._hasNonChoicePlaceholder=!0:c.dataset.placeholder&&(this._hasNonChoicePlaceholder=!0,a.placeholderValue=c.dataset.placeholder)),e.addItemFilter&&typeof e.addItemFilter!="function"){var w=e.addItemFilter instanceof RegExp?e.addItemFilter:new RegExp(e.addItemFilter);a.addItemFilter=w.test.bind(w)}if(this._isTextElement)this.passedElement=new Si({element:c,classNames:a.classNames});else{var _=c;this.passedElement=new Ai({element:_,classNames:a.classNames,template:function(A){return i._templates.option(A)},extractPlaceholder:a.placeholder&&!this._hasNonChoicePlaceholder})}if(this.initialised=!1,this._store=new Ni(a),this._currentValue="",a.searchEnabled=!p&&a.searchEnabled||m,this._canSearch=a.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=di(c,"choices-"),this._direction=c.dir,!this._direction){var v=window.getComputedStyle(c).direction,O=window.getComputedStyle(document.documentElement).direction;v!==O&&(this._direction=v)}if(this._idNames={itemChoice:"item-choice"},this._templates=r.templates,this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onInput=this._onInput.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive){a.silent||console.warn("Trying to initialise Choices on element already initialised",{element:t}),this.initialised=!0,this.initialisedOK=!1;return}this.init(),this._initialItems=this._store.items.map(function(A){return A.value})}return Object.defineProperty(n,"defaults",{get:function(){return Object.preventExtensions({get options(){return Ar},get allOptions(){return zt},get templates(){return Mr}})},enumerable:!1,configurable:!0}),n.prototype.init=function(){if(!(this.initialised||this.initialisedOK!==void 0)){this._searcher=Sr(this.config),this._loadChoices(),this._createTemplates(),this._createElements(),this._createStructure(),this._isTextElement&&!this.config.addItems||this.passedElement.element.hasAttribute("disabled")||!!this.passedElement.element.closest("fieldset:disabled")?this.disable():(this.enable(),this._addEventListeners()),this._initStore(),this.initialised=!0,this.initialisedOK=!0;var t=this.config.callbackOnInit;typeof t=="function"&&t.call(this)}},n.prototype.destroy=function(){!this.initialised||(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this._store._listeners=[],this.clearStore(!1),this._stopSearch(),this._templates=n.defaults.templates,this.initialised=!1,this.initialisedOK=void 0)},n.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},n.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},n.prototype.highlightItem=function(t,e){if(e===void 0&&(e=!0),!t||!t.id)return this;var i=this._store.items.find(function(r){return r.id===t.id});return!i||i.highlighted?this:(this._store.dispatch(Ve(i,!0)),e&&this.passedElement.triggerEvent(G.highlightItem,this._getChoiceForOutput(i)),this)},n.prototype.unhighlightItem=function(t,e){if(e===void 0&&(e=!0),!t||!t.id)return this;var i=this._store.items.find(function(r){return r.id===t.id});return!i||!i.highlighted?this:(this._store.dispatch(Ve(i,!1)),e&&this.passedElement.triggerEvent(G.unhighlightItem,this._getChoiceForOutput(i)),this)},n.prototype.highlightAll=function(){var t=this;return this._store.withTxn(function(){t._store.items.forEach(function(e){e.highlighted||(t._store.dispatch(Ve(e,!0)),t.passedElement.triggerEvent(G.highlightItem,t._getChoiceForOutput(e)))})}),this},n.prototype.unhighlightAll=function(){var t=this;return this._store.withTxn(function(){t._store.items.forEach(function(e){e.highlighted&&(t._store.dispatch(Ve(e,!1)),t.passedElement.triggerEvent(G.highlightItem,t._getChoiceForOutput(e)))})}),this},n.prototype.removeActiveItemsByValue=function(t){var e=this;return this._store.withTxn(function(){e._store.items.filter(function(i){return i.value===t}).forEach(function(i){return e._removeItem(i)})}),this},n.prototype.removeActiveItems=function(t){var e=this;return this._store.withTxn(function(){e._store.items.filter(function(i){var r=i.id;return r!==t}).forEach(function(i){return e._removeItem(i)})}),this},n.prototype.removeHighlightedItems=function(t){var e=this;return t===void 0&&(t=!1),this._store.withTxn(function(){e._store.highlightedActiveItems.forEach(function(i){e._removeItem(i),t&&e._triggerChange(i.value)})}),this},n.prototype.showDropdown=function(t){var e=this;return this.dropdown.isActive?this:(requestAnimationFrame(function(){e.dropdown.show();var i=e.dropdown.element.getBoundingClientRect();e.containerOuter.open(i.bottom,i.height),!t&&e._canSearch&&e.input.focus(),e.passedElement.triggerEvent(G.showDropdown)}),this)},n.prototype.hideDropdown=function(t){var e=this;return this.dropdown.isActive?(requestAnimationFrame(function(){e.dropdown.hide(),e.containerOuter.close(),!t&&e._canSearch&&(e.input.removeActiveDescendant(),e.input.blur()),e.passedElement.triggerEvent(G.hideDropdown)}),this):this},n.prototype.getValue=function(t){var e=this,i=this._store.items.map(function(r){return t?r.value:e._getChoiceForOutput(r)});return this._isSelectOneElement||this.config.singleModeForMultiSelect?i[0]:i},n.prototype.setValue=function(t){var e=this;return this.initialisedOK?(this._store.withTxn(function(){t.forEach(function(i){i&&e._addChoice(oe(i,!1))})}),this._searcher.reset(),this):(this._warnChoicesInitFailed("setValue"),this)},n.prototype.setChoiceByValue=function(t){var e=this;return this.initialisedOK?this._isTextElement?this:(this._store.withTxn(function(){var i=Array.isArray(t)?t:[t];i.forEach(function(r){return e._findAndSelectChoiceByValue(r)}),e.unhighlightAll()}),this._searcher.reset(),this):(this._warnChoicesInitFailed("setChoiceByValue"),this)},n.prototype.setChoices=function(t,e,i,r,a){var s=this;if(t===void 0&&(t=[]),e===void 0&&(e="value"),i===void 0&&(i="label"),r===void 0&&(r=!1),a===void 0&&(a=!0),!this.initialisedOK)return this._warnChoicesInitFailed("setChoices"),this;if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if(typeof e!="string"||!e)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(r&&this.clearChoices(),typeof t=="function"){var c=t(this);if(typeof Promise=="function"&&c instanceof Promise)return new Promise(function(d){return requestAnimationFrame(d)}).then(function(){return s._handleLoadingState(!0)}).then(function(){return c}).then(function(d){return s.setChoices(d,e,i,r)}).catch(function(d){s.config.silent||console.error(d)}).then(function(){return s._handleLoadingState(!1)}).then(function(){return s});if(!Array.isArray(c))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof c));return this.setChoices(c,e,i,!1)}if(!Array.isArray(t))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._store.withTxn(function(){a&&(s._isSearching=!1);var d=e==="value",p=i==="label";t.forEach(function(h){if("choices"in h){var m=h;p||(m=U(U({},m),{label:m[i]})),s._addGroup(oe(m,!0))}else{var y=h;(!p||!d)&&(y=U(U({},y),{value:y[e],label:y[i]})),s._addChoice(oe(y,!1))}}),s.unhighlightAll()}),this._searcher.reset(),this},n.prototype.refresh=function(t,e,i){var r=this;return t===void 0&&(t=!1),e===void 0&&(e=!1),i===void 0&&(i=!1),this._isSelectElement?(this._store.withTxn(function(){var a=r.passedElement.optionsAsChoices(),s={};i||r._store.items.forEach(function(d){d.id&&d.active&&d.selected&&!d.disabled&&(s[d.value]=!0)}),r.clearStore(!1);var c=function(d){i?r._store.dispatch(qt(d)):s[d.value]&&(d.selected=!0)};a.forEach(function(d){if("choices"in d){d.choices.forEach(c);return}c(d)}),r._addPredefinedChoices(a,e,t),r._isSearching&&r._searchChoices(r.input.value)}),this):(this.config.silent||console.warn("refresh method can only be used on choices backed by a <select> element"),this)},n.prototype.removeChoice=function(t){var e=this._store.choices.find(function(i){return i.value===t});return e?(this._clearNotice(),this._store.dispatch(Yt(e)),this._searcher.reset(),e.selected&&this.passedElement.triggerEvent(G.removeItem,this._getChoiceForOutput(e)),this):this},n.prototype.clearChoices=function(){var t=this;return this._store.withTxn(function(){t._store.choices.forEach(function(e){e.selected||t._store.dispatch(Yt(e))})}),this._searcher.reset(),this},n.prototype.clearStore=function(t){return t===void 0&&(t=!0),this._stopSearch(),t&&this.passedElement.element.replaceChildren(""),this.itemList.element.replaceChildren(""),this.choiceList.element.replaceChildren(""),this._store.reset(),this._lastAddedChoiceId=0,this._lastAddedGroupId=0,this._searcher.reset(),this},n.prototype.clearInput=function(){var t=!this._isSelectOneElement;return this.input.clear(t),this._stopSearch(),this},n.prototype._validateConfig=function(){var t=this.config,e=bi(t,zt);e.length&&console.warn("Unknown config option(s) passed",e.join(", ")),t.allowHTML&&t.allowHtmlUserInput&&(t.addItems&&console.warn("Warning: allowHTML/allowHtmlUserInput/addItems all being true is strongly not recommended and may lead to XSS attacks"),t.addChoices&&console.warn("Warning: allowHTML/allowHtmlUserInput/addChoices all being true is strongly not recommended and may lead to XSS attacks"))},n.prototype._render=function(t){t===void 0&&(t={choices:!0,groups:!0,items:!0}),!this._store.inTxn()&&(this._isSelectElement&&(t.choices||t.groups)&&this._renderChoices(),t.items&&this._renderItems())},n.prototype._renderChoices=function(){var t=this;if(!!this._canAddItems()){var e=this,i=e.config,r=e._isSearching,a=this._store,s=a.activeGroups,c=a.activeChoices,d=0;if(r&&i.searchResultLimit>0?d=i.searchResultLimit:i.renderChoiceLimit>0&&(d=i.renderChoiceLimit),this._isSelectElement){var p=c.filter(function(_){return!_.element});p.length&&this.passedElement.addOptions(p)}var h=document.createDocumentFragment(),m=function(_){return _.filter(function(v){return!v.placeholder&&(r?!!v.rank:i.renderSelectedChoices||!v.selected)})},y=!1,w=function(_,v,O){r?_.sort(vi):i.shouldSort&&_.sort(i.sorter);var A=_.length;A=!v&&d&&A>d?d:A,A--,_.every(function(F,R){var z=F.choiceEl||t._templates.choice(i,F,i.itemSelectText,O);return F.choiceEl=z,h.appendChild(z),!F.disabled&&(r||!F.selected)&&(y=!0),R<A})};c.length&&(i.resetScrollPosition&&requestAnimationFrame(function(){return t.choiceList.scrollToTop()}),!this._hasNonChoicePlaceholder&&!r&&this._isSelectOneElement&&w(c.filter(function(_){return _.placeholder&&!_.group}),!1,void 0),s.length&&!r?(i.shouldSort&&s.sort(i.sorter),w(c.filter(function(_){return!_.placeholder&&!_.group}),!1,void 0),s.forEach(function(_){var v=m(_.choices);if(v.length){if(_.label){var O=_.groupEl||t._templates.choiceGroup(t.config,_);_.groupEl=O,O.remove(),h.appendChild(O)}w(v,!0,i.appendGroupInSearch&&r?_.label:void 0)}})):w(m(c),!1,void 0)),y||(this._notice||(this._notice={text:Kt(r?i.noResultsText:i.noChoicesText),type:r?V.noResults:V.noChoices}),h.replaceChildren("")),this._renderNotice(h),this.choiceList.element.replaceChildren(h),y&&this._highlightChoice()}},n.prototype._renderItems=function(){var t=this,e=this._store.items||[],i=this.itemList.element,r=this.config,a=document.createDocumentFragment(),s=function(m){return i.querySelector('[data-item][data-id="'.concat(m.id,'"]'))},c=function(m){var y=m.itemEl;y&&y.parentElement||(y=s(m)||t._templates.item(r,m,r.removeItemButton),m.itemEl=y,a.appendChild(y))};e.forEach(c);var d=!!a.childNodes.length;if(this._isSelectOneElement&&this._hasNonChoicePlaceholder){var p=i.children.length;if(d||p>1){var h=i.querySelector(Oe(r.classNames.placeholder));h&&h.remove()}else p||(d=!0,c(oe({selected:!0,value:"",label:r.placeholderValue||"",placeholder:!0},!1)))}d&&(i.append(a),r.shouldSortItems&&!this._isSelectOneElement&&(e.sort(r.sorter),e.forEach(function(m){var y=s(m);y&&(y.remove(),a.append(y))}),i.append(a))),this._isTextElement&&(this.passedElement.value=e.map(function(m){var y=m.value;return y}).join(r.delimiter))},n.prototype._displayNotice=function(t,e,i){i===void 0&&(i=!0);var r=this._notice;if(r&&(r.type===e&&r.text===t||r.type===V.addChoice&&(e===V.noResults||e===V.noChoices))){i&&this.showDropdown(!0);return}this._clearNotice(),this._notice=t?{text:t,type:e}:void 0,this._renderNotice(),i&&t&&this.showDropdown(!0)},n.prototype._clearNotice=function(){if(!!this._notice){var t=this.choiceList.element.querySelector(Oe(this.config.classNames.notice));t&&t.remove(),this._notice=void 0}},n.prototype._renderNotice=function(t){var e=this._notice;if(e){var i=this._templates.notice(this.config,e.text,e.type);t?t.append(i):this.choiceList.prepend(i)}},n.prototype._getChoiceForOutput=function(t,e){return{id:t.id,highlighted:t.highlighted,labelClass:t.labelClass,labelDescription:t.labelDescription,customProperties:t.customProperties,disabled:t.disabled,active:t.active,label:t.label,placeholder:t.placeholder,value:t.value,groupValue:t.group?t.group.label:void 0,element:t.element,keyCode:e}},n.prototype._triggerChange=function(t){t!=null&&this.passedElement.triggerEvent(G.change,{value:t})},n.prototype._handleButtonAction=function(t){var e=this,i=this._store.items;if(!(!i.length||!this.config.removeItems||!this.config.removeItemButton)){var r=t&&_t(t.parentElement),a=r&&i.find(function(s){return s.id===r});!a||this._store.withTxn(function(){if(e._removeItem(a),e._triggerChange(a.value),e._isSelectOneElement&&!e._hasNonChoicePlaceholder){var s=e._store.choices.reverse().find(function(c){return!c.disabled&&c.placeholder});s&&(e._addItem(s),e.unhighlightAll(),s.value&&e._triggerChange(s.value))}})}},n.prototype._handleItemAction=function(t,e){var i=this;e===void 0&&(e=!1);var r=this._store.items;if(!(!r.length||!this.config.removeItems||this._isSelectOneElement)){var a=_t(t);!a||(r.forEach(function(s){s.id===a&&!s.highlighted?i.highlightItem(s):!e&&s.highlighted&&i.unhighlightItem(s)}),this.input.focus())}},n.prototype._handleChoiceAction=function(t){var e=this,i=_t(t),r=i&&this._store.getChoiceById(i);if(!r||r.disabled)return!1;var a=this.dropdown.isActive;if(!r.selected){if(!this._canAddItems())return!0;this._store.withTxn(function(){e._addItem(r,!0,!0),e.clearInput(),e.unhighlightAll()}),this._triggerChange(r.value)}return a&&this.config.closeDropdownOnSelect&&(this.hideDropdown(!0),this.containerOuter.element.focus()),!0},n.prototype._handleBackspace=function(t){var e=this.config;if(!(!e.removeItems||!t.length)){var i=t[t.length-1],r=t.some(function(a){return a.highlighted});e.editItems&&!r&&i?(this.input.value=i.value,this.input.setWidth(),this._removeItem(i),this._triggerChange(i.value)):(r||this.highlightItem(i,!1),this.removeHighlightedItems(!0))}},n.prototype._loadChoices=function(){var t,e=this.config;if(this._isTextElement){if(this._presetChoices=e.items.map(function(a){return oe(a,!1)}),this.passedElement.value){var i=this.passedElement.value.split(e.delimiter).map(function(a){return oe(a,!1)});this._presetChoices=this._presetChoices.concat(i)}this._presetChoices.forEach(function(a){a.selected=!0})}else if(this._isSelectElement){this._presetChoices=e.choices.map(function(a){return oe(a,!0)});var r=this.passedElement.optionsAsChoices();r&&(t=this._presetChoices).push.apply(t,r)}},n.prototype._handleLoadingState=function(t){t===void 0&&(t=!0);var e=this.itemList.element;t?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?e.replaceChildren(this._templates.placeholder(this.config,this.config.loadingText)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?(e.replaceChildren(""),this._render()):this.input.placeholder=this._placeholderValue||"")},n.prototype._handleSearch=function(t){if(!!this.input.isFocussed)if(t!==null&&typeof t!="undefined"&&t.length>=this.config.searchFloor){var e=this.config.searchChoices?this._searchChoices(t):0;e!==null&&this.passedElement.triggerEvent(G.search,{value:t,resultCount:e})}else this._store.choices.some(function(i){return!i.active})&&this._stopSearch()},n.prototype._canAddItems=function(){var t=this.config,e=t.maxItemCount,i=t.maxItemText;return!t.singleModeForMultiSelect&&e>0&&e<=this._store.items.length?(this.choiceList.element.replaceChildren(""),this._displayNotice(typeof i=="function"?i(e):i,V.addChoice),!1):!0},n.prototype._canCreateItem=function(t){var e=this.config,i=!0,r="";if(i&&typeof e.addItemFilter=="function"&&!e.addItemFilter(t)&&(i=!1,r=Te(e.customAddItemText,t)),i){var a=this._store.choices.find(function(s){return e.valueComparer(s.value,t)});if(this._isSelectElement){if(a)return this._displayNotice("",V.addChoice),!1}else this._isTextElement&&!e.duplicateItemsAllowed&&a&&(i=!1,r=Te(e.uniqueItemText,t))}return i&&(r=Te(e.addItemText,t)),r&&this._displayNotice(r,V.addChoice),i},n.prototype._searchChoices=function(t){var e=t.trim().replace(/\s{2,}/," ");if(!e.length||e===this._currentValue)return null;var i=this._searcher;i.isEmptyIndex()&&i.index(this._store.searchableChoices);var r=i.search(e);this._currentValue=e,this._highlightPosition=0,this._isSearching=!0;var a=this._notice,s=a&&a.type;return s!==V.addChoice&&(r.length?this._clearNotice():this._displayNotice(Kt(this.config.noResultsText),V.noResults)),this._store.dispatch(oi(r)),r.length},n.prototype._stopSearch=function(){this._isSearching&&(this._currentValue="",this._isSearching=!1,this._clearNotice(),this._store.dispatch(si(!0)),this.passedElement.triggerEvent(G.search,{value:"",resultCount:0}))},n.prototype._addEventListeners=function(){var t=this._docRoot,e=this.containerOuter.element,i=this.input.element;t.addEventListener("touchend",this._onTouchEnd,!0),e.addEventListener("keydown",this._onKeyDown,!0),e.addEventListener("mousedown",this._onMouseDown,!0),t.addEventListener("click",this._onClick,{passive:!0}),t.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(e.addEventListener("focus",this._onFocus,{passive:!0}),e.addEventListener("blur",this._onBlur,{passive:!0})),i.addEventListener("keyup",this._onKeyUp,{passive:!0}),i.addEventListener("input",this._onInput,{passive:!0}),i.addEventListener("focus",this._onFocus,{passive:!0}),i.addEventListener("blur",this._onBlur,{passive:!0}),i.form&&i.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},n.prototype._removeEventListeners=function(){var t=this._docRoot,e=this.containerOuter.element,i=this.input.element;t.removeEventListener("touchend",this._onTouchEnd,!0),e.removeEventListener("keydown",this._onKeyDown,!0),e.removeEventListener("mousedown",this._onMouseDown,!0),t.removeEventListener("click",this._onClick),t.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur)),i.removeEventListener("keyup",this._onKeyUp),i.removeEventListener("input",this._onInput),i.removeEventListener("focus",this._onFocus),i.removeEventListener("blur",this._onBlur),i.form&&i.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},n.prototype._onKeyDown=function(t){var e=t.keyCode,i=this.dropdown.isActive,r=t.key.length===1||t.key.length===2&&t.key.charCodeAt(0)>=55296||t.key==="Unidentified";switch(!this._isTextElement&&!i&&(this.showDropdown(),!this.input.isFocussed&&r&&(this.input.value+=t.key,t.key===" "&&t.preventDefault())),e){case 65:return this._onSelectKey(t,this.itemList.element.hasChildNodes());case 13:return this._onEnterKey(t,i);case 27:return this._onEscapeKey(t,i);case 38:case 33:case 40:case 34:return this._onDirectionKey(t,i);case 8:case 46:return this._onDeleteKey(t,this._store.items,this.input.isFocussed)}},n.prototype._onKeyUp=function(){this._canSearch=this.config.searchEnabled},n.prototype._onInput=function(){var t=this.input.value;if(!t){this._isTextElement?this.hideDropdown(!0):this._stopSearch();return}!this._canAddItems()||(this._canSearch&&this._handleSearch(t),!!this._canAddUserChoices&&(this._canCreateItem(t),this._isSelectElement&&(this._highlightPosition=0,this._highlightChoice())))},n.prototype._onSelectKey=function(t,e){if((t.ctrlKey||t.metaKey)&&e){this._canSearch=!1;var i=this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement;i&&this.highlightAll()}},n.prototype._onEnterKey=function(t,e){var i=this,r=this.input.value,a=t.target;if(t.preventDefault(),a&&a.hasAttribute("data-button")){this._handleButtonAction(a);return}if(!e){(this._isSelectElement||this._notice)&&this.showDropdown();return}var s=this.dropdown.element.querySelector(Oe(this.config.classNames.highlightedState));if(!(s&&this._handleChoiceAction(s))){if(!a||!r){this.hideDropdown(!0);return}if(!!this._canAddItems()){var c=!1;this._store.withTxn(function(){if(c=i._findAndSelectChoiceByValue(r,!0),!c){if(!i._canAddUserChoices||!i._canCreateItem(r))return;var d=We(r),p=i.config.allowHtmlUserInput||d===r?r:{escaped:d,raw:r};i._addChoice(oe({value:p,label:p,selected:!0},!1),!0,!0),c=!0}i.clearInput(),i.unhighlightAll()}),!!c&&(this._triggerChange(r),this.config.closeDropdownOnSelect&&this.hideDropdown(!0))}}},n.prototype._onEscapeKey=function(t,e){e&&(t.stopPropagation(),this.hideDropdown(!0),this.containerOuter.element.focus())},n.prototype._onDirectionKey=function(t,e){var i=t.keyCode;if(e||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var r=i===40||i===34?1:-1,a=t.metaKey||i===34||i===33,s=void 0;if(a)r>0?s=this.dropdown.element.querySelector("".concat(Fe,":last-of-type")):s=this.dropdown.element.querySelector(Fe);else{var c=this.dropdown.element.querySelector(Oe(this.config.classNames.highlightedState));c?s=fi(c,Fe,r):s=this.dropdown.element.querySelector(Fe)}s&&(hi(s,this.choiceList.element,r)||this.choiceList.scrollToChildElement(s,r),this._highlightChoice(s)),t.preventDefault()}},n.prototype._onDeleteKey=function(t,e,i){!this._isSelectOneElement&&!t.target.value&&i&&(this._handleBackspace(e),t.preventDefault())},n.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},n.prototype._onTouchEnd=function(t){var e=(t||t.touches[0]).target,i=this._wasTap&&this.containerOuter.element.contains(e);if(i){var r=e===this.containerOuter.element||e===this.containerInner.element;r&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),t.stopPropagation()}this._wasTap=!0},n.prototype._onMouseDown=function(t){var e=t.target;if(e instanceof HTMLElement){if(xr&&this.choiceList.element.contains(e)){var i=this.choiceList.element.firstElementChild;this._isScrollingOnIe=this._direction==="ltr"?t.offsetX>=i.offsetWidth:t.offsetX<i.offsetLeft}if(e!==this.input.element){var r=e.closest("[data-button],[data-item],[data-choice]");r instanceof HTMLElement&&("button"in r.dataset?this._handleButtonAction(r):"item"in r.dataset?this._handleItemAction(r,t.shiftKey):"choice"in r.dataset&&this._handleChoiceAction(r)),t.preventDefault()}}},n.prototype._onMouseOver=function(t){var e=t.target;e instanceof HTMLElement&&"choice"in e.dataset&&this._highlightChoice(e)},n.prototype._onClick=function(t){var e=t.target,i=this.containerOuter,r=i.element.contains(e);r?!this.dropdown.isActive&&!i.isDisabled?this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),i.element.focus()):this._isSelectOneElement&&e!==this.input.element&&!this.dropdown.element.contains(e)&&this.hideDropdown():(i.removeFocusState(),this.hideDropdown(!0),this.unhighlightAll())},n.prototype._onFocus=function(t){var e=t.target,i=this.containerOuter,r=e&&i.element.contains(e);if(!!r){var a=e===this.input.element;this._isTextElement?a&&i.addFocusState():this._isSelectMultipleElement?a&&(this.showDropdown(!0),i.addFocusState()):(i.addFocusState(),a&&this.showDropdown(!0))}},n.prototype._onBlur=function(t){var e=t.target,i=this.containerOuter,r=e&&i.element.contains(e);if(r&&!this._isScrollingOnIe){var a=e===this.input.element;this._isTextElement||this._isSelectMultipleElement?a&&(i.removeFocusState(),this.hideDropdown(!0),this.unhighlightAll()):(i.removeFocusState(),(a||e===i.element&&!this._canSearch)&&this.hideDropdown(!0))}else this._isScrollingOnIe=!1,this.input.element.focus()},n.prototype._onFormReset=function(){var t=this;this._store.withTxn(function(){t.clearInput(),t.hideDropdown(),t.refresh(!1,!1,!0),t._initialItems.length&&t.setChoiceByValue(t._initialItems)})},n.prototype._highlightChoice=function(t){t===void 0&&(t=null);var e=Array.from(this.dropdown.element.querySelectorAll(Fe));if(!!e.length){var i=t,r=this.config.classNames.highlightedState,a=Array.from(this.dropdown.element.querySelectorAll(Oe(r)));a.forEach(function(s){ae(s,r),s.setAttribute("aria-selected","false")}),i?this._highlightPosition=e.indexOf(i):(e.length>this._highlightPosition?i=e[this._highlightPosition]:i=e[e.length-1],i||(i=e[0])),I(i,r),i.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(G.highlightChoice,{el:i}),this.dropdown.isActive&&(this.input.setActiveDescendant(i.id),this.containerOuter.setActiveDescendant(i.id))}},n.prototype._addItem=function(t,e,i){if(e===void 0&&(e=!0),i===void 0&&(i=!1),!t.id)throw new TypeError("item.id must be set before _addItem is called for a choice/item");(this.config.singleModeForMultiSelect||this._isSelectOneElement)&&this.removeActiveItems(t.id),this._store.dispatch(ci(t)),e&&(this.passedElement.triggerEvent(G.addItem,this._getChoiceForOutput(t)),i&&this.passedElement.triggerEvent(G.choice,this._getChoiceForOutput(t)))},n.prototype._removeItem=function(t){!t.id||(this._store.dispatch(qt(t)),this.passedElement.triggerEvent(G.removeItem,this._getChoiceForOutput(t)))},n.prototype._addChoice=function(t,e,i){if(e===void 0&&(e=!0),i===void 0&&(i=!1),t.id)throw new TypeError("Can not re-add a choice which has already been added");var r=this.config;if(!((this._isSelectElement||!r.duplicateItemsAllowed)&&this._store.choices.find(function(c){return r.valueComparer(c.value,t.value)}))){this._lastAddedChoiceId++,t.id=this._lastAddedChoiceId,t.elementId="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(t.id);var a=r.prependValue,s=r.appendValue;a&&(t.value=a+t.value),s&&(t.value+=s.toString()),(a||s)&&t.element&&(t.element.value=t.value),this._clearNotice(),this._store.dispatch(ai(t)),t.selected&&this._addItem(t,e,i)}},n.prototype._addGroup=function(t,e){var i=this;if(e===void 0&&(e=!0),t.id)throw new TypeError("Can not re-add a group which has already been added");this._store.dispatch(li(t)),!!t.choices&&(this._lastAddedGroupId++,t.id=this._lastAddedGroupId,t.choices.forEach(function(r){r.group=t,t.disabled&&(r.disabled=!0),i._addChoice(r,e)}))},n.prototype._createTemplates=function(){var t=this,e=this.config.callbackOnCreateTemplates,i={};typeof e=="function"&&(i=e.call(this,pi,ut,$e));var r={};Object.keys(this._templates).forEach(function(a){a in i?r[a]=i[a].bind(t):r[a]=t._templates[a].bind(t)}),this._templates=r},n.prototype._createElements=function(){var t=this._templates,e=this,i=e.config,r=e._isSelectOneElement,a=i.position,s=i.classNames,c=this._elementType;this.containerOuter=new Vt({element:t.containerOuter(i,this._direction,this._isSelectElement,r,i.searchEnabled,c,i.labelId),classNames:s,type:c,position:a}),this.containerInner=new Vt({element:t.containerInner(i),classNames:s,type:c,position:a}),this.input=new wi({element:t.input(i,this._placeholderValue),classNames:s,type:c,preventPaste:!i.paste}),this.choiceList=new Wt({element:t.choiceList(i,r)}),this.itemList=new Wt({element:t.itemList(i,r)}),this.dropdown=new Ei({element:t.dropdown(i),classNames:s,type:c})},n.prototype._createStructure=function(){var t=this,e=t.containerInner,i=t.containerOuter,r=t.passedElement,a=this.dropdown.element;r.conceal(),e.wrap(r.element),i.wrap(e.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":(this._placeholderValue&&(this.input.placeholder=this._placeholderValue),this.input.setWidth()),i.element.appendChild(e.element),i.element.appendChild(a),e.element.appendChild(this.itemList.element),a.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&a.insertBefore(this.input.element,a.firstChild):e.element.appendChild(this.input.element),this._highlightPosition=0,this._isSearching=!1},n.prototype._initStore=function(){var t=this;this._store.subscribe(this._render).withTxn(function(){t._addPredefinedChoices(t._presetChoices,t._isSelectOneElement&&!t._hasNonChoicePlaceholder,!1)}),(!this._store.choices.length||this._isSelectOneElement&&this._hasNonChoicePlaceholder)&&this._render()},n.prototype._addPredefinedChoices=function(t,e,i){var r=this;if(e===void 0&&(e=!1),i===void 0&&(i=!0),e){var a=t.findIndex(function(s){return s.selected})===-1;a&&t.some(function(s){return s.disabled||"choices"in s?!1:(s.selected=!0,!0)})}t.forEach(function(s){"choices"in s?r._isSelectElement&&r._addGroup(s,i):r._addChoice(s,i)})},n.prototype._findAndSelectChoiceByValue=function(t,e){var i=this;e===void 0&&(e=!1);var r=this._store.choices.find(function(a){return i.config.valueComparer(a.value,t)});return r&&!r.disabled&&!r.selected?(this._addItem(r,!0,e),!0):!1},n.prototype._generatePlaceholderValue=function(){var t=this.config;if(!t.placeholder)return null;if(this._hasNonChoicePlaceholder)return t.placeholderValue;if(this._isSelectElement){var e=this.passedElement.placeholderOption;return e?e.text:null}return null},n.prototype._warnChoicesInitFailed=function(t){if(!this.config.silent)if(this.initialised){if(!this.initialisedOK)throw new TypeError("".concat(t," called for an element which has multiple instances of Choices initialised on it"))}else throw new TypeError("".concat(t," called on a non-initialised instance of Choices"))},n.version="11.0.2",n}();function Or(){return fe(this,null,function*(){const n="https://restcountries.com/v3.1/all";try{const t=yield fetch(n);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return yield t.json()}catch(t){return console.error("Error fetching countries:",t),[]}})}const kr=()=>fe(this,null,function*(){const n=document.querySelector("#i-country");if(!n){console.warn("Country select element not found");return}try{const t=new Tr(n,{searchEnabled:!0,searchPlaceholderValue:"Search for a country",placeholder:!0,placeholderValue:"Select a country",removeItemButton:!0,silent:!0}),e=yield Or(),i=Fr(e);t.setChoices(i,"value","label",!0)}catch(t){console.error("Error initializing country select:",t)}});function Fr(n){return n.sort((t,e)=>t.name.common.localeCompare(e.name.common)).map(t=>({value:t.cca2,label:t.name.common}))}const Nr=()=>fe(this,null,function*(){try{const n=document.querySelector("#booking_form");if(!n)throw new Error("Booking form not found");n.classList.add("loading"),yield kr(),yield Promise.all([Rn(),Kn(),Yn(),Un()]),Lr(),Ke(),n.classList.remove("loading")}catch(n){console.error("Error initializing booking form:",n),mn("There was an error loading the booking form. Please refresh the page.")}}),Lr=()=>{const n=document.querySelector("#wf-form-Booking-form");!n||n.addEventListener("submit",t=>fe(this,null,function*(){t.preventDefault();try{if(n.classList.add("submitting"),!Hr(n))throw new Error("Please fill in all required fields");const e=new FormData(n);yield Pr(e),Rr("Booking submitted successfully!")}catch(e){console.error("Form submission error:",e),mn(e.message)}finally{n.classList.remove("submitting")}}))},Pr=n=>fe(this,null,function*(){console.log("Form data:",Object.fromEntries(n))}),Hr=n=>{const t=n.querySelectorAll("[required]");return Array.from(t).every(e=>e.value.trim()!=="")},mn=n=>{const t=document.querySelector(".error-alert-bg");t&&(t.querySelector(".error-alert-text").textContent=n,t.classList.remove("is-hidden"),setTimeout(()=>t.classList.add("is-hidden"),5e3))},Rr=n=>{const t=document.querySelector(".success-alert-bg");t&&(t.querySelector(".success-alert-text").textContent=n,t.classList.remove("is-hidden"),setTimeout(()=>t.classList.add("is-hidden"),5e3))};Nr()})();
//# sourceMappingURL=index.js.map
